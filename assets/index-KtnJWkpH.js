function rF(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var cA={exports:{}},Xm={},fA={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),aF=Symbol.for("react.portal"),iF=Symbol.for("react.fragment"),sF=Symbol.for("react.strict_mode"),oF=Symbol.for("react.profiler"),uF=Symbol.for("react.provider"),lF=Symbol.for("react.context"),cF=Symbol.for("react.forward_ref"),fF=Symbol.for("react.suspense"),dF=Symbol.for("react.memo"),mF=Symbol.for("react.lazy"),ib=Symbol.iterator;function hF(t){return t===null||typeof t!="object"?null:(t=ib&&t[ib]||t["@@iterator"],typeof t=="function"?t:null)}var dA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,hA={};function qu(t,e,r){this.props=t,this.context=e,this.refs=hA,this.updater=r||dA}qu.prototype.isReactComponent={};qu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pA(){}pA.prototype=qu.prototype;function Vg(t,e,r){this.props=t,this.context=e,this.refs=hA,this.updater=r||dA}var Ug=Vg.prototype=new pA;Ug.constructor=Vg;mA(Ug,qu.prototype);Ug.isPureReactComponent=!0;var sb=Array.isArray,vA=Object.prototype.hasOwnProperty,qg={current:null},gA={key:!0,ref:!0,__self:!0,__source:!0};function yA(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)vA.call(e,n)&&!gA.hasOwnProperty(n)&&(a[n]=e[n]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var l=Array(u),o=0;o<u;o++)l[o]=arguments[o+2];a.children=l}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:Vc,type:t,key:i,ref:s,props:a,_owner:qg.current}}function pF(t,e){return{$$typeof:Vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vc}function vF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ob=/\/+/g;function cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vF(""+t.key):e.toString(36)}function vd(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Vc:case aF:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+cp(s,0):n,sb(a)?(r="",t!=null&&(r=t.replace(ob,"$&/")+"/"),vd(a,e,r,"",function(o){return o})):a!=null&&(Hg(a)&&(a=pF(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(ob,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",sb(t))for(var u=0;u<t.length;u++){i=t[u];var l=n+cp(i,u);s+=vd(i,e,r,l,a)}else if(l=hF(t),typeof l=="function")for(t=l.call(t),u=0;!(i=t.next()).done;)i=i.value,l=n+cp(i,u++),s+=vd(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Df(t,e,r){if(t==null)return t;var n=[],a=0;return vd(t,n,"","",function(i){return e.call(r,i,a++)}),n}function gF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},gd={transition:null},yF={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:gd,ReactCurrentOwner:qg};function xA(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Df,forEach:function(t,e,r){Df(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!Hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=qu;_t.Fragment=iF;_t.Profiler=oF;_t.PureComponent=Vg;_t.StrictMode=sF;_t.Suspense=fF;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yF;_t.act=xA;_t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=mA({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=qg.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)vA.call(e,l)&&!gA.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){u=Array(l);for(var o=0;o<l;o++)u[o]=arguments[o+2];n.children=u}return{$$typeof:Vc,type:t.type,key:a,ref:i,props:n,_owner:s}};_t.createContext=function(t){return t={$$typeof:lF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uF,_context:t},t.Consumer=t};_t.createElement=yA;_t.createFactory=function(t){var e=yA.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:cF,render:t}};_t.isValidElement=Hg;_t.lazy=function(t){return{$$typeof:mF,_payload:{_status:-1,_result:t},_init:gF}};_t.memo=function(t,e){return{$$typeof:dF,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};_t.unstable_act=xA;_t.useCallback=function(t,e){return Cn.current.useCallback(t,e)};_t.useContext=function(t){return Cn.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};_t.useEffect=function(t,e){return Cn.current.useEffect(t,e)};_t.useId=function(){return Cn.current.useId()};_t.useImperativeHandle=function(t,e,r){return Cn.current.useImperativeHandle(t,e,r)};_t.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return Cn.current.useMemo(t,e)};_t.useReducer=function(t,e,r){return Cn.current.useReducer(t,e,r)};_t.useRef=function(t){return Cn.current.useRef(t)};_t.useState=function(t){return Cn.current.useState(t)};_t.useSyncExternalStore=function(t,e,r){return Cn.current.useSyncExternalStore(t,e,r)};_t.useTransition=function(){return Cn.current.useTransition()};_t.version="18.3.1";fA.exports=_t;var W=fA.exports;const xF=Qm(W),bF=rF({__proto__:null,default:xF},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF=W,NF=Symbol.for("react.element"),_F=Symbol.for("react.fragment"),EF=Object.prototype.hasOwnProperty,SF=wF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AF={key:!0,ref:!0,__self:!0,__source:!0};function bA(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)EF.call(e,n)&&!AF.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:NF,type:t,key:i,ref:s,props:a,_owner:SF.current}}Xm.Fragment=_F;Xm.jsx=bA;Xm.jsxs=bA;cA.exports=Xm;var p=cA.exports,wA={exports:{}},Jn={},NA={exports:{}},_A={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,k){var V=$.length;$.push(k);e:for(;0<V;){var ee=V-1>>>1,j=$[ee];if(0<a(j,k))$[ee]=k,$[V]=j,V=ee;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var k=$[0],V=$.pop();if(V!==k){$[0]=V;e:for(var ee=0,j=$.length,X=j>>>1;ee<X;){var U=2*(ee+1)-1,de=$[U],ue=U+1,le=$[ue];if(0>a(de,V))ue<j&&0>a(le,de)?($[ee]=le,$[ue]=V,ee=ue):($[ee]=de,$[U]=V,ee=U);else if(ue<j&&0>a(le,V))$[ee]=le,$[ue]=V,ee=ue;else break e}}return k}function a($,k){var V=$.sortIndex-k.sortIndex;return V!==0?V:$.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],o=[],c=1,f=null,d=3,m=!1,h=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var k=r(o);k!==null;){if(k.callback===null)n(o);else if(k.startTime<=$)n(o),k.sortIndex=k.expirationTime,e(l,k);else break;k=r(o)}}function M($){if(v=!1,N($),!h)if(r(l)!==null)h=!0,P(y);else{var k=r(o);k!==null&&L(M,k.startTime-$)}}function y($,k){h=!1,v&&(v=!1,S(g),g=-1),m=!0;var V=d;try{for(N(k),f=r(l);f!==null&&(!(f.expirationTime>k)||$&&!b());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var j=ee(f.expirationTime<=k);k=t.unstable_now(),typeof j=="function"?f.callback=j:f===r(l)&&n(l),N(k)}else n(l);f=r(l)}if(f!==null)var X=!0;else{var U=r(o);U!==null&&L(M,U.startTime-k),X=!1}return X}finally{f=null,d=V,m=!1}}var x=!1,w=null,g=-1,_=5,E=-1;function b(){return!(t.unstable_now()-E<_)}function A(){if(w!==null){var $=t.unstable_now();E=$;var k=!0;try{k=w(!0,$)}finally{k?I():(x=!1,w=null)}}else x=!1}var I;if(typeof C=="function")I=function(){C(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=A,I=function(){B.postMessage(null)}}else I=function(){T(A,0)};function P($){w=$,x||(x=!0,I())}function L($,k){g=T(function(){$(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,P(y))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var V=d;d=k;try{return $()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,k){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=d;d=$;try{return k()}finally{d=V}},t.unstable_scheduleCallback=function($,k,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,$={id:c++,callback:k,priorityLevel:$,startTime:V,expirationTime:j,sortIndex:-1},V>ee?($.sortIndex=V,e(o,$),r(l)===null&&$===r(o)&&(v?(S(g),g=-1):v=!0,L(M,V-ee))):($.sortIndex=j,e(l,$),h||m||(h=!0,P(y))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var k=d;return function(){var V=d;d=k;try{return $.apply(this,arguments)}finally{d=V}}}})(_A);NA.exports=_A;var DF=NA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CF=W,Xn=DF;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EA=new Set,oc={};function fo(t,e){Nu(t,e),Nu(t+"Capture",e)}function Nu(t,e){for(oc[t]=e,t=0;t<e.length;t++)EA.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rv=Object.prototype.hasOwnProperty,TF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ub={},lb={};function MF(t){return rv.call(lb,t)?!0:rv.call(ub,t)?!1:TF.test(t)?lb[t]=!0:(ub[t]=!0,!1)}function IF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PF(t,e,r,n){if(e===null||typeof e>"u"||IF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Wg);an[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Wg);an[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Wg);an[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,r,n){var a=an.hasOwnProperty(e)?an[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PF(e,r,a,n)&&(r=null),n||a===null?MF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Si=CF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cf=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),nv=Symbol.for("react.profiler"),SA=Symbol.for("react.provider"),AA=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),iv=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),DA=Symbol.for("react.offscreen"),cb=Symbol.iterator;function Al(t){return t===null||typeof t!="object"?null:(t=cb&&t[cb]||t["@@iterator"],typeof t=="function"?t:null)}var hr=Object.assign,fp;function Bl(t){if(fp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fp=e&&e[1]||""}return`
`+fp+t}var dp=!1;function mp(t,e){if(!t||dp)return"";dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(o){var n=o}Reflect.construct(t,[],e)}else{try{e.call()}catch(o){n=o}t.call(e.prototype)}else{try{throw Error()}catch(o){n=o}t()}}catch(o){if(o&&n&&typeof o.stack=="string"){for(var a=o.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,u=i.length-1;1<=s&&0<=u&&a[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(a[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||a[s]!==i[u]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=u);break}}}finally{dp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bl(t):""}function FF(t){switch(t.tag){case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return t=mp(t.type,!1),t;case 11:return t=mp(t.type.render,!1),t;case 1:return t=mp(t.type,!0),t;default:return""}}function sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Qo:return"Portal";case nv:return"Profiler";case Xg:return"StrictMode";case av:return"Suspense";case iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AA:return(t.displayName||"Context")+".Consumer";case SA:return(t._context.displayName||"Context")+".Provider";case Kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jg:return e=t.displayName||null,e!==null?e:sv(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return sv(t(e))}catch{}}return null}function RF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sv(e);case 8:return e===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OF(t){var e=CA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tf(t){t._valueTracker||(t._valueTracker=OF(t))}function TA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ov(t,e){var r=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function uv(t,e){MA(t,e);var r=cs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lv(t,e.type,r):e.hasOwnProperty("defaultValue")&&lv(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function db(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function lv(t,e,r){(e!=="number"||Bd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jl=Array.isArray;function lu(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cs(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function cv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(jl(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cs(r)}}function IA(t,e){var r=cs(e.value),n=cs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function hb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mf,FA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BF=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){BF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function RA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function OA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=RA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var jF=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dv(t,e){if(e){if(jF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=null;function Yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pv=null,cu=null,fu=null;function pb(t){if(t=Hc(t)){if(typeof pv!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=eh(e),pv(t.stateNode,t.type,e))}}function BA(t){cu?fu?fu.push(t):fu=[t]:cu=t}function jA(){if(cu){var t=cu,e=fu;if(fu=cu=null,pb(t),e)for(t=0;t<e.length;t++)pb(e[t])}}function kA(t,e){return t(e)}function $A(){}var hp=!1;function LA(t,e,r){if(hp)return t(e,r);hp=!0;try{return kA(t,e,r)}finally{hp=!1,(cu!==null||fu!==null)&&($A(),jA())}}function lc(t,e){var r=t.stateNode;if(r===null)return null;var n=eh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var vv=!1;if(vi)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){vv=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{vv=!1}function kF(t,e,r,n,a,i,s,u,l){var o=Array.prototype.slice.call(arguments,3);try{e.apply(r,o)}catch(c){this.onError(c)}}var Gl=!1,jd=null,kd=!1,gv=null,$F={onError:function(t){Gl=!0,jd=t}};function LF(t,e,r,n,a,i,s,u,l){Gl=!1,jd=null,kF.apply($F,arguments)}function zF(t,e,r,n,a,i,s,u,l){if(LF.apply(this,arguments),Gl){if(Gl){var o=jd;Gl=!1,jd=null}else throw Error(Oe(198));kd||(kd=!0,gv=o)}}function mo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vb(t){if(mo(t)!==t)throw Error(Oe(188))}function VF(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return vb(a),t;if(i===n)return vb(a),e;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function VA(t){return t=VF(t),t!==null?UA(t):null}function UA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UA(t);if(e!==null)return e;t=t.sibling}return null}var qA=Xn.unstable_scheduleCallback,gb=Xn.unstable_cancelCallback,UF=Xn.unstable_shouldYield,qF=Xn.unstable_requestPaint,_r=Xn.unstable_now,HF=Xn.unstable_getCurrentPriorityLevel,Zg=Xn.unstable_ImmediatePriority,HA=Xn.unstable_UserBlockingPriority,$d=Xn.unstable_NormalPriority,GF=Xn.unstable_LowPriority,GA=Xn.unstable_IdlePriority,Km=null,Ha=null;function WF(t){if(Ha&&typeof Ha.onCommitFiberRoot=="function")try{Ha.onCommitFiberRoot(Km,t,void 0,(t.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:KF,QF=Math.log,XF=Math.LN2;function KF(t){return t>>>=0,t===0?32:31-(QF(t)/XF|0)|0}var If=64,Pf=4194304;function kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var u=s&~a;u!==0?n=kl(u):(i&=s,i!==0&&(n=kl(i)))}else s=r&~a,s!==0?n=kl(s):i!==0&&(n=kl(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Aa(e),a=1<<r,n|=t[r],e&=~a;return n}function JF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Aa(i),u=1<<s,l=a[s];l===-1?(!(u&r)||u&n)&&(a[s]=JF(u,e)):l<=e&&(t.expiredLanes|=u),i&=~u}}function yv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WA(){var t=If;return If<<=1,!(If&4194240)&&(If=64),t}function pp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Uc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Aa(e),t[e]=r}function ZF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Aa(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function e0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Aa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Kt=0;function QA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XA,t0,KA,JA,YA,xv=!1,Ff=[],Xi=null,Ki=null,Ji=null,cc=new Map,fc=new Map,zi=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yb(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(e.pointerId)}}function Cl(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Hc(e),e!==null&&t0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function tR(t,e,r,n,a){switch(e){case"focusin":return Xi=Cl(Xi,t,e,r,n,a),!0;case"dragenter":return Ki=Cl(Ki,t,e,r,n,a),!0;case"mouseover":return Ji=Cl(Ji,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return cc.set(i,Cl(cc.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,fc.set(i,Cl(fc.get(i)||null,t,e,r,n,a)),!0}return!1}function ZA(t){var e=Gs(t.target);if(e!==null){var r=mo(e);if(r!==null){if(e=r.tag,e===13){if(e=zA(r),e!==null){t.blockedOn=e,YA(t.priority,function(){KA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=bv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);hv=n,r.target.dispatchEvent(n),hv=null}else return e=Hc(r),e!==null&&t0(e),t.blockedOn=r,!1;e.shift()}return!0}function xb(t,e,r){yd(t)&&r.delete(e)}function rR(){xv=!1,Xi!==null&&yd(Xi)&&(Xi=null),Ki!==null&&yd(Ki)&&(Ki=null),Ji!==null&&yd(Ji)&&(Ji=null),cc.forEach(xb),fc.forEach(xb)}function Tl(t,e){t.blockedOn===e&&(t.blockedOn=null,xv||(xv=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,rR)))}function dc(t){function e(a){return Tl(a,t)}if(0<Ff.length){Tl(Ff[0],t);for(var r=1;r<Ff.length;r++){var n=Ff[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xi!==null&&Tl(Xi,t),Ki!==null&&Tl(Ki,t),Ji!==null&&Tl(Ji,t),cc.forEach(e),fc.forEach(e),r=0;r<zi.length;r++)n=zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zi.length&&(r=zi[0],r.blockedOn===null);)ZA(r),r.blockedOn===null&&zi.shift()}var du=Si.ReactCurrentBatchConfig,zd=!0;function nR(t,e,r,n){var a=Kt,i=du.transition;du.transition=null;try{Kt=1,r0(t,e,r,n)}finally{Kt=a,du.transition=i}}function aR(t,e,r,n){var a=Kt,i=du.transition;du.transition=null;try{Kt=4,r0(t,e,r,n)}finally{Kt=a,du.transition=i}}function r0(t,e,r,n){if(zd){var a=bv(t,e,r,n);if(a===null)Sp(t,e,n,Vd,r),yb(t,n);else if(tR(a,t,e,r,n))n.stopPropagation();else if(yb(t,n),e&4&&-1<eR.indexOf(t)){for(;a!==null;){var i=Hc(a);if(i!==null&&XA(i),i=bv(t,e,r,n),i===null&&Sp(t,e,n,Vd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Sp(t,e,n,null,r)}}var Vd=null;function bv(t,e,r,n){if(Vd=null,t=Yg(n),t=Gs(t),t!==null)if(e=mo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function eD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HF()){case Zg:return 1;case HA:return 4;case $d:case GF:return 16;case GA:return 536870912;default:return 16}default:return 16}}var Ui=null,n0=null,xd=null;function tD(){if(xd)return xd;var t,e=n0,r=e.length,n,a="value"in Ui?Ui.value:Ui.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return xd=a.slice(t,1<n?1-n:void 0)}function bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rf(){return!0}function bb(){return!1}function Yn(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rf:bb,this.isPropagationStopped=bb,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rf)},persist:function(){},isPersistent:Rf}),e}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=Yn(Hu),qc=hr({},Hu,{view:0,detail:0}),iR=Yn(qc),vp,gp,Ml,Jm=hr({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(vp=t.screenX-Ml.screenX,gp=t.screenY-Ml.screenY):gp=vp=0,Ml=t),vp)},movementY:function(t){return"movementY"in t?t.movementY:gp}}),wb=Yn(Jm),sR=hr({},Jm,{dataTransfer:0}),oR=Yn(sR),uR=hr({},qc,{relatedTarget:0}),yp=Yn(uR),lR=hr({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=Yn(lR),fR=hr({},Hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dR=Yn(fR),mR=hr({},Hu,{data:0}),Nb=Yn(mR),hR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vR[t])?!!e[t]:!1}function i0(){return gR}var yR=hr({},qc,{key:function(t){if(t.key){var e=hR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(t){return t.type==="keypress"?bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xR=Yn(yR),bR=hr({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_b=Yn(bR),wR=hr({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),NR=Yn(wR),_R=hr({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ER=Yn(_R),SR=hr({},Jm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AR=Yn(SR),DR=[9,13,27,32],s0=vi&&"CompositionEvent"in window,Wl=null;vi&&"documentMode"in document&&(Wl=document.documentMode);var CR=vi&&"TextEvent"in window&&!Wl,rD=vi&&(!s0||Wl&&8<Wl&&11>=Wl),Eb=" ",Sb=!1;function nD(t,e){switch(t){case"keyup":return DR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function TR(t,e){switch(t){case"compositionend":return aD(e);case"keypress":return e.which!==32?null:(Sb=!0,Eb);case"textInput":return t=e.data,t===Eb&&Sb?null:t;default:return null}}function MR(t,e){if(Ko)return t==="compositionend"||!s0&&nD(t,e)?(t=tD(),xd=n0=Ui=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rD&&e.locale!=="ko"?null:e.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IR[t.type]:e==="textarea"}function iD(t,e,r,n){BA(n),e=Ud(e,"onChange"),0<e.length&&(r=new a0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ql=null,mc=null;function PR(t){vD(t,0)}function Ym(t){var e=Zo(t);if(TA(e))return t}function FR(t,e){if(t==="change")return e}var sD=!1;if(vi){var xp;if(vi){var bp="oninput"in document;if(!bp){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),bp=typeof Db.oninput=="function"}xp=bp}else xp=!1;sD=xp&&(!document.documentMode||9<document.documentMode)}function Cb(){Ql&&(Ql.detachEvent("onpropertychange",oD),mc=Ql=null)}function oD(t){if(t.propertyName==="value"&&Ym(mc)){var e=[];iD(e,mc,t,Yg(t)),LA(PR,e)}}function RR(t,e,r){t==="focusin"?(Cb(),Ql=e,mc=r,Ql.attachEvent("onpropertychange",oD)):t==="focusout"&&Cb()}function OR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ym(mc)}function BR(t,e){if(t==="click")return Ym(e)}function jR(t,e){if(t==="input"||t==="change")return Ym(e)}function kR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ta=typeof Object.is=="function"?Object.is:kR;function hc(t,e){if(Ta(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!rv.call(e,a)||!Ta(t[a],e[a]))return!1}return!0}function Tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mb(t,e){var r=Tb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tb(r)}}function uD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lD(){for(var t=window,e=Bd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bd(t.document)}return e}function o0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $R(t){var e=lD(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&uD(r.ownerDocument.documentElement,r)){if(n!==null&&o0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=Mb(r,i);var s=Mb(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LR=vi&&"documentMode"in document&&11>=document.documentMode,Jo=null,wv=null,Xl=null,Nv=!1;function Ib(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nv||Jo==null||Jo!==Bd(n)||(n=Jo,"selectionStart"in n&&o0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xl&&hc(Xl,n)||(Xl=n,n=Ud(wv,"onSelect"),0<n.length&&(e=new a0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Jo)))}function Of(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yo={animationend:Of("Animation","AnimationEnd"),animationiteration:Of("Animation","AnimationIteration"),animationstart:Of("Animation","AnimationStart"),transitionend:Of("Transition","TransitionEnd")},wp={},cD={};vi&&(cD=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Zm(t){if(wp[t])return wp[t];if(!Yo[t])return t;var e=Yo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cD)return wp[t]=e[r];return t}var fD=Zm("animationend"),dD=Zm("animationiteration"),mD=Zm("animationstart"),hD=Zm("transitionend"),pD=new Map,Pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){pD.set(t,e),fo(e,[t])}for(var Np=0;Np<Pb.length;Np++){var _p=Pb[Np],zR=_p.toLowerCase(),VR=_p[0].toUpperCase()+_p.slice(1);Ns(zR,"on"+VR)}Ns(fD,"onAnimationEnd");Ns(dD,"onAnimationIteration");Ns(mD,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(hD,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function Fb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zF(n,e,void 0,t),t.currentTarget=null}function vD(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var u=n[s],l=u.instance,o=u.currentTarget;if(u=u.listener,l!==i&&a.isPropagationStopped())break e;Fb(a,u,o),i=l}else for(s=0;s<n.length;s++){if(u=n[s],l=u.instance,o=u.currentTarget,u=u.listener,l!==i&&a.isPropagationStopped())break e;Fb(a,u,o),i=l}}}if(kd)throw t=gv,kd=!1,gv=null,t}function ir(t,e){var r=e[Dv];r===void 0&&(r=e[Dv]=new Set);var n=t+"__bubble";r.has(n)||(gD(e,t,2,!1),r.add(n))}function Ep(t,e,r){var n=0;e&&(n|=4),gD(r,t,n,e)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[Bf]){t[Bf]=!0,EA.forEach(function(r){r!=="selectionchange"&&(UR.has(r)||Ep(r,!1,t),Ep(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bf]||(e[Bf]=!0,Ep("selectionchange",!1,e))}}function gD(t,e,r,n){switch(eD(e)){case 1:var a=nR;break;case 4:a=aR;break;default:a=r0}r=a.bind(null,e,r,t),a=void 0,!vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Sp(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;u!==null;){if(s=Gs(u),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}u=u.parentNode}}n=n.return}LA(function(){var o=i,c=Yg(r),f=[];e:{var d=pD.get(t);if(d!==void 0){var m=a0,h=t;switch(t){case"keypress":if(bd(r)===0)break e;case"keydown":case"keyup":m=xR;break;case"focusin":h="focus",m=yp;break;case"focusout":h="blur",m=yp;break;case"beforeblur":case"afterblur":m=yp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NR;break;case fD:case dD:case mD:m=cR;break;case hD:m=ER;break;case"scroll":m=iR;break;case"wheel":m=AR;break;case"copy":case"cut":case"paste":m=dR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_b}var v=(e&4)!==0,T=!v&&t==="scroll",S=v?d!==null?d+"Capture":null:d;v=[];for(var C=o,N;C!==null;){N=C;var M=N.stateNode;if(N.tag===5&&M!==null&&(N=M,S!==null&&(M=lc(C,S),M!=null&&v.push(vc(C,M,N)))),T)break;C=C.return}0<v.length&&(d=new m(d,h,null,r,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==hv&&(h=r.relatedTarget||r.fromElement)&&(Gs(h)||h[gi]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=o,h=h?Gs(h):null,h!==null&&(T=mo(h),h!==T||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=o),m!==h)){if(v=wb,M="onMouseLeave",S="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(v=_b,M="onPointerLeave",S="onPointerEnter",C="pointer"),T=m==null?d:Zo(m),N=h==null?d:Zo(h),d=new v(M,C+"leave",m,r,c),d.target=T,d.relatedTarget=N,M=null,Gs(c)===o&&(v=new v(S,C+"enter",h,r,c),v.target=N,v.relatedTarget=T,M=v),T=M,m&&h)t:{for(v=m,S=h,C=0,N=v;N;N=jo(N))C++;for(N=0,M=S;M;M=jo(M))N++;for(;0<C-N;)v=jo(v),C--;for(;0<N-C;)S=jo(S),N--;for(;C--;){if(v===S||S!==null&&v===S.alternate)break t;v=jo(v),S=jo(S)}v=null}else v=null;m!==null&&Rb(f,d,m,v,!1),h!==null&&T!==null&&Rb(f,T,h,v,!0)}}e:{if(d=o?Zo(o):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var y=FR;else if(Ab(d))if(sD)y=jR;else{y=OR;var x=RR}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(y=BR);if(y&&(y=y(t,o))){iD(f,y,r,c);break e}x&&x(t,d,o),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&lv(d,"number",d.value)}switch(x=o?Zo(o):window,t){case"focusin":(Ab(x)||x.contentEditable==="true")&&(Jo=x,wv=o,Xl=null);break;case"focusout":Xl=wv=Jo=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,Ib(f,r,c);break;case"selectionchange":if(LR)break;case"keydown":case"keyup":Ib(f,r,c)}var w;if(s0)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ko?nD(t,r)&&(g="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(g="onCompositionStart");g&&(rD&&r.locale!=="ko"&&(Ko||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ko&&(w=tD()):(Ui=c,n0="value"in Ui?Ui.value:Ui.textContent,Ko=!0)),x=Ud(o,g),0<x.length&&(g=new Nb(g,t,null,r,c),f.push({event:g,listeners:x}),w?g.data=w:(w=aD(r),w!==null&&(g.data=w)))),(w=CR?TR(t,r):MR(t,r))&&(o=Ud(o,"onBeforeInput"),0<o.length&&(c=new Nb("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:o}),c.data=w))}vD(f,e)})}function vc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ud(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lc(t,r),i!=null&&n.unshift(vc(t,i,a)),i=lc(t,e),i!=null&&n.push(vc(t,i,a))),t=t.return}return n}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rb(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var u=r,l=u.alternate,o=u.stateNode;if(l!==null&&l===n)break;u.tag===5&&o!==null&&(u=o,a?(l=lc(r,i),l!=null&&s.unshift(vc(r,l,u))):a||(l=lc(r,i),l!=null&&s.push(vc(r,l,u)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var qR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function Ob(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(HR,"")}function jf(t,e,r){if(e=Ob(e),Ob(t)!==e&&r)throw Error(Oe(425))}function qd(){}var _v=null,Ev=null;function Sv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Av=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(t){return Bb.resolve(null).then(t).catch(QR)}:Av;function QR(t){setTimeout(function(){throw t})}function Ap(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),dc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);dc(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Gu=Math.random().toString(36).slice(2),Ua="__reactFiber$"+Gu,gc="__reactProps$"+Gu,gi="__reactContainer$"+Gu,Dv="__reactEvents$"+Gu,XR="__reactListeners$"+Gu,KR="__reactHandles$"+Gu;function Gs(t){var e=t[Ua];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gi]||r[Ua]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jb(t);t!==null;){if(r=t[Ua])return r;t=jb(t)}return e}t=r,r=t.parentNode}return null}function Hc(t){return t=t[Ua]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function eh(t){return t[gc]||null}var Cv=[],eu=-1;function _s(t){return{current:t}}function or(t){0>eu||(t.current=Cv[eu],Cv[eu]=null,eu--)}function nr(t,e){eu++,Cv[eu]=t.current,t.current=e}var fs={},gn=_s(fs),Bn=_s(!1),to=fs;function _u(t,e){var r=t.type.contextTypes;if(!r)return fs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function jn(t){return t=t.childContextTypes,t!=null}function Hd(){or(Bn),or(gn)}function kb(t,e,r){if(gn.current!==fs)throw Error(Oe(168));nr(gn,e),nr(Bn,r)}function yD(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Oe(108,RF(t)||"Unknown",a));return hr({},r,n)}function Gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,to=gn.current,nr(gn,t),nr(Bn,Bn.current),!0}function $b(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=yD(t,e,to),n.__reactInternalMemoizedMergedChildContext=t,or(Bn),or(gn),nr(gn,t)):or(Bn),nr(Bn,r)}var ui=null,th=!1,Dp=!1;function xD(t){ui===null?ui=[t]:ui.push(t)}function JR(t){th=!0,xD(t)}function Es(){if(!Dp&&ui!==null){Dp=!0;var t=0,e=Kt;try{var r=ui;for(Kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ui=null,th=!1}catch(a){throw ui!==null&&(ui=ui.slice(t+1)),qA(Zg,Es),a}finally{Kt=e,Dp=!1}}return null}var tu=[],ru=0,Wd=null,Qd=0,ia=[],sa=0,ro=null,li=1,ci="";function zs(t,e){tu[ru++]=Qd,tu[ru++]=Wd,Wd=t,Qd=e}function bD(t,e,r){ia[sa++]=li,ia[sa++]=ci,ia[sa++]=ro,ro=t;var n=li;t=ci;var a=32-Aa(n)-1;n&=~(1<<a),r+=1;var i=32-Aa(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,li=1<<32-Aa(e)+a|r<<a|n,ci=i+t}else li=1<<i|r<<a|n,ci=t}function u0(t){t.return!==null&&(zs(t,1),bD(t,1,0))}function l0(t){for(;t===Wd;)Wd=tu[--ru],tu[ru]=null,Qd=tu[--ru],tu[ru]=null;for(;t===ro;)ro=ia[--sa],ia[sa]=null,ci=ia[--sa],ia[sa]=null,li=ia[--sa],ia[sa]=null}var Qn=null,Wn=null,cr=!1,_a=null;function wD(t,e){var r=ca(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Wn=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ro!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ca(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qn=t,Wn=null,!0):!1;default:return!1}}function Tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mv(t){if(cr){var e=Wn;if(e){var r=e;if(!Lb(t,e)){if(Tv(t))throw Error(Oe(418));e=Yi(r.nextSibling);var n=Qn;e&&Lb(t,e)?wD(n,r):(t.flags=t.flags&-4097|2,cr=!1,Qn=t)}}else{if(Tv(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,cr=!1,Qn=t}}}function zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function kf(t){if(t!==Qn)return!1;if(!cr)return zb(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sv(t.type,t.memoizedProps)),e&&(e=Wn)){if(Tv(t))throw ND(),Error(Oe(418));for(;e;)wD(t,e),e=Yi(e.nextSibling)}if(zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wn=Yi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wn=null}}else Wn=Qn?Yi(t.stateNode.nextSibling):null;return!0}function ND(){for(var t=Wn;t;)t=Yi(t.nextSibling)}function Eu(){Wn=Qn=null,cr=!1}function c0(t){_a===null?_a=[t]:_a.push(t)}var YR=Si.ReactCurrentBatchConfig;function Il(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var u=a.refs;s===null?delete u[i]:u[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function $f(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vb(t){var e=t._init;return e(t._payload)}function _D(t){function e(S,C){if(t){var N=S.deletions;N===null?(S.deletions=[C],S.flags|=16):N.push(C)}}function r(S,C){if(!t)return null;for(;C!==null;)e(S,C),C=C.sibling;return null}function n(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function a(S,C){return S=rs(S,C),S.index=0,S.sibling=null,S}function i(S,C,N){return S.index=N,t?(N=S.alternate,N!==null?(N=N.index,N<C?(S.flags|=2,C):N):(S.flags|=2,C)):(S.flags|=1048576,C)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,C,N,M){return C===null||C.tag!==6?(C=Rp(N,S.mode,M),C.return=S,C):(C=a(C,N),C.return=S,C)}function l(S,C,N,M){var y=N.type;return y===Xo?c(S,C,N.props.children,M,N.key):C!==null&&(C.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ji&&Vb(y)===C.type)?(M=a(C,N.props),M.ref=Il(S,C,N),M.return=S,M):(M=Dd(N.type,N.key,N.props,null,S.mode,M),M.ref=Il(S,C,N),M.return=S,M)}function o(S,C,N,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=Op(N,S.mode,M),C.return=S,C):(C=a(C,N.children||[]),C.return=S,C)}function c(S,C,N,M,y){return C===null||C.tag!==7?(C=Zs(N,S.mode,M,y),C.return=S,C):(C=a(C,N),C.return=S,C)}function f(S,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Rp(""+C,S.mode,N),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cf:return N=Dd(C.type,C.key,C.props,null,S.mode,N),N.ref=Il(S,null,C),N.return=S,N;case Qo:return C=Op(C,S.mode,N),C.return=S,C;case ji:var M=C._init;return f(S,M(C._payload),N)}if(jl(C)||Al(C))return C=Zs(C,S.mode,N,null),C.return=S,C;$f(S,C)}return null}function d(S,C,N,M){var y=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return y!==null?null:u(S,C,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cf:return N.key===y?l(S,C,N,M):null;case Qo:return N.key===y?o(S,C,N,M):null;case ji:return y=N._init,d(S,C,y(N._payload),M)}if(jl(N)||Al(N))return y!==null?null:c(S,C,N,M,null);$f(S,N)}return null}function m(S,C,N,M,y){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(N)||null,u(C,S,""+M,y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Cf:return S=S.get(M.key===null?N:M.key)||null,l(C,S,M,y);case Qo:return S=S.get(M.key===null?N:M.key)||null,o(C,S,M,y);case ji:var x=M._init;return m(S,C,N,x(M._payload),y)}if(jl(M)||Al(M))return S=S.get(N)||null,c(C,S,M,y,null);$f(C,M)}return null}function h(S,C,N,M){for(var y=null,x=null,w=C,g=C=0,_=null;w!==null&&g<N.length;g++){w.index>g?(_=w,w=null):_=w.sibling;var E=d(S,w,N[g],M);if(E===null){w===null&&(w=_);break}t&&w&&E.alternate===null&&e(S,w),C=i(E,C,g),x===null?y=E:x.sibling=E,x=E,w=_}if(g===N.length)return r(S,w),cr&&zs(S,g),y;if(w===null){for(;g<N.length;g++)w=f(S,N[g],M),w!==null&&(C=i(w,C,g),x===null?y=w:x.sibling=w,x=w);return cr&&zs(S,g),y}for(w=n(S,w);g<N.length;g++)_=m(w,S,g,N[g],M),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?g:_.key),C=i(_,C,g),x===null?y=_:x.sibling=_,x=_);return t&&w.forEach(function(b){return e(S,b)}),cr&&zs(S,g),y}function v(S,C,N,M){var y=Al(N);if(typeof y!="function")throw Error(Oe(150));if(N=y.call(N),N==null)throw Error(Oe(151));for(var x=y=null,w=C,g=C=0,_=null,E=N.next();w!==null&&!E.done;g++,E=N.next()){w.index>g?(_=w,w=null):_=w.sibling;var b=d(S,w,E.value,M);if(b===null){w===null&&(w=_);break}t&&w&&b.alternate===null&&e(S,w),C=i(b,C,g),x===null?y=b:x.sibling=b,x=b,w=_}if(E.done)return r(S,w),cr&&zs(S,g),y;if(w===null){for(;!E.done;g++,E=N.next())E=f(S,E.value,M),E!==null&&(C=i(E,C,g),x===null?y=E:x.sibling=E,x=E);return cr&&zs(S,g),y}for(w=n(S,w);!E.done;g++,E=N.next())E=m(w,S,g,E.value,M),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?g:E.key),C=i(E,C,g),x===null?y=E:x.sibling=E,x=E);return t&&w.forEach(function(A){return e(S,A)}),cr&&zs(S,g),y}function T(S,C,N,M){if(typeof N=="object"&&N!==null&&N.type===Xo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Cf:e:{for(var y=N.key,x=C;x!==null;){if(x.key===y){if(y=N.type,y===Xo){if(x.tag===7){r(S,x.sibling),C=a(x,N.props.children),C.return=S,S=C;break e}}else if(x.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ji&&Vb(y)===x.type){r(S,x.sibling),C=a(x,N.props),C.ref=Il(S,x,N),C.return=S,S=C;break e}r(S,x);break}else e(S,x);x=x.sibling}N.type===Xo?(C=Zs(N.props.children,S.mode,M,N.key),C.return=S,S=C):(M=Dd(N.type,N.key,N.props,null,S.mode,M),M.ref=Il(S,C,N),M.return=S,S=M)}return s(S);case Qo:e:{for(x=N.key;C!==null;){if(C.key===x)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){r(S,C.sibling),C=a(C,N.children||[]),C.return=S,S=C;break e}else{r(S,C);break}else e(S,C);C=C.sibling}C=Op(N,S.mode,M),C.return=S,S=C}return s(S);case ji:return x=N._init,T(S,C,x(N._payload),M)}if(jl(N))return h(S,C,N,M);if(Al(N))return v(S,C,N,M);$f(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,C!==null&&C.tag===6?(r(S,C.sibling),C=a(C,N),C.return=S,S=C):(r(S,C),C=Rp(N,S.mode,M),C.return=S,S=C),s(S)):r(S,C)}return T}var Su=_D(!0),ED=_D(!1),Xd=_s(null),Kd=null,nu=null,f0=null;function d0(){f0=nu=Kd=null}function m0(t){var e=Xd.current;or(Xd),t._currentValue=e}function Iv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function mu(t,e){Kd=t,f0=nu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function ma(t){var e=t._currentValue;if(f0!==t)if(t={context:t,memoizedValue:e,next:null},nu===null){if(Kd===null)throw Error(Oe(308));nu=t,Kd.dependencies={lanes:0,firstContext:t}}else nu=nu.next=t;return e}var Ws=null;function h0(t){Ws===null?Ws=[t]:Ws.push(t)}function SD(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,h0(e)):(r.next=a.next,a.next=r),e.interleaved=r,yi(t,n)}function yi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ki=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,zt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,yi(t,r)}return a=n.interleaved,a===null?(e.next=e,h0(n)):(e.next=a.next,a.next=e),n.interleaved=e,yi(t,r)}function wd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,e0(t,r)}}function Ub(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jd(t,e,r,n){var a=t.updateQueue;ki=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var l=u,o=l.next;l.next=null,s===null?i=o:s.next=o,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=o:u.next=o,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,c=o=l=null,u=i;do{var d=u.lane,m=u.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=t,v=u;switch(d=e,m=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,d=typeof h=="function"?h.call(m,f,d):h,d==null)break e;f=hr({},f,d);break e;case 2:ki=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,d=a.effects,d===null?a.effects=[u]:d.push(u))}else m={eventTime:m,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(o=c=m,l=f):c=c.next=m,s|=d;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;d=u,u=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=o,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);ao|=s,t.lanes=s,t.memoizedState=f}}function qb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Oe(191,a));a.call(n)}}}var Gc={},Ga=_s(Gc),yc=_s(Gc),xc=_s(Gc);function Qs(t){if(t===Gc)throw Error(Oe(174));return t}function v0(t,e){switch(nr(xc,e),nr(yc,t),nr(Ga,Gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fv(e,t)}or(Ga),nr(Ga,e)}function Au(){or(Ga),or(yc),or(xc)}function DD(t){Qs(xc.current);var e=Qs(Ga.current),r=fv(e,t.type);e!==r&&(nr(yc,t),nr(Ga,r))}function g0(t){yc.current===t&&(or(Ga),or(yc))}var dr=_s(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cp=[];function y0(){for(var t=0;t<Cp.length;t++)Cp[t]._workInProgressVersionPrimary=null;Cp.length=0}var Nd=Si.ReactCurrentDispatcher,Tp=Si.ReactCurrentBatchConfig,no=0,mr=null,Fr=null,Gr=null,Zd=!1,Kl=!1,bc=0,ZR=0;function ln(){throw Error(Oe(321))}function x0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ta(t[r],e[r]))return!1;return!0}function b0(t,e,r,n,a,i){if(no=i,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?nO:aO,t=r(n,a),Kl){i=0;do{if(Kl=!1,bc=0,25<=i)throw Error(Oe(301));i+=1,Gr=Fr=null,e.updateQueue=null,Nd.current=iO,t=r(n,a)}while(Kl)}if(Nd.current=em,e=Fr!==null&&Fr.next!==null,no=0,Gr=Fr=mr=null,Zd=!1,e)throw Error(Oe(300));return t}function w0(){var t=bc!==0;return bc=0,t}function za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?mr.memoizedState=Gr=t:Gr=Gr.next=t,Gr}function ha(){if(Fr===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=Fr.next;var e=Gr===null?mr.memoizedState:Gr.next;if(e!==null)Gr=e,Fr=t;else{if(t===null)throw Error(Oe(310));Fr=t,t={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Gr===null?mr.memoizedState=Gr=t:Gr=Gr.next=t}return Gr}function wc(t,e){return typeof e=="function"?e(t):e}function Mp(t){var e=ha(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Fr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var u=s=null,l=null,o=i;do{var c=o.lane;if((no&c)===c)l!==null&&(l=l.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),n=o.hasEagerState?o.eagerState:t(n,o.action);else{var f={lane:c,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};l===null?(u=l=f,s=n):l=l.next=f,mr.lanes|=c,ao|=c}o=o.next}while(o!==null&&o!==i);l===null?s=n:l.next=u,Ta(n,e.memoizedState)||(On=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,mr.lanes|=i,ao|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ip(t){var e=ha(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Ta(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function CD(){}function TD(t,e){var r=mr,n=ha(),a=e(),i=!Ta(n.memoizedState,a);if(i&&(n.memoizedState=a,On=!0),n=n.queue,N0(PD.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Nc(9,ID.bind(null,r,n,a,e),void 0,null),Xr===null)throw Error(Oe(349));no&30||MD(r,e,a)}return a}function MD(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ID(t,e,r,n){e.value=r,e.getSnapshot=n,FD(e)&&RD(t)}function PD(t,e,r){return r(function(){FD(e)&&RD(t)})}function FD(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ta(t,r)}catch{return!0}}function RD(t){var e=yi(t,1);e!==null&&Da(e,t,1,-1)}function Hb(t){var e=za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=rO.bind(null,mr,t),[e.memoizedState,t]}function Nc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function OD(){return ha().memoizedState}function _d(t,e,r,n){var a=za();mr.flags|=t,a.memoizedState=Nc(1|e,r,void 0,n===void 0?null:n)}function rh(t,e,r,n){var a=ha();n=n===void 0?null:n;var i=void 0;if(Fr!==null){var s=Fr.memoizedState;if(i=s.destroy,n!==null&&x0(n,s.deps)){a.memoizedState=Nc(e,r,i,n);return}}mr.flags|=t,a.memoizedState=Nc(1|e,r,i,n)}function Gb(t,e){return _d(8390656,8,t,e)}function N0(t,e){return rh(2048,8,t,e)}function BD(t,e){return rh(4,2,t,e)}function jD(t,e){return rh(4,4,t,e)}function kD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $D(t,e,r){return r=r!=null?r.concat([t]):null,rh(4,4,kD.bind(null,e,t),r)}function _0(){}function LD(t,e){var r=ha();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&x0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zD(t,e){var r=ha();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&x0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function VD(t,e,r){return no&21?(Ta(r,e)||(r=WA(),mr.lanes|=r,ao|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=r)}function eO(t,e){var r=Kt;Kt=r!==0&&4>r?r:4,t(!0);var n=Tp.transition;Tp.transition={};try{t(!1),e()}finally{Kt=r,Tp.transition=n}}function UD(){return ha().memoizedState}function tO(t,e,r){var n=ts(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qD(t))HD(e,r);else if(r=SD(t,e,r,n),r!==null){var a=_n();Da(r,t,n,a),GD(r,e,n)}}function rO(t,e,r){var n=ts(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qD(t))HD(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,u=i(s,r);if(a.hasEagerState=!0,a.eagerState=u,Ta(u,s)){var l=e.interleaved;l===null?(a.next=a,h0(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=SD(t,e,a,n),r!==null&&(a=_n(),Da(r,t,n,a),GD(r,e,n))}}function qD(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function HD(t,e){Kl=Zd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GD(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,e0(t,r)}}var em={readContext:ma,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},nO={readContext:ma,useCallback:function(t,e){return za().memoizedState=[t,e===void 0?null:e],t},useContext:ma,useEffect:Gb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_d(4194308,4,kD.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _d(4194308,4,t,e)},useInsertionEffect:function(t,e){return _d(4,2,t,e)},useMemo:function(t,e){var r=za();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=za();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=tO.bind(null,mr,t),[n.memoizedState,t]},useRef:function(t){var e=za();return t={current:t},e.memoizedState=t},useState:Hb,useDebugValue:_0,useDeferredValue:function(t){return za().memoizedState=t},useTransition:function(){var t=Hb(!1),e=t[0];return t=eO.bind(null,t[1]),za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mr,a=za();if(cr){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),Xr===null)throw Error(Oe(349));no&30||MD(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,Gb(PD.bind(null,n,i,t),[t]),n.flags|=2048,Nc(9,ID.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=za(),e=Xr.identifierPrefix;if(cr){var r=ci,n=li;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ZR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:ma,useCallback:LD,useContext:ma,useEffect:N0,useImperativeHandle:$D,useInsertionEffect:BD,useLayoutEffect:jD,useMemo:zD,useReducer:Mp,useRef:OD,useState:function(){return Mp(wc)},useDebugValue:_0,useDeferredValue:function(t){var e=ha();return VD(e,Fr.memoizedState,t)},useTransition:function(){var t=Mp(wc)[0],e=ha().memoizedState;return[t,e]},useMutableSource:CD,useSyncExternalStore:TD,useId:UD,unstable_isNewReconciler:!1},iO={readContext:ma,useCallback:LD,useContext:ma,useEffect:N0,useImperativeHandle:$D,useInsertionEffect:BD,useLayoutEffect:jD,useMemo:zD,useReducer:Ip,useRef:OD,useState:function(){return Ip(wc)},useDebugValue:_0,useDeferredValue:function(t){var e=ha();return Fr===null?e.memoizedState=t:VD(e,Fr.memoizedState,t)},useTransition:function(){var t=Ip(wc)[0],e=ha().memoizedState;return[t,e]},useMutableSource:CD,useSyncExternalStore:TD,useId:UD,unstable_isNewReconciler:!1};function wa(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Pv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:hr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nh={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_n(),a=ts(t),i=mi(n,a);i.payload=e,r!=null&&(i.callback=r),e=Zi(t,i,a),e!==null&&(Da(e,t,a,n),wd(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_n(),a=ts(t),i=mi(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Zi(t,i,a),e!==null&&(Da(e,t,a,n),wd(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_n(),n=ts(t),a=mi(r,n);a.tag=2,e!=null&&(a.callback=e),e=Zi(t,a,n),e!==null&&(Da(e,t,n,r),wd(e,t,n))}};function Wb(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!hc(r,n)||!hc(a,i):!0}function WD(t,e,r){var n=!1,a=fs,i=e.contextType;return typeof i=="object"&&i!==null?i=ma(i):(a=jn(e)?to:gn.current,n=e.contextTypes,i=(n=n!=null)?_u(t,a):fs),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nh.enqueueReplaceState(e,e.state,null)}function Fv(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},p0(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ma(i):(i=jn(e)?to:gn.current,a.context=_u(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pv(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nh.enqueueReplaceState(a,a.state,null),Jd(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Du(t,e){try{var r="",n=e;do r+=FF(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Pp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sO=typeof WeakMap=="function"?WeakMap:Map;function QD(t,e,r){r=mi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){rm||(rm=!0,qv=n),Rv(t,e)},r}function XD(t,e,r){r=mi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Rv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rv(t,e),typeof n!="function"&&(es===null?es=new Set([this]):es.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Xb(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sO;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=bO.bind(null,t,e,r),e.then(t,t))}function Kb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jb(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mi(-1,1),e.tag=2,Zi(r,e,1))),r.lanes|=1),t)}var oO=Si.ReactCurrentOwner,On=!1;function Nn(t,e,r,n){e.child=t===null?ED(e,null,r,n):Su(e,t.child,r,n)}function Yb(t,e,r,n,a){r=r.render;var i=e.ref;return mu(e,a),n=b0(t,e,r,n,i,a),r=w0(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,xi(t,e,a)):(cr&&r&&u0(e),e.flags|=1,Nn(t,e,n,a),e.child)}function Zb(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!I0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,KD(t,e,i,n,a)):(t=Dd(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(s,n)&&t.ref===e.ref)return xi(t,e,a)}return e.flags|=1,t=rs(i,n),t.ref=e.ref,t.return=e,e.child=t}function KD(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(hc(i,n)&&t.ref===e.ref)if(On=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,xi(t,e,a)}return Ov(t,e,r,n,a)}function JD(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(iu,Hn),Hn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nr(iu,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nr(iu,Hn),Hn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,nr(iu,Hn),Hn|=n;return Nn(t,e,a,r),e.child}function YD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ov(t,e,r,n,a){var i=jn(r)?to:gn.current;return i=_u(e,i),mu(e,a),r=b0(t,e,r,n,i,a),n=w0(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,xi(t,e,a)):(cr&&n&&u0(e),e.flags|=1,Nn(t,e,r,a),e.child)}function ew(t,e,r,n,a){if(jn(r)){var i=!0;Gd(e)}else i=!1;if(mu(e,a),e.stateNode===null)Ed(t,e),WD(e,r,n),Fv(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var l=s.context,o=r.contextType;typeof o=="object"&&o!==null?o=ma(o):(o=jn(r)?to:gn.current,o=_u(e,o));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==n||l!==o)&&Qb(e,s,n,o),ki=!1;var d=e.memoizedState;s.state=d,Jd(e,n,s,a),l=e.memoizedState,u!==n||d!==l||Bn.current||ki?(typeof c=="function"&&(Pv(e,r,c,n),l=e.memoizedState),(u=ki||Wb(e,r,u,n,d,l,o))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=o,n=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,AD(t,e),u=e.memoizedProps,o=e.type===e.elementType?u:wa(e.type,u),s.props=o,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ma(l):(l=jn(r)?to:gn.current,l=_u(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==f||d!==l)&&Qb(e,s,n,l),ki=!1,d=e.memoizedState,s.state=d,Jd(e,n,s,a);var h=e.memoizedState;u!==f||d!==h||Bn.current||ki?(typeof m=="function"&&(Pv(e,r,m,n),h=e.memoizedState),(o=ki||Wb(e,r,o,n,d,h,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),s.props=n,s.state=h,s.context=l,n=o):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Bv(t,e,r,n,i,a)}function Bv(t,e,r,n,a,i){YD(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&$b(e,r,!1),xi(t,e,i);n=e.stateNode,oO.current=e;var u=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Su(e,t.child,null,i),e.child=Su(e,null,u,i)):Nn(t,e,u,i),e.memoizedState=n.state,a&&$b(e,r,!0),e.child}function ZD(t){var e=t.stateNode;e.pendingContext?kb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kb(t,e.context,!1),v0(t,e.containerInfo)}function tw(t,e,r,n,a){return Eu(),c0(a),e.flags|=256,Nn(t,e,r,n),e.child}var jv={dehydrated:null,treeContext:null,retryLane:0};function kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function eC(t,e,r){var n=e.pendingProps,a=dr.current,i=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(a&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),nr(dr,a&1),t===null)return Mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=sh(s,n,0,null),t=Zs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kv(r),e.memoizedState=jv,t):E0(e,s));if(a=t.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return uO(t,e,s,n,u,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,u=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=rs(a,l),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?i=rs(u,i):(i=Zs(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?kv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=jv,n}return i=t.child,t=i.sibling,n=rs(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function E0(t,e){return e=sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lf(t,e,r,n){return n!==null&&c0(n),Su(e,t.child,null,r),t=E0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uO(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=Pp(Error(Oe(422))),Lf(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=sh({mode:"visible",children:n.children},a,0,null),i=Zs(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Su(e,t.child,null,s),e.child.memoizedState=kv(s),e.memoizedState=jv,i);if(!(e.mode&1))return Lf(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(Oe(419)),n=Pp(i,n,void 0),Lf(t,e,s,n)}if(u=(s&t.childLanes)!==0,On||u){if(n=Xr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,yi(t,a),Da(n,t,a,-1))}return M0(),n=Pp(Error(Oe(421))),Lf(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=wO.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Wn=Yi(a.nextSibling),Qn=e,cr=!0,_a=null,t!==null&&(ia[sa++]=li,ia[sa++]=ci,ia[sa++]=ro,li=t.id,ci=t.overflow,ro=e),e=E0(e,n.children),e.flags|=4096,e)}function rw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Iv(t.return,e,r)}function Fp(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function tC(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Nn(t,e,n.children,r),n=dr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rw(t,r,e);else if(t.tag===19)rw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nr(dr,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Yd(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Fp(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Yd(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Fp(e,!0,r,null,i);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=rs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lO(t,e,r){switch(e.tag){case 3:ZD(e),Eu();break;case 5:DD(e);break;case 1:jn(e.type)&&Gd(e);break;case 4:v0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;nr(Xd,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nr(dr,dr.current&1),e.flags|=128,null):r&e.child.childLanes?eC(t,e,r):(nr(dr,dr.current&1),t=xi(t,e,r),t!==null?t.sibling:null);nr(dr,dr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tC(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nr(dr,dr.current),n)break;return null;case 22:case 23:return e.lanes=0,JD(t,e,r)}return xi(t,e,r)}var rC,$v,nC,aC;rC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$v=function(){};nC=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Qs(Ga.current);var i=null;switch(r){case"input":a=ov(t,a),n=ov(t,n),i=[];break;case"select":a=hr({},a,{value:void 0}),n=hr({},n,{value:void 0}),i=[];break;case"textarea":a=cv(t,a),n=cv(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=qd)}dv(r,n);var s;r=null;for(o in a)if(!n.hasOwnProperty(o)&&a.hasOwnProperty(o)&&a[o]!=null)if(o==="style"){var u=a[o];for(s in u)u.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oc.hasOwnProperty(o)?i||(i=[]):(i=i||[]).push(o,null));for(o in n){var l=n[o];if(u=a!=null?a[o]:void 0,n.hasOwnProperty(o)&&l!==u&&(l!=null||u!=null))if(o==="style")if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(o,r)),r=l;else o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(i=i||[]).push(o,l)):o==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(o,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(oc.hasOwnProperty(o)?(l!=null&&o==="onScroll"&&ir("scroll",t),i||u===l||(i=[])):(i=i||[]).push(o,l))}r&&(i=i||[]).push("style",r);var o=i;(e.updateQueue=o)&&(e.flags|=4)}};aC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Pl(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function cO(t,e,r){var n=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return jn(e.type)&&Hd(),cn(e),null;case 3:return n=e.stateNode,Au(),or(Bn),or(gn),y0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(kf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_a!==null&&(Wv(_a),_a=null))),$v(t,e),cn(e),null;case 5:g0(e);var a=Qs(xc.current);if(r=e.type,t!==null&&e.stateNode!=null)nC(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return cn(e),null}if(t=Qs(Ga.current),kf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ua]=e,n[gc]=i,t=(e.mode&1)!==0,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(a=0;a<$l.length;a++)ir($l[a],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":fb(n,i),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ir("invalid",n);break;case"textarea":mb(n,i),ir("invalid",n)}dv(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&jf(n.textContent,u,t),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&jf(n.textContent,u,t),a=["children",""+u]):oc.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ir("scroll",n)}switch(r){case"input":Tf(n),db(n,i,!0);break;case"textarea":Tf(n),hb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qd)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ua]=e,t[gc]=n,rC(t,e,!1,!1),e.stateNode=t;e:{switch(s=mv(r,n),r){case"dialog":ir("cancel",t),ir("close",t),a=n;break;case"iframe":case"object":case"embed":ir("load",t),a=n;break;case"video":case"audio":for(a=0;a<$l.length;a++)ir($l[a],t);a=n;break;case"source":ir("error",t),a=n;break;case"img":case"image":case"link":ir("error",t),ir("load",t),a=n;break;case"details":ir("toggle",t),a=n;break;case"input":fb(t,n),a=ov(t,n),ir("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=hr({},n,{value:void 0}),ir("invalid",t);break;case"textarea":mb(t,n),a=cv(t,n),ir("invalid",t);break;default:a=n}dv(r,a),u=a;for(i in u)if(u.hasOwnProperty(i)){var l=u[i];i==="style"?OA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FA(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uc(t,l):typeof l=="number"&&uc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ir("scroll",t):l!=null&&Qg(t,i,l,s))}switch(r){case"input":Tf(t),db(t,n,!1);break;case"textarea":Tf(t),hb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cs(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?lu(t,!!n.multiple,i,!1):n.defaultValue!=null&&lu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=qd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(t&&e.stateNode!=null)aC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=Qs(xc.current),Qs(Ga.current),kf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ua]=e,(i=n.nodeValue!==r)&&(t=Qn,t!==null))switch(t.tag){case 3:jf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ua]=e,e.stateNode=n}return cn(e),null;case 13:if(or(dr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&Wn!==null&&e.mode&1&&!(e.flags&128))ND(),Eu(),e.flags|=98560,i=!1;else if(i=kf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[Ua]=e}else Eu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),i=!1}else _a!==null&&(Wv(_a),_a=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||dr.current&1?Or===0&&(Or=3):M0())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return Au(),$v(t,e),t===null&&pc(e.stateNode.containerInfo),cn(e),null;case 10:return m0(e.type._context),cn(e),null;case 17:return jn(e.type)&&Hd(),cn(e),null;case 19:if(or(dr),i=e.memoizedState,i===null)return cn(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Pl(i,!1);else{if(Or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yd(t),s!==null){for(e.flags|=128,Pl(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nr(dr,dr.current&1|2),e.child}t=t.sibling}i.tail!==null&&_r()>Cu&&(e.flags|=128,n=!0,Pl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Yd(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!cr)return cn(e),null}else 2*_r()-i.renderingStartTime>Cu&&r!==1073741824&&(e.flags|=128,n=!0,Pl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_r(),e.sibling=null,r=dr.current,nr(dr,n?r&1|2:r&1),e):(cn(e),null);case 22:case 23:return T0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hn&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function fO(t,e){switch(l0(e),e.tag){case 1:return jn(e.type)&&Hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Au(),or(Bn),or(gn),y0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g0(e),null;case 13:if(or(dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Eu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return or(dr),null;case 4:return Au(),null;case 10:return m0(e.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var zf=!1,hn=!1,dO=typeof WeakSet=="function"?WeakSet:Set,qe=null;function au(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(t,e,n)}else r.current=null}function Lv(t,e,r){try{r()}catch(n){gr(t,e,n)}}var nw=!1;function mO(t,e){if(_v=zd,t=lD(),o0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,u=-1,l=-1,o=0,c=0,f=t,d=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(u=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===r&&++o===a&&(u=s),d===i&&++c===n&&(l=s),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}r=u===-1||l===-1?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ev={focusedElem:t,selectionRange:r},zd=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,T=h.memoizedState,S=e.stateNode,C=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:wa(e.type,v),T);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(M){gr(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return h=nw,nw=!1,h}function Jl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Lv(e,r,i)}a=a.next}while(a!==n)}}function ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function zv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iC(t){var e=t.alternate;e!==null&&(t.alternate=null,iC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ua],delete e[gc],delete e[Dv],delete e[XR],delete e[KR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sC(t){return t.tag===5||t.tag===3||t.tag===4}function aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=qd));else if(n!==4&&(t=t.child,t!==null))for(Vv(t,e,r),t=t.sibling;t!==null;)Vv(t,e,r),t=t.sibling}function Uv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Uv(t,e,r),t=t.sibling;t!==null;)Uv(t,e,r),t=t.sibling}var Jr=null,Na=!1;function Oi(t,e,r){for(r=r.child;r!==null;)oC(t,e,r),r=r.sibling}function oC(t,e,r){if(Ha&&typeof Ha.onCommitFiberUnmount=="function")try{Ha.onCommitFiberUnmount(Km,r)}catch{}switch(r.tag){case 5:hn||au(r,e);case 6:var n=Jr,a=Na;Jr=null,Oi(t,e,r),Jr=n,Na=a,Jr!==null&&(Na?(t=Jr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Na?(t=Jr,r=r.stateNode,t.nodeType===8?Ap(t.parentNode,r):t.nodeType===1&&Ap(t,r),dc(t)):Ap(Jr,r.stateNode));break;case 4:n=Jr,a=Na,Jr=r.stateNode.containerInfo,Na=!0,Oi(t,e,r),Jr=n,Na=a;break;case 0:case 11:case 14:case 15:if(!hn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Lv(r,e,s),a=a.next}while(a!==n)}Oi(t,e,r);break;case 1:if(!hn&&(au(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){gr(r,e,u)}Oi(t,e,r);break;case 21:Oi(t,e,r);break;case 22:r.mode&1?(hn=(n=hn)||r.memoizedState!==null,Oi(t,e,r),hn=n):Oi(t,e,r);break;default:Oi(t,e,r)}}function iw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dO),e.forEach(function(n){var a=NO.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function xa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:Jr=u.stateNode,Na=!1;break e;case 3:Jr=u.stateNode.containerInfo,Na=!0;break e;case 4:Jr=u.stateNode.containerInfo,Na=!0;break e}u=u.return}if(Jr===null)throw Error(Oe(160));oC(i,s,a),Jr=null,Na=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(o){gr(a,e,o)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uC(e,t),e=e.sibling}function uC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xa(e,t),La(t),n&4){try{Jl(3,t,t.return),ah(3,t)}catch(v){gr(t,t.return,v)}try{Jl(5,t,t.return)}catch(v){gr(t,t.return,v)}}break;case 1:xa(e,t),La(t),n&512&&r!==null&&au(r,r.return);break;case 5:if(xa(e,t),La(t),n&512&&r!==null&&au(r,r.return),t.flags&32){var a=t.stateNode;try{uc(a,"")}catch(v){gr(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,u=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&MA(a,i),mv(u,s);var o=mv(u,i);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?OA(a,f):c==="dangerouslySetInnerHTML"?FA(a,f):c==="children"?uc(a,f):Qg(a,c,f,o)}switch(u){case"input":uv(a,i);break;case"textarea":IA(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?lu(a,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?lu(a,!!i.multiple,i.defaultValue,!0):lu(a,!!i.multiple,i.multiple?[]:"",!1))}a[gc]=i}catch(v){gr(t,t.return,v)}}break;case 6:if(xa(e,t),La(t),n&4){if(t.stateNode===null)throw Error(Oe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(v){gr(t,t.return,v)}}break;case 3:if(xa(e,t),La(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(v){gr(t,t.return,v)}break;case 4:xa(e,t),La(t);break;case 13:xa(e,t),La(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(D0=_r())),n&4&&iw(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(hn=(o=hn)||c,xa(e,t),hn=o):xa(e,t),La(t),n&8192){if(o=t.memoizedState!==null,(t.stateNode.isHidden=o)&&!c&&t.mode&1)for(qe=t,c=t.child;c!==null;){for(f=qe=c;qe!==null;){switch(d=qe,m=d.child,d.tag){case 0:case 11:case 14:case 15:Jl(4,d,d.return);break;case 1:au(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(v){gr(n,r,v)}}break;case 5:au(d,d.return);break;case 22:if(d.memoizedState!==null){ow(f);continue}}m!==null?(m.return=d,qe=m):ow(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{a=f.stateNode,o?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,u.style.display=RA("display",s))}catch(v){gr(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=o?"":f.memoizedProps}catch(v){gr(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xa(e,t),La(t),n&4&&iw(t);break;case 21:break;default:xa(e,t),La(t)}}function La(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sC(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(uc(a,""),n.flags&=-33);var i=aw(t);Uv(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,u=aw(t);Vv(t,u,s);break;default:throw Error(Oe(161))}}catch(l){gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hO(t,e,r){qe=t,lC(t)}function lC(t,e,r){for(var n=(t.mode&1)!==0;qe!==null;){var a=qe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||zf;if(!s){var u=a.alternate,l=u!==null&&u.memoizedState!==null||hn;u=zf;var o=hn;if(zf=s,(hn=l)&&!o)for(qe=a;qe!==null;)s=qe,l=s.child,s.tag===22&&s.memoizedState!==null?uw(a):l!==null?(l.return=s,qe=l):uw(a);for(;i!==null;)qe=i,lC(i),i=i.sibling;qe=a,zf=u,hn=o}sw(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,qe=i):sw(t)}}function sw(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||ah(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hn)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:wa(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qb(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qb(e,s,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var o=e.alternate;if(o!==null){var c=o.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}hn||e.flags&512&&zv(e)}catch(d){gr(e,e.return,d)}}if(e===t){qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,qe=r;break}qe=e.return}}function ow(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,qe=r;break}qe=e.return}}function uw(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ah(4,e)}catch(l){gr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){gr(e,a,l)}}var i=e.return;try{zv(e)}catch(l){gr(e,i,l)}break;case 5:var s=e.return;try{zv(e)}catch(l){gr(e,s,l)}}}catch(l){gr(e,e.return,l)}if(e===t){qe=null;break}var u=e.sibling;if(u!==null){u.return=e.return,qe=u;break}qe=e.return}}var pO=Math.ceil,tm=Si.ReactCurrentDispatcher,S0=Si.ReactCurrentOwner,fa=Si.ReactCurrentBatchConfig,zt=0,Xr=null,Ar=null,rn=0,Hn=0,iu=_s(0),Or=0,_c=null,ao=0,ih=0,A0=0,Yl=null,Rn=null,D0=0,Cu=1/0,oi=null,rm=!1,qv=null,es=null,Vf=!1,qi=null,nm=0,Zl=0,Hv=null,Sd=-1,Ad=0;function _n(){return zt&6?_r():Sd!==-1?Sd:Sd=_r()}function ts(t){return t.mode&1?zt&2&&rn!==0?rn&-rn:YR.transition!==null?(Ad===0&&(Ad=WA()),Ad):(t=Kt,t!==0||(t=window.event,t=t===void 0?16:eD(t.type)),t):1}function Da(t,e,r,n){if(50<Zl)throw Zl=0,Hv=null,Error(Oe(185));Uc(t,r,n),(!(zt&2)||t!==Xr)&&(t===Xr&&(!(zt&2)&&(ih|=r),Or===4&&Vi(t,rn)),kn(t,n),r===1&&zt===0&&!(e.mode&1)&&(Cu=_r()+500,th&&Es()))}function kn(t,e){var r=t.callbackNode;YF(t,e);var n=Ld(t,t===Xr?rn:0);if(n===0)r!==null&&gb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&gb(r),e===1)t.tag===0?JR(lw.bind(null,t)):xD(lw.bind(null,t)),WR(function(){!(zt&6)&&Es()}),r=null;else{switch(QA(n)){case 1:r=Zg;break;case 4:r=HA;break;case 16:r=$d;break;case 536870912:r=GA;break;default:r=$d}r=gC(r,cC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cC(t,e){if(Sd=-1,Ad=0,zt&6)throw Error(Oe(327));var r=t.callbackNode;if(hu()&&t.callbackNode!==r)return null;var n=Ld(t,t===Xr?rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=am(t,n);else{e=n;var a=zt;zt|=2;var i=dC();(Xr!==t||rn!==e)&&(oi=null,Cu=_r()+500,Ys(t,e));do try{yO();break}catch(u){fC(t,u)}while(!0);d0(),tm.current=i,zt=a,Ar!==null?e=0:(Xr=null,rn=0,e=Or)}if(e!==0){if(e===2&&(a=yv(t),a!==0&&(n=a,e=Gv(t,a))),e===1)throw r=_c,Ys(t,0),Vi(t,n),kn(t,_r()),r;if(e===6)Vi(t,n);else{if(a=t.current.alternate,!(n&30)&&!vO(a)&&(e=am(t,n),e===2&&(i=yv(t),i!==0&&(n=i,e=Gv(t,i))),e===1))throw r=_c,Ys(t,0),Vi(t,n),kn(t,_r()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:Vs(t,Rn,oi);break;case 3:if(Vi(t,n),(n&130023424)===n&&(e=D0+500-_r(),10<e)){if(Ld(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){_n(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Av(Vs.bind(null,t,Rn,oi),e);break}Vs(t,Rn,oi);break;case 4:if(Vi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-Aa(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=_r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pO(n/1960))-n,10<n){t.timeoutHandle=Av(Vs.bind(null,t,Rn,oi),n);break}Vs(t,Rn,oi);break;case 5:Vs(t,Rn,oi);break;default:throw Error(Oe(329))}}}return kn(t,_r()),t.callbackNode===r?cC.bind(null,t):null}function Gv(t,e){var r=Yl;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=am(t,e),t!==2&&(e=Rn,Rn=r,e!==null&&Wv(e)),t}function Wv(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function vO(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ta(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~A0,e&=~ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Aa(e),n=1<<r;t[r]=-1,e&=~n}}function lw(t){if(zt&6)throw Error(Oe(327));hu();var e=Ld(t,0);if(!(e&1))return kn(t,_r()),null;var r=am(t,e);if(t.tag!==0&&r===2){var n=yv(t);n!==0&&(e=n,r=Gv(t,n))}if(r===1)throw r=_c,Ys(t,0),Vi(t,e),kn(t,_r()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,Rn,oi),kn(t,_r()),null}function C0(t,e){var r=zt;zt|=1;try{return t(e)}finally{zt=r,zt===0&&(Cu=_r()+500,th&&Es())}}function io(t){qi!==null&&qi.tag===0&&!(zt&6)&&hu();var e=zt;zt|=1;var r=fa.transition,n=Kt;try{if(fa.transition=null,Kt=1,t)return t()}finally{Kt=n,fa.transition=r,zt=e,!(zt&6)&&Es()}}function T0(){Hn=iu.current,or(iu)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,GR(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(l0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hd();break;case 3:Au(),or(Bn),or(gn),y0();break;case 5:g0(n);break;case 4:Au();break;case 13:or(dr);break;case 19:or(dr);break;case 10:m0(n.type._context);break;case 22:case 23:T0()}r=r.return}if(Xr=t,Ar=t=rs(t.current,null),rn=Hn=e,Or=0,_c=null,A0=ih=ao=0,Rn=Yl=null,Ws!==null){for(e=0;e<Ws.length;e++)if(r=Ws[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Ws=null}return t}function fC(t,e){do{var r=Ar;try{if(d0(),Nd.current=em,Zd){for(var n=mr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Zd=!1}if(no=0,Gr=Fr=mr=null,Kl=!1,bc=0,S0.current=null,r===null||r.return===null){Or=1,_c=e,Ar=null;break}e:{var i=t,s=r.return,u=r,l=e;if(e=rn,u.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var o=l,c=u,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Kb(s);if(m!==null){m.flags&=-257,Jb(m,s,u,i,e),m.mode&1&&Xb(i,o,e),e=m,l=o;var h=e.updateQueue;if(h===null){var v=new Set;v.add(l),e.updateQueue=v}else h.add(l);break e}else{if(!(e&1)){Xb(i,o,e),M0();break e}l=Error(Oe(426))}}else if(cr&&u.mode&1){var T=Kb(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Jb(T,s,u,i,e),c0(Du(l,u));break e}}i=l=Du(l,u),Or!==4&&(Or=2),Yl===null?Yl=[i]:Yl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var S=QD(i,l,e);Ub(i,S);break e;case 1:u=l;var C=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(es===null||!es.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=XD(i,u,e);Ub(i,M);break e}}i=i.return}while(i!==null)}hC(r)}catch(y){e=y,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function dC(){var t=tm.current;return tm.current=em,t===null?em:t}function M0(){(Or===0||Or===3||Or===2)&&(Or=4),Xr===null||!(ao&268435455)&&!(ih&268435455)||Vi(Xr,rn)}function am(t,e){var r=zt;zt|=2;var n=dC();(Xr!==t||rn!==e)&&(oi=null,Ys(t,e));do try{gO();break}catch(a){fC(t,a)}while(!0);if(d0(),zt=r,tm.current=n,Ar!==null)throw Error(Oe(261));return Xr=null,rn=0,Or}function gO(){for(;Ar!==null;)mC(Ar)}function yO(){for(;Ar!==null&&!UF();)mC(Ar)}function mC(t){var e=vC(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?hC(t):Ar=e,S0.current=null}function hC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fO(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Or=6,Ar=null;return}}else if(r=cO(r,e,Hn),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Or===0&&(Or=5)}function Vs(t,e,r){var n=Kt,a=fa.transition;try{fa.transition=null,Kt=1,xO(t,e,r,n)}finally{fa.transition=a,Kt=n}return null}function xO(t,e,r,n){do hu();while(qi!==null);if(zt&6)throw Error(Oe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ZF(t,i),t===Xr&&(Ar=Xr=null,rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vf||(Vf=!0,gC($d,function(){return hu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fa.transition,fa.transition=null;var s=Kt;Kt=1;var u=zt;zt|=4,S0.current=null,mO(t,r),uC(r,t),$R(Ev),zd=!!_v,Ev=_v=null,t.current=r,hO(r),qF(),zt=u,Kt=s,fa.transition=i}else t.current=r;if(Vf&&(Vf=!1,qi=t,nm=a),i=t.pendingLanes,i===0&&(es=null),WF(r.stateNode),kn(t,_r()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(rm)throw rm=!1,t=qv,qv=null,t;return nm&1&&t.tag!==0&&hu(),i=t.pendingLanes,i&1?t===Hv?Zl++:(Zl=0,Hv=t):Zl=0,Es(),null}function hu(){if(qi!==null){var t=QA(nm),e=fa.transition,r=Kt;try{if(fa.transition=null,Kt=16>t?16:t,qi===null)var n=!1;else{if(t=qi,qi=null,nm=0,zt&6)throw Error(Oe(331));var a=zt;for(zt|=4,qe=t.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var u=i.deletions;if(u!==null){for(var l=0;l<u.length;l++){var o=u[l];for(qe=o;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:Jl(8,c,i)}var f=c.child;if(f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var d=c.sibling,m=c.return;if(iC(c),c===o){qe=null;break}if(d!==null){d.return=m,qe=d;break}qe=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jl(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,qe=S;break e}qe=i.return}}var C=t.current;for(qe=C;qe!==null;){s=qe;var N=s.child;if(s.subtreeFlags&2064&&N!==null)N.return=s,qe=N;else e:for(s=C;qe!==null;){if(u=qe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ah(9,u)}}catch(y){gr(u,u.return,y)}if(u===s){qe=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,qe=M;break e}qe=u.return}}if(zt=a,Es(),Ha&&typeof Ha.onPostCommitFiberRoot=="function")try{Ha.onPostCommitFiberRoot(Km,t)}catch{}n=!0}return n}finally{Kt=r,fa.transition=e}}return!1}function cw(t,e,r){e=Du(r,e),e=QD(t,e,1),t=Zi(t,e,1),e=_n(),t!==null&&(Uc(t,1,e),kn(t,e))}function gr(t,e,r){if(t.tag===3)cw(t,t,r);else for(;e!==null;){if(e.tag===3){cw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(es===null||!es.has(n))){t=Du(r,t),t=XD(e,t,1),e=Zi(e,t,1),t=_n(),e!==null&&(Uc(e,1,t),kn(e,t));break}}e=e.return}}function bO(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&r,Xr===t&&(rn&r)===r&&(Or===4||Or===3&&(rn&130023424)===rn&&500>_r()-D0?Ys(t,0):A0|=r),kn(t,e)}function pC(t,e){e===0&&(t.mode&1?(e=Pf,Pf<<=1,!(Pf&130023424)&&(Pf=4194304)):e=1);var r=_n();t=yi(t,e),t!==null&&(Uc(t,e,r),kn(t,r))}function wO(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pC(t,r)}function NO(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),pC(t,r)}var vC;vC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)On=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return On=!1,lO(t,e,r);On=!!(t.flags&131072)}else On=!1,cr&&e.flags&1048576&&bD(e,Qd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ed(t,e),t=e.pendingProps;var a=_u(e,gn.current);mu(e,r),a=b0(null,e,n,t,a,r);var i=w0();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(n)?(i=!0,Gd(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,p0(e),a.updater=nh,e.stateNode=a,a._reactInternals=e,Fv(e,n,t,r),e=Bv(null,e,n,!0,i,r)):(e.tag=0,cr&&i&&u0(e),Nn(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ed(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=EO(n),t=wa(n,t),a){case 0:e=Ov(null,e,n,t,r);break e;case 1:e=ew(null,e,n,t,r);break e;case 11:e=Yb(null,e,n,t,r);break e;case 14:e=Zb(null,e,n,wa(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:wa(n,a),Ov(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:wa(n,a),ew(t,e,n,a,r);case 3:e:{if(ZD(e),t===null)throw Error(Oe(387));n=e.pendingProps,i=e.memoizedState,a=i.element,AD(t,e),Jd(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Du(Error(Oe(423)),e),e=tw(t,e,n,r,a);break e}else if(n!==a){a=Du(Error(Oe(424)),e),e=tw(t,e,n,r,a);break e}else for(Wn=Yi(e.stateNode.containerInfo.firstChild),Qn=e,cr=!0,_a=null,r=ED(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eu(),n===a){e=xi(t,e,r);break e}Nn(t,e,n,r)}e=e.child}return e;case 5:return DD(e),t===null&&Mv(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Sv(n,a)?s=null:i!==null&&Sv(n,i)&&(e.flags|=32),YD(t,e),Nn(t,e,s,r),e.child;case 6:return t===null&&Mv(e),null;case 13:return eC(t,e,r);case 4:return v0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Su(e,null,n,r):Nn(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:wa(n,a),Yb(t,e,n,a,r);case 7:return Nn(t,e,e.pendingProps,r),e.child;case 8:return Nn(t,e,e.pendingProps.children,r),e.child;case 12:return Nn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,nr(Xd,n._currentValue),n._currentValue=s,i!==null)if(Ta(i.value,s)){if(i.children===a.children&&!Bn.current){e=xi(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var l=u.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=mi(-1,r&-r),l.tag=2;var o=i.updateQueue;if(o!==null){o=o.shared;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Iv(i.return,r,e),u.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Oe(341));s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Iv(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Nn(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,mu(e,r),a=ma(a),n=n(a),e.flags|=1,Nn(t,e,n,r),e.child;case 14:return n=e.type,a=wa(n,e.pendingProps),a=wa(n.type,a),Zb(t,e,n,a,r);case 15:return KD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:wa(n,a),Ed(t,e),e.tag=1,jn(n)?(t=!0,Gd(e)):t=!1,mu(e,r),WD(e,n,a),Fv(e,n,a,r),Bv(null,e,n,!0,t,r);case 19:return tC(t,e,r);case 22:return JD(t,e,r)}throw Error(Oe(156,e.tag))};function gC(t,e){return qA(t,e)}function _O(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(t,e,r,n){return new _O(t,e,r,n)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EO(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Jg)return 14}return 2}function rs(t,e){var r=t.alternate;return r===null?(r=ca(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dd(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")I0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Xo:return Zs(r.children,a,i,e);case Xg:s=8,a|=8;break;case nv:return t=ca(12,r,e,a|2),t.elementType=nv,t.lanes=i,t;case av:return t=ca(13,r,e,a),t.elementType=av,t.lanes=i,t;case iv:return t=ca(19,r,e,a),t.elementType=iv,t.lanes=i,t;case DA:return sh(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SA:s=10;break e;case AA:s=9;break e;case Kg:s=11;break e;case Jg:s=14;break e;case ji:s=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=ca(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Zs(t,e,r,n){return t=ca(7,t,n,e),t.lanes=r,t}function sh(t,e,r,n){return t=ca(22,t,n,e),t.elementType=DA,t.lanes=r,t.stateNode={isHidden:!1},t}function Rp(t,e,r){return t=ca(6,t,null,e),t.lanes=r,t}function Op(t,e,r){return e=ca(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SO(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function P0(t,e,r,n,a,i,s,u,l){return t=new SO(t,e,r,u,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ca(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(i),t}function AO(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yC(t){if(!t)return fs;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(jn(r))return yD(t,r,e)}return e}function xC(t,e,r,n,a,i,s,u,l){return t=P0(r,n,!0,t,a,i,s,u,l),t.context=yC(null),r=t.current,n=_n(),a=ts(r),i=mi(n,a),i.callback=e??null,Zi(r,i,a),t.current.lanes=a,Uc(t,a,n),kn(t,n),t}function oh(t,e,r,n){var a=e.current,i=_n(),s=ts(a);return r=yC(r),e.context===null?e.context=r:e.pendingContext=r,e=mi(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zi(a,e,s),t!==null&&(Da(t,a,s,i),wd(t,a,s)),s}function im(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function F0(t,e){fw(t,e),(t=t.alternate)&&fw(t,e)}function DO(){return null}var bC=typeof reportError=="function"?reportError:function(t){console.error(t)};function R0(t){this._internalRoot=t}uh.prototype.render=R0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));oh(t,e,null,null)};uh.prototype.unmount=R0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){oh(null,t,null,null)}),e[gi]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=JA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zi.length&&e!==0&&e<zi[r].priority;r++);zi.splice(r,0,t),r===0&&ZA(t)}};function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dw(){}function CO(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var o=im(s);i.call(o)}}var s=xC(e,n,t,0,null,!1,!1,"",dw);return t._reactRootContainer=s,t[gi]=s.current,pc(t.nodeType===8?t.parentNode:t),io(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var o=im(l);u.call(o)}}var l=P0(t,0,!1,null,null,!1,!1,"",dw);return t._reactRootContainer=l,t[gi]=l.current,pc(t.nodeType===8?t.parentNode:t),io(function(){oh(e,l,r,n)}),l}function ch(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var u=a;a=function(){var l=im(s);u.call(l)}}oh(e,s,t,a)}else s=CO(r,e,t,a,n);return im(s)}XA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kl(e.pendingLanes);r!==0&&(e0(e,r|1),kn(e,_r()),!(zt&6)&&(Cu=_r()+500,Es()))}break;case 13:io(function(){var n=yi(t,1);if(n!==null){var a=_n();Da(n,t,1,a)}}),F0(t,1)}};t0=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var r=_n();Da(e,t,134217728,r)}F0(t,134217728)}};KA=function(t){if(t.tag===13){var e=ts(t),r=yi(t,e);if(r!==null){var n=_n();Da(r,t,e,n)}F0(t,e)}};JA=function(){return Kt};YA=function(t,e){var r=Kt;try{return Kt=t,e()}finally{Kt=r}};pv=function(t,e,r){switch(e){case"input":if(uv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=eh(n);if(!a)throw Error(Oe(90));TA(n),uv(n,a)}}}break;case"textarea":IA(t,r);break;case"select":e=r.value,e!=null&&lu(t,!!r.multiple,e,!1)}};kA=C0;$A=io;var TO={usingClientEntryPoint:!1,Events:[Hc,Zo,eh,BA,jA,C0]},Fl={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MO={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VA(t),t===null?null:t.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||DO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{Km=Uf.inject(MO),Ha=Uf}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;Jn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(e))throw Error(Oe(200));return AO(t,e,null,r)};Jn.createRoot=function(t,e){if(!O0(t))throw Error(Oe(299));var r=!1,n="",a=bC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=P0(t,1,!1,null,null,r,!1,n,a),t[gi]=e.current,pc(t.nodeType===8?t.parentNode:t),new R0(e)};Jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=VA(e),t=t===null?null:t.stateNode,t};Jn.flushSync=function(t){return io(t)};Jn.hydrate=function(t,e,r){if(!lh(e))throw Error(Oe(200));return ch(null,t,e,!0,r)};Jn.hydrateRoot=function(t,e,r){if(!O0(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=bC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=xC(e,null,t,1,r??null,a,!1,i,s),t[gi]=e.current,pc(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new uh(e)};Jn.render=function(t,e,r){if(!lh(e))throw Error(Oe(200));return ch(null,t,e,!1,r)};Jn.unmountComponentAtNode=function(t){if(!lh(t))throw Error(Oe(40));return t._reactRootContainer?(io(function(){ch(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Jn.unstable_batchedUpdates=C0;Jn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lh(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return ch(t,e,r,!1,n)};Jn.version="18.3.1-next-f1338f8080-20240426";function wC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wC)}catch(t){console.error(t)}}wC(),wA.exports=Jn;var IO=wA.exports,NC,mw=IO;NC=mw.createRoot,mw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const hw="popstate";function PO(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:u}=n.location;return Qv("",{pathname:i,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:sm(a)}return RO(e,r,null,t)}function Tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _C(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FO(){return Math.random().toString(36).substr(2,8)}function pw(t,e){return{usr:t.state,key:t.key,idx:e}}function Qv(t,e,r,n){return r===void 0&&(r=null),Ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wu(e):e,{state:r,key:e&&e.key||n||FO()})}function sm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function RO(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,u=Hi.Pop,l=null,o=c();o==null&&(o=0,s.replaceState(Ec({},s.state,{idx:o}),""));function c(){return(s.state||{idx:null}).idx}function f(){u=Hi.Pop;let T=c(),S=T==null?null:T-o;o=T,l&&l({action:u,location:v.location,delta:S})}function d(T,S){u=Hi.Push;let C=Qv(v.location,T,S);o=c()+1;let N=pw(C,o),M=v.createHref(C);try{s.pushState(N,"",M)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;a.location.assign(M)}i&&l&&l({action:u,location:v.location,delta:1})}function m(T,S){u=Hi.Replace;let C=Qv(v.location,T,S);o=c();let N=pw(C,o),M=v.createHref(C);s.replaceState(N,"",M),i&&l&&l({action:u,location:v.location,delta:0})}function h(T){let S=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof T=="string"?T:sm(T);return C=C.replace(/ $/,"%20"),Tr(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let v={get action(){return u},get location(){return t(a,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hw,f),l=T,()=>{a.removeEventListener(hw,f),l=null}},createHref(T){return e(a,T)},createURL:h,encodeLocation(T){let S=h(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:d,replace:m,go(T){return s.go(T)}};return v}var vw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vw||(vw={}));function OO(t,e,r){return r===void 0&&(r="/"),BO(t,e,r)}function BO(t,e,r,n){let a=typeof e=="string"?Wu(e):e,i=B0(a.pathname||"/",r);if(i==null)return null;let s=EC(t);jO(s);let u=null;for(let l=0;u==null&&l<s.length;++l){let o=XO(i);u=GO(s[l],o)}return u}function EC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,u)=>{let l={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Tr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let o=ns([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(Tr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),EC(i.children,e,c,o)),!(i.path==null&&!i.index)&&e.push({path:o,score:qO(o,i.index),routesMeta:c})};return t.forEach((i,s)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,s);else for(let l of SC(i.path))a(i,s,l)}),e}function SC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=SC(n.join("/")),u=[];return u.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&u.push(...s),u.map(l=>t.startsWith("/")&&l===""?"/":l)}function jO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:HO(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kO=/^:[\w-]+$/,$O=3,LO=2,zO=1,VO=10,UO=-2,gw=t=>t==="*";function qO(t,e){let r=t.split("/"),n=r.length;return r.some(gw)&&(n+=UO),e&&(n+=LO),r.filter(a=>!gw(a)).reduce((a,i)=>a+(kO.test(i)?$O:i===""?zO:VO),n)}function HO(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function GO(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let u=0;u<n.length;++u){let l=n[u],o=u===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=WO({path:l.relativePath,caseSensitive:l.caseSensitive,end:o},c),d=l.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ns([i,f.pathname]),pathnameBase:ZO(ns([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=ns([i,f.pathnameBase]))}return s}function WO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=QO(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((o,c,f)=>{let{paramName:d,isOptional:m}=c;if(d==="*"){let v=u[f]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const h=u[f];return m&&!h?o[d]=void 0:o[d]=(h||"").replace(/%2F/g,"/"),o},{}),pathname:i,pathnameBase:s,pattern:t}}function QO(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),_C(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,l)=>(n.push({paramName:u,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function XO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _C(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function B0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function KO(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Wu(t):t;return{pathname:r?r.startsWith("/")?r:JO(r,e):e,search:e6(n),hash:t6(a)}}function JO(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Bp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YO(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function AC(t,e){let r=YO(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function DC(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Wu(t):(a=Ec({},t),Tr(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),Tr(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),Tr(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,u;if(s==null)u=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}u=f>=0?e[f]:"/"}let l=KO(a,u),o=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(o||c)&&(l.pathname+="/"),l}const ns=t=>t.join("/").replace(/\/\/+/g,"/"),ZO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CC=["post","put","patch","delete"];new Set(CC);const n6=["get",...CC];new Set(n6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sc.apply(this,arguments)}const j0=W.createContext(null),a6=W.createContext(null),ho=W.createContext(null),fh=W.createContext(null),po=W.createContext({outlet:null,matches:[],isDataRoute:!1}),TC=W.createContext(null);function i6(t,e){let{relative:r}=e===void 0?{}:e;Wc()||Tr(!1);let{basename:n,navigator:a}=W.useContext(ho),{hash:i,pathname:s,search:u}=IC(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:ns([n,s])),a.createHref({pathname:l,search:u,hash:i})}function Wc(){return W.useContext(fh)!=null}function dh(){return Wc()||Tr(!1),W.useContext(fh).location}function MC(t){W.useContext(ho).static||W.useLayoutEffect(t)}function s6(){let{isDataRoute:t}=W.useContext(po);return t?x6():o6()}function o6(){Wc()||Tr(!1);let t=W.useContext(j0),{basename:e,future:r,navigator:n}=W.useContext(ho),{matches:a}=W.useContext(po),{pathname:i}=dh(),s=JSON.stringify(AC(a,r.v7_relativeSplatPath)),u=W.useRef(!1);return MC(()=>{u.current=!0}),W.useCallback(function(o,c){if(c===void 0&&(c={}),!u.current)return;if(typeof o=="number"){n.go(o);return}let f=DC(o,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ns([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,i,t])}function IC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=W.useContext(ho),{matches:a}=W.useContext(po),{pathname:i}=dh(),s=JSON.stringify(AC(a,n.v7_relativeSplatPath));return W.useMemo(()=>DC(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function u6(t,e){return l6(t,e)}function l6(t,e,r,n){Wc()||Tr(!1);let{navigator:a}=W.useContext(ho),{matches:i}=W.useContext(po),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let o=dh(),c;if(e){var f;let T=typeof e=="string"?Wu(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||Tr(!1),c=T}else c=o;let d=c.pathname||"/",m=d;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let h=OO(t,{pathname:m}),v=h6(h&&h.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ns([l,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ns([l,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,r,n);return e&&v?W.createElement(fh.Provider,{value:{location:Sc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Hi.Pop}},v):v}function c6(){let t=y6(),e=r6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:a},r):null,null)}const f6=W.createElement(c6,null);class d6 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(po.Provider,{value:this.props.routeContext},W.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m6(t){let{routeContext:e,match:r,children:n}=t,a=W.useContext(j0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(po.Provider,{value:e},n)}function h6(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,u=(a=r)==null?void 0:a.errors;if(u!=null){let c=s.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);c>=0||Tr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,o=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=c),f.route.id){let{loaderData:d,errors:m}=r,h=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||h){l=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let m,h=!1,v=null,T=null;r&&(m=u&&f.route.id?u[f.route.id]:void 0,v=f.route.errorElement||f6,l&&(o<0&&d===0?(b6("route-fallback"),h=!0,T=null):o===d&&(h=!0,T=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,d+1)),C=()=>{let N;return m?N=v:h?N=T:f.route.Component?N=W.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=c,W.createElement(m6,{match:f,routeContext:{outlet:c,matches:S,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?W.createElement(d6,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var PC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PC||{}),FC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FC||{});function p6(t){let e=W.useContext(j0);return e||Tr(!1),e}function v6(t){let e=W.useContext(a6);return e||Tr(!1),e}function g6(t){let e=W.useContext(po);return e||Tr(!1),e}function RC(t){let e=g6(),r=e.matches[e.matches.length-1];return r.route.id||Tr(!1),r.route.id}function y6(){var t;let e=W.useContext(TC),r=v6(),n=RC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function x6(){let{router:t}=p6(PC.UseNavigateStable),e=RC(FC.UseNavigateStable),r=W.useRef(!1);return MC(()=>{r.current=!0}),W.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Sc({fromRouteId:e},i)))},[t,e])}const yw={};function b6(t,e,r){yw[t]||(yw[t]=!0)}function w6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wt(t){Tr(!1)}function N6(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Hi.Pop,navigator:i,static:s=!1,future:u}=t;Wc()&&Tr(!1);let l=e.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:l,navigator:i,static:s,future:Sc({v7_relativeSplatPath:!1},u)}),[l,u,i,s]);typeof n=="string"&&(n=Wu(n));let{pathname:c="/",search:f="",hash:d="",state:m=null,key:h="default"}=n,v=W.useMemo(()=>{let T=B0(c,l);return T==null?null:{location:{pathname:T,search:f,hash:d,state:m,key:h},navigationType:a}},[l,c,f,d,m,h,a]);return v==null?null:W.createElement(ho.Provider,{value:o},W.createElement(fh.Provider,{children:r,value:v}))}function _6(t){let{children:e,location:r}=t;return u6(Xv(e),r)}new Promise(()=>{});function Xv(t,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(t,(n,a)=>{if(!W.isValidElement(n))return;let i=[...e,a];if(n.type===W.Fragment){r.push.apply(r,Xv(n.props.children,i));return}n.type!==wt&&Tr(!1),!n.props.index||!n.props.children||Tr(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Xv(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(this,arguments)}function E6(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function S6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A6(t,e){return t.button===0&&(!e||e==="_self")&&!S6(t)}const D6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C6="6";try{window.__reactRouterVersion=C6}catch{}const T6="startTransition",xw=bF[T6];function M6(t){let{basename:e,children:r,future:n,window:a}=t,i=W.useRef();i.current==null&&(i.current=PO({window:a,v5Compat:!0}));let s=i.current,[u,l]=W.useState({action:s.action,location:s.location}),{v7_startTransition:o}=n||{},c=W.useCallback(f=>{o&&xw?xw(()=>l(f)):l(f)},[l,o]);return W.useLayoutEffect(()=>s.listen(c),[s,c]),W.useEffect(()=>w6(n),[n]),W.createElement(N6,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:s,future:n})}const I6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F6=W.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:u,target:l,to:o,preventScrollReset:c,viewTransition:f}=e,d=E6(e,D6),{basename:m}=W.useContext(ho),h,v=!1;if(typeof o=="string"&&P6.test(o)&&(h=o,I6))try{let N=new URL(window.location.href),M=o.startsWith("//")?new URL(N.protocol+o):new URL(o),y=B0(M.pathname,m);M.origin===N.origin&&y!=null?o=y+M.search+M.hash:v=!0}catch{}let T=i6(o,{relative:a}),S=R6(o,{replace:s,state:u,target:l,preventScrollReset:c,relative:a,viewTransition:f});function C(N){n&&n(N),N.defaultPrevented||S(N)}return W.createElement("a",Kv({},d,{href:h||T,onClick:v||i?n:C,ref:r,target:l}))});var bw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bw||(bw={}));var ww;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ww||(ww={}));function R6(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:u}=e===void 0?{}:e,l=s6(),o=dh(),c=IC(t,{relative:s});return W.useCallback(f=>{if(A6(f,r)){f.preventDefault();let d=n!==void 0?n:sm(o)===sm(c);l(t,{replace:d,state:a,preventScrollReset:i,relative:s,viewTransition:u})}},[o,l,c,n,a,r,t,i,s,u])}function O6(){const t=[{title:"1. Root of Equation",topics:[{id:"bisection",name:"Bisection Method",path:"/bisection"},{id:"falseposition",name:"False Position Method",path:"/falseposition"},{id:"onepoint",name:"One-Point Iteration",path:"/onepoint"},{id:"taylor",name:"Taylor Series",path:"/taylor"},{id:"newtonraphson",name:"Newton–Raphson Method",path:"/newtonraphson"},{id:"secant",name:"Secant Method",path:"/secant"}]},{title:"2. Linear System",topics:[{id:"cramer",name:"Cramer’s Rule",path:"/cramer"},{id:"gaussian",name:"Gaussian Elimination Method",path:"/gaussian"},{id:"gaussjordan",name:"Gauss–Jordan Method",path:"/gaussjordan"},{id:"matrixinversion",name:"Matrix Inversion Method",path:"/matrixinversion"},{id:"ludecomposition",name:"LU Decomposition",path:"/ludecomposition"},{id:"cholesky",name:"Cholesky Decomposition",path:"/cholesky"},{id:"jacobi",name:"Jacobi Iteration Method",path:"/jacobi"},{id:"gaussseidel",name:"Gauss–Seidel Iteration Method",path:"/gaussseidel"},{id:"conjugategradient",name:"Conjugate Gradient Method",path:"/conjugategradient"}]},{title:"3. Interpolation",topics:[{id:"lagrangeinterp",name:"Lagrange Interpolation",path:"/lagrangeinterp"},{id:"linearinterp",name:"Linear Interpolation",path:"/linearinterp"},{id:"quadraticinterp",name:"Quadratic Interpolation",path:"/quadraticinterp"},{id:"polynomialinterp",name:"Polynomial Interpolation",path:"/polynomialinterp"},{id:"linearspline",name:"Linear Spline",path:"/linearspline"},{id:"quadraticspline",name:"Quadratic Spline",path:"/quadraticspline"},{id:"cubicspline",name:"Cubic Spline",path:"/cubicspline"}]},{title:"4. Regression",topics:[{id:"singlelinear",name:"Single Linear Regression",path:"/singlelinear"},{id:"multiplelinear",name:"Multiple Linear Regression",path:"/multiplelinear"},{id:"polynomialreg",name:"Polynomial Regression",path:"/polynomialreg"},{id:"nonlinearreg",name:"Nonlinear Regression",path:"/nonlinearreg"}]},{title:"5. Integration",topics:[{id:"singletrapezoidal",name:"Single Trapezoidal Rule",path:"/singletrapezoidal"},{id:"compositetrapezoidal",name:"Composite Trapezoidal Rule",path:"/compositetrapezoidal"},{id:"simpsonsrule",name:"Simpson’s Rule",path:"/simpsonsrule"},{id:"compositesimpson",name:"Composite Simpson’s Rule",path:"/compositesimpson"}]},{title:"6. Differentiation",topics:[{id:"firstdivided",name:"First Divided-Difference",path:"/firstdivided"},{id:"seconddivided",name:"Second Divided-Difference",path:"/seconddivided"},{id:"forwarddivided",name:"Forward Divided-Difference",path:"/forwarddivided"},{id:"backwarddivided",name:"Backward Divided-Difference",path:"/backwarddivided"},{id:"centraldivided",name:"Central Divided-Difference",path:"/centraldivided"}]}];return p.jsxs("div",{className:"min-h-screen w-full flex flex-col justify-center items-center p-6 bg-slate-900",children:[p.jsx("h1",{className:"text-3xl font-bold text-cyan-400 mb-8 text-center fade-in",children:"Numerical Methods"}),p.jsx("div",{className:"flex justify-center items-center w-full",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mx-auto",children:t.map(e=>p.jsxs("div",{className:`bg-slate-800 rounded-xl p-5 shadow-lg border border-cyan-700 w-72\r
                         transform transition-all duration-300 fade-in-delay1\r
                         hover:scale-105 hover:shadow-2xl glow-btn`,children:[p.jsx("h2",{className:"text-lg font-semibold text-cyan-300 mb-3 text-center",children:e.title}),p.jsx("ul",{className:"space-y-2",children:e.topics.map(r=>p.jsx("li",{className:"bg-slate-700 p-2 rounded-md hover:bg-slate-600 transition-colors",children:p.jsx(F6,{to:r.path,className:"block text-center",children:r.name})},r.id))})]},e.title))})})]})}const B6=()=>{};var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},j6=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],s=t[r++],u=t[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],s=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},BC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,u=s?t[a+1]:0,l=a+2<t.length,o=l?t[a+2]:0,c=i>>2,f=(i&3)<<4|u>>4;let d=(u&15)<<2|o>>6,m=o&63;l||(m=64,s||(d=64)),n.push(r[c],r[f],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],u=a<t.length?r[t.charAt(a)]:0;++a;const o=a<t.length?r[t.charAt(a)]:64;++a;const f=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||u==null||o==null||f==null)throw new k6;const d=i<<2|u>>4;if(n.push(d),o!==64){const m=u<<4&240|o>>2;if(n.push(m),f!==64){const h=o<<6&192|f;n.push(h)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $6=function(t){const e=OC(t);return BC.encodeByteArray(e,!0)},om=function(t){return $6(t).replace(/\./g,"")},L6=function(t){try{return BC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=()=>z6().__FIREBASE_DEFAULTS__,U6=()=>{if(typeof process>"u"||typeof Nw>"u")return;const t=Nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L6(t[1]);return e&&JSON.parse(e)},k0=()=>{try{return B6()||V6()||U6()||q6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H6=t=>{var e,r;return(r=(e=k0())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},G6=t=>{const e=H6(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},jC=()=>{var t;return(t=k0())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[om(JSON.stringify(r)),om(JSON.stringify(s)),""].join(".")}const ec={};function K6(){const t={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?t.emulator.push(e):t.prod.push(e);return t}function J6(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let _w=!1;function Y6(t,e){if(typeof window>"u"||typeof document>"u"||!$0(window.location.host)||ec[t]===e||ec[t]||_w)return;ec[t]=e;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",i=K6().prod.length>0;function s(){const d=document.getElementById(n);d&&d.remove()}function u(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function o(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{_w=!0,s()},d}function c(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=J6(n),m=r("text"),h=document.getElementById(m)||document.createElement("span"),v=r("learnmore"),T=document.getElementById(v)||document.createElement("a"),S=r("preprendIcon"),C=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const N=d.element;u(N),c(T,v);const M=o();l(C,S),N.append(C,h,T,M),document.body.appendChild(N)}i?(h.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,h.innerText="Preview backend running in this workspace."),h.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eB(){var e;const t=(e=k0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tB(){return!eB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rB(){try{return typeof indexedDB=="object"}catch{return!1}}function nB(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="FirebaseError";class Qu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=aB,Object.setPrototypeOf(this,Qu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kC.prototype.create)}}class kC{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?iB(i,n):"Error",u=`${this.serviceName}: ${s} (${a}).`;return new Qu(a,u,n)}}function iB(t,e){return t.replace(sB,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const sB=/\{\$([^}]+)}/g;function um(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],s=e[a];if(Ew(i)&&Ew(s)){if(!um(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){return t&&t._delegate?t._delegate:t}class Ac{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new W6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lB(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&s.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:uB(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uB(t){return t===Us?void 0:t}function lB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new oB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const fB={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},dB=Pt.INFO,mB={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},hB=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=mB[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $C{constructor(e){this.name=e,this._logLevel=dB,this._logHandler=hB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const pB=(t,e)=>e.some(r=>t instanceof r);let Sw,Aw;function vB(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gB(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LC=new WeakMap,Jv=new WeakMap,zC=new WeakMap,jp=new WeakMap,L0=new WeakMap;function yB(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(as(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&LC.set(r,t)}).catch(()=>{}),L0.set(e,t),e}function xB(t){if(Jv.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Jv.set(t,e)}let Yv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return as(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bB(t){Yv=t(Yv)}function wB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(kp(this),e,...r);return zC.set(n,e.sort?e.sort():[e]),as(n)}:gB().includes(t)?function(...e){return t.apply(kp(this),e),as(LC.get(this))}:function(...e){return as(t.apply(kp(this),e))}}function NB(t){return typeof t=="function"?wB(t):(t instanceof IDBTransaction&&xB(t),pB(t,vB())?new Proxy(t,Yv):t)}function as(t){if(t instanceof IDBRequest)return yB(t);if(jp.has(t))return jp.get(t);const e=NB(t);return e!==t&&(jp.set(t,e),L0.set(e,t)),e}const kp=t=>L0.get(t);function _B(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),u=as(s);return n&&s.addEventListener("upgradeneeded",l=>{n(as(s.result),l.oldVersion,l.newVersion,as(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),u.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",o=>a(o.oldVersion,o.newVersion,o))}).catch(()=>{}),u}const EB=["get","getKey","getAll","getAllKeys","count"],SB=["put","add","delete","clear"],$p=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=SB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||EB.includes(r)))return;const i=async function(s,...u){const l=this.transaction(s,a?"readwrite":"readonly");let o=l.store;return n&&(o=o.index(u.shift())),(await Promise.all([o[r](...u),a&&l.done]))[0]};return $p.set(e,i),i}bB(t=>({...t,get:(e,r,n)=>Dw(e,r)||t.get(e,r,n),has:(e,r)=>!!Dw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function DB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",Cw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new $C("@firebase/app"),CB="@firebase/app-compat",TB="@firebase/analytics-compat",MB="@firebase/analytics",IB="@firebase/app-check-compat",PB="@firebase/app-check",FB="@firebase/auth",RB="@firebase/auth-compat",OB="@firebase/database",BB="@firebase/data-connect",jB="@firebase/database-compat",kB="@firebase/functions",$B="@firebase/functions-compat",LB="@firebase/installations",zB="@firebase/installations-compat",VB="@firebase/messaging",UB="@firebase/messaging-compat",qB="@firebase/performance",HB="@firebase/performance-compat",GB="@firebase/remote-config",WB="@firebase/remote-config-compat",QB="@firebase/storage",XB="@firebase/storage-compat",KB="@firebase/firestore",JB="@firebase/ai",YB="@firebase/firestore-compat",ZB="firebase",e5="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",t5={[Zv]:"fire-core",[CB]:"fire-core-compat",[MB]:"fire-analytics",[TB]:"fire-analytics-compat",[PB]:"fire-app-check",[IB]:"fire-app-check-compat",[FB]:"fire-auth",[RB]:"fire-auth-compat",[OB]:"fire-rtdb",[BB]:"fire-data-connect",[jB]:"fire-rtdb-compat",[kB]:"fire-fn",[$B]:"fire-fn-compat",[LB]:"fire-iid",[zB]:"fire-iid-compat",[VB]:"fire-fcm",[UB]:"fire-fcm-compat",[qB]:"fire-perf",[HB]:"fire-perf-compat",[GB]:"fire-rc",[WB]:"fire-rc-compat",[QB]:"fire-gcs",[XB]:"fire-gcs-compat",[KB]:"fire-fst",[YB]:"fire-fst-compat",[JB]:"fire-vertex","fire-js":"fire-js",[ZB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,r5=new Map,tg=new Map;function Tw(t,e){try{t.container.addComponent(e)}catch(r){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function cm(t){const e=t.name;if(tg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const r of lm.values())Tw(r,t);for(const r of r5.values())Tw(r,t);return!0}function n5(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function a5(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new kC("app","Firebase",i5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=e5;function VC(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:eg,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw is.create("bad-app-name",{appName:String(a)});if(r||(r=jC()),!r)throw is.create("no-options");const i=lm.get(a);if(i){if(um(r,i.options)&&um(n,i.config))return i;throw is.create("duplicate-app",{appName:a})}const s=new cB(a);for(const l of tg.values())s.addComponent(l);const u=new s5(r,n,s);return lm.set(a,u),u}function u5(t=eg){const e=lm.get(t);if(!e&&t===eg&&jC())return VC();if(!e)throw is.create("no-app",{appName:t});return e}function pu(t,e,r){let n=t5[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${e}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(s.join(" "));return}cm(new Ac(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="firebase-heartbeat-database",c5=1,Dc="firebase-heartbeat-store";let Lp=null;function UC(){return Lp||(Lp=_B(l5,c5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dc)}catch(r){console.warn(r)}}}}).catch(t=>{throw is.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function f5(t){try{const r=(await UC()).transaction(Dc),n=await r.objectStore(Dc).get(qC(t));return await r.done,n}catch(e){if(e instanceof Qu)bi.warn(e.message);else{const r=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(r.message)}}}async function Mw(t,e){try{const n=(await UC()).transaction(Dc,"readwrite");await n.objectStore(Dc).put(e,qC(t)),await n.done}catch(r){if(r instanceof Qu)bi.warn(r.message);else{const n=is.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bi.warn(n.message)}}}function qC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=1024,m5=30;class h5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new v5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>m5){const s=g5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){bi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Iw(),{heartbeatsToSend:n,unsentEntries:a}=p5(this._heartbeatsCache.heartbeats),i=om(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return bi.warn(r),""}}}function Iw(){return new Date().toISOString().substring(0,10)}function p5(t,e=d5){const r=[];let n=t.slice();for(const a of t){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Pw(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Pw(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class v5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rB()?nB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await f5(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Pw(t){return om(JSON.stringify({version:2,heartbeats:t})).length}function g5(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){cm(new Ac("platform-logger",e=>new AB(e),"PRIVATE")),cm(new Ac("heartbeat",e=>new h5(e),"PRIVATE")),pu(Zv,Cw,t),pu(Zv,Cw,"esm2020"),pu("fire-js","")}y5("");var x5="firebase",b5="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pu(x5,b5,"app");var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,HC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,g){function _(){}_.prototype=g.prototype,w.F=g.prototype,w.prototype=new _,w.prototype.constructor=w,w.D=function(E,b,A){for(var I=Array(arguments.length-2),F=2;F<arguments.length;F++)I[F-2]=arguments[F];return g.prototype[b].apply(E,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(w,g,_){_||(_=0);const E=Array(16);if(typeof g=="string")for(var b=0;b<16;++b)E[b]=g.charCodeAt(_++)|g.charCodeAt(_++)<<8|g.charCodeAt(_++)<<16|g.charCodeAt(_++)<<24;else for(b=0;b<16;++b)E[b]=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24;g=w.g[0],_=w.g[1],b=w.g[2];let A=w.g[3],I;I=g+(A^_&(b^A))+E[0]+3614090360&4294967295,g=_+(I<<7&4294967295|I>>>25),I=A+(b^g&(_^b))+E[1]+3905402710&4294967295,A=g+(I<<12&4294967295|I>>>20),I=b+(_^A&(g^_))+E[2]+606105819&4294967295,b=A+(I<<17&4294967295|I>>>15),I=_+(g^b&(A^g))+E[3]+3250441966&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(A^_&(b^A))+E[4]+4118548399&4294967295,g=_+(I<<7&4294967295|I>>>25),I=A+(b^g&(_^b))+E[5]+1200080426&4294967295,A=g+(I<<12&4294967295|I>>>20),I=b+(_^A&(g^_))+E[6]+2821735955&4294967295,b=A+(I<<17&4294967295|I>>>15),I=_+(g^b&(A^g))+E[7]+4249261313&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(A^_&(b^A))+E[8]+1770035416&4294967295,g=_+(I<<7&4294967295|I>>>25),I=A+(b^g&(_^b))+E[9]+2336552879&4294967295,A=g+(I<<12&4294967295|I>>>20),I=b+(_^A&(g^_))+E[10]+4294925233&4294967295,b=A+(I<<17&4294967295|I>>>15),I=_+(g^b&(A^g))+E[11]+2304563134&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(A^_&(b^A))+E[12]+1804603682&4294967295,g=_+(I<<7&4294967295|I>>>25),I=A+(b^g&(_^b))+E[13]+4254626195&4294967295,A=g+(I<<12&4294967295|I>>>20),I=b+(_^A&(g^_))+E[14]+2792965006&4294967295,b=A+(I<<17&4294967295|I>>>15),I=_+(g^b&(A^g))+E[15]+1236535329&4294967295,_=b+(I<<22&4294967295|I>>>10),I=g+(b^A&(_^b))+E[1]+4129170786&4294967295,g=_+(I<<5&4294967295|I>>>27),I=A+(_^b&(g^_))+E[6]+3225465664&4294967295,A=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(A^g))+E[11]+643717713&4294967295,b=A+(I<<14&4294967295|I>>>18),I=_+(A^g&(b^A))+E[0]+3921069994&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^A&(_^b))+E[5]+3593408605&4294967295,g=_+(I<<5&4294967295|I>>>27),I=A+(_^b&(g^_))+E[10]+38016083&4294967295,A=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(A^g))+E[15]+3634488961&4294967295,b=A+(I<<14&4294967295|I>>>18),I=_+(A^g&(b^A))+E[4]+3889429448&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^A&(_^b))+E[9]+568446438&4294967295,g=_+(I<<5&4294967295|I>>>27),I=A+(_^b&(g^_))+E[14]+3275163606&4294967295,A=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(A^g))+E[3]+4107603335&4294967295,b=A+(I<<14&4294967295|I>>>18),I=_+(A^g&(b^A))+E[8]+1163531501&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(b^A&(_^b))+E[13]+2850285829&4294967295,g=_+(I<<5&4294967295|I>>>27),I=A+(_^b&(g^_))+E[2]+4243563512&4294967295,A=g+(I<<9&4294967295|I>>>23),I=b+(g^_&(A^g))+E[7]+1735328473&4294967295,b=A+(I<<14&4294967295|I>>>18),I=_+(A^g&(b^A))+E[12]+2368359562&4294967295,_=b+(I<<20&4294967295|I>>>12),I=g+(_^b^A)+E[5]+4294588738&4294967295,g=_+(I<<4&4294967295|I>>>28),I=A+(g^_^b)+E[8]+2272392833&4294967295,A=g+(I<<11&4294967295|I>>>21),I=b+(A^g^_)+E[11]+1839030562&4294967295,b=A+(I<<16&4294967295|I>>>16),I=_+(b^A^g)+E[14]+4259657740&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^A)+E[1]+2763975236&4294967295,g=_+(I<<4&4294967295|I>>>28),I=A+(g^_^b)+E[4]+1272893353&4294967295,A=g+(I<<11&4294967295|I>>>21),I=b+(A^g^_)+E[7]+4139469664&4294967295,b=A+(I<<16&4294967295|I>>>16),I=_+(b^A^g)+E[10]+3200236656&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^A)+E[13]+681279174&4294967295,g=_+(I<<4&4294967295|I>>>28),I=A+(g^_^b)+E[0]+3936430074&4294967295,A=g+(I<<11&4294967295|I>>>21),I=b+(A^g^_)+E[3]+3572445317&4294967295,b=A+(I<<16&4294967295|I>>>16),I=_+(b^A^g)+E[6]+76029189&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(_^b^A)+E[9]+3654602809&4294967295,g=_+(I<<4&4294967295|I>>>28),I=A+(g^_^b)+E[12]+3873151461&4294967295,A=g+(I<<11&4294967295|I>>>21),I=b+(A^g^_)+E[15]+530742520&4294967295,b=A+(I<<16&4294967295|I>>>16),I=_+(b^A^g)+E[2]+3299628645&4294967295,_=b+(I<<23&4294967295|I>>>9),I=g+(b^(_|~A))+E[0]+4096336452&4294967295,g=_+(I<<6&4294967295|I>>>26),I=A+(_^(g|~b))+E[7]+1126891415&4294967295,A=g+(I<<10&4294967295|I>>>22),I=b+(g^(A|~_))+E[14]+2878612391&4294967295,b=A+(I<<15&4294967295|I>>>17),I=_+(A^(b|~g))+E[5]+4237533241&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~A))+E[12]+1700485571&4294967295,g=_+(I<<6&4294967295|I>>>26),I=A+(_^(g|~b))+E[3]+2399980690&4294967295,A=g+(I<<10&4294967295|I>>>22),I=b+(g^(A|~_))+E[10]+4293915773&4294967295,b=A+(I<<15&4294967295|I>>>17),I=_+(A^(b|~g))+E[1]+2240044497&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~A))+E[8]+1873313359&4294967295,g=_+(I<<6&4294967295|I>>>26),I=A+(_^(g|~b))+E[15]+4264355552&4294967295,A=g+(I<<10&4294967295|I>>>22),I=b+(g^(A|~_))+E[6]+2734768916&4294967295,b=A+(I<<15&4294967295|I>>>17),I=_+(A^(b|~g))+E[13]+1309151649&4294967295,_=b+(I<<21&4294967295|I>>>11),I=g+(b^(_|~A))+E[4]+4149444226&4294967295,g=_+(I<<6&4294967295|I>>>26),I=A+(_^(g|~b))+E[11]+3174756917&4294967295,A=g+(I<<10&4294967295|I>>>22),I=b+(g^(A|~_))+E[2]+718787259&4294967295,b=A+(I<<15&4294967295|I>>>17),I=_+(A^(b|~g))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+A&4294967295}n.prototype.v=function(w,g){g===void 0&&(g=w.length);const _=g-this.blockSize,E=this.C;let b=this.h,A=0;for(;A<g;){if(b==0)for(;A<=_;)a(this,w,A),A+=this.blockSize;if(typeof w=="string"){for(;A<g;)if(E[b++]=w.charCodeAt(A++),b==this.blockSize){a(this,E),b=0;break}}else for(;A<g;)if(E[b++]=w[A++],b==this.blockSize){a(this,E),b=0;break}}this.h=b,this.o+=g},n.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;g=this.o*8;for(var _=w.length-8;_<w.length;++_)w[_]=g&255,g/=256;for(this.v(w),w=Array(16),g=0,_=0;_<4;++_)for(let E=0;E<32;E+=8)w[g++]=this.g[_]>>>E&255;return w};function i(w,g){var _=u;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=g(w)}function s(w,g){this.h=g;const _=[];let E=!0;for(let b=w.length-1;b>=0;b--){const A=w[b]|0;E&&A==g||(_[b]=A,E=!1)}this.g=_}var u={};function l(w){return-128<=w&&w<128?i(w,function(g){return new s([g|0],g<0?-1:0)}):new s([w|0],w<0?-1:0)}function o(w){if(isNaN(w)||!isFinite(w))return f;if(w<0)return T(o(-w));const g=[];let _=1;for(let E=0;w>=_;E++)g[E]=w/_|0,_*=4294967296;return new s(g,0)}function c(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return T(c(w.substring(1),g));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=o(Math.pow(g,8));let E=f;for(let A=0;A<w.length;A+=8){var b=Math.min(8,w.length-A);const I=parseInt(w.substring(A,A+b),g);b<8?(b=o(Math.pow(g,b)),E=E.j(b).add(o(I))):(E=E.j(_),E=E.add(o(I)))}return E}var f=l(0),d=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-T(this).m();let w=0,g=1;for(let _=0;_<this.g.length;_++){const E=this.i(_);w+=(E>=0?E:4294967296+E)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(h(this))return"0";if(v(this))return"-"+T(this).toString(w);const g=o(Math.pow(w,6));var _=this;let E="";for(;;){const b=M(_,g).g;_=S(_,b.j(g));let A=((_.g.length>0?_.g[0]:_.h)>>>0).toString(w);if(_=b,h(_))return A+E;for(;A.length<6;)A="0"+A;E=A+E}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function h(w){if(w.h!=0)return!1;for(let g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function v(w){return w.h==-1}t.l=function(w){return w=S(this,w),v(w)?-1:h(w)?0:1};function T(w){const g=w.g.length,_=[];for(let E=0;E<g;E++)_[E]=~w.g[E];return new s(_,~w.h).add(d)}t.abs=function(){return v(this)?T(this):this},t.add=function(w){const g=Math.max(this.g.length,w.g.length),_=[];let E=0;for(let b=0;b<=g;b++){let A=E+(this.i(b)&65535)+(w.i(b)&65535),I=(A>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);E=I>>>16,A&=65535,I&=65535,_[b]=I<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function S(w,g){return w.add(T(g))}t.j=function(w){if(h(this)||h(w))return f;if(v(this))return v(w)?T(this).j(T(w)):T(T(this).j(w));if(v(w))return T(this.j(T(w)));if(this.l(m)<0&&w.l(m)<0)return o(this.m()*w.m());const g=this.g.length+w.g.length,_=[];for(var E=0;E<2*g;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(let b=0;b<w.g.length;b++){const A=this.i(E)>>>16,I=this.i(E)&65535,F=w.i(b)>>>16,B=w.i(b)&65535;_[2*E+2*b]+=I*B,C(_,2*E+2*b),_[2*E+2*b+1]+=A*B,C(_,2*E+2*b+1),_[2*E+2*b+1]+=I*F,C(_,2*E+2*b+1),_[2*E+2*b+2]+=A*F,C(_,2*E+2*b+2)}for(w=0;w<g;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=g;w<2*g;w++)_[w]=0;return new s(_,0)};function C(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function N(w,g){this.g=w,this.h=g}function M(w,g){if(h(g))throw Error("division by zero");if(h(w))return new N(f,f);if(v(w))return g=M(T(w),g),new N(T(g.g),T(g.h));if(v(g))return g=M(w,T(g)),new N(T(g.g),g.h);if(w.g.length>30){if(v(w)||v(g))throw Error("slowDivide_ only works with positive integers.");for(var _=d,E=g;E.l(w)<=0;)_=y(_),E=y(E);var b=x(_,1),A=x(E,1);for(E=x(E,2),_=x(_,2);!h(E);){var I=A.add(E);I.l(w)<=0&&(b=b.add(_),A=I),E=x(E,1),_=x(_,1)}return g=S(w,b.j(g)),new N(b,g)}for(b=f;w.l(g)>=0;){for(_=Math.max(1,Math.floor(w.m()/g.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),A=o(_),I=A.j(g);v(I)||I.l(w)>0;)_-=E,A=o(_),I=A.j(g);h(A)&&(A=d),b=b.add(A),w=S(w,I)}return new N(b,w)}t.B=function(w){return M(this,w).h},t.and=function(w){const g=Math.max(this.g.length,w.g.length),_=[];for(let E=0;E<g;E++)_[E]=this.i(E)&w.i(E);return new s(_,this.h&w.h)},t.or=function(w){const g=Math.max(this.g.length,w.g.length),_=[];for(let E=0;E<g;E++)_[E]=this.i(E)|w.i(E);return new s(_,this.h|w.h)},t.xor=function(w){const g=Math.max(this.g.length,w.g.length),_=[];for(let E=0;E<g;E++)_[E]=this.i(E)^w.i(E);return new s(_,this.h^w.h)};function y(w){const g=w.g.length+1,_=[];for(let E=0;E<g;E++)_[E]=w.i(E)<<1|w.i(E-1)>>>31;return new s(_,w.h)}function x(w,g){const _=g>>5;g%=32;const E=w.g.length-_,b=[];for(let A=0;A<E;A++)b[A]=g>0?w.i(A+_)>>>g|w.i(A+_+1)<<32-g:w.i(A+_);return new s(b,w.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,HC=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=o,s.fromString=c,ss=s}).apply(typeof Fw<"u"?Fw:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GC,Ll,WC,Cd,rg,QC,XC,KC;(function(){var t,e=Object.defineProperty;function r(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var R=0;R<D.length;++R){var z=D[R];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function a(D,R){if(R)e:{var z=n;D=D.split(".");for(var K=0;K<D.length-1;K++){var he=D[K];if(!(he in z))break e;z=z[he]}D=D[D.length-1],K=z[D],R=R(K),R!=K&&R!=null&&e(z,D,{configurable:!0,writable:!0,value:R})}}a("Symbol.dispose",function(D){return D||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(D){return D||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(D){return D||function(R){var z=[],K;for(K in R)Object.prototype.hasOwnProperty.call(R,K)&&z.push([K,R[K]]);return z}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function u(D){var R=typeof D;return R=="object"&&D!=null||R=="function"}function l(D,R,z){return D.call.apply(D.bind,arguments)}function o(D,R,z){return o=l,o.apply(null,arguments)}function c(D,R){var z=Array.prototype.slice.call(arguments,1);return function(){var K=z.slice();return K.push.apply(K,arguments),D.apply(this,K)}}function f(D,R){function z(){}z.prototype=R.prototype,D.Z=R.prototype,D.prototype=new z,D.prototype.constructor=D,D.Ob=function(K,he,ye){for(var ke=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ke[yt-2]=arguments[yt];return R.prototype[he].apply(K,ke)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?D=>D&&AsyncContext.Snapshot.wrap(D):D=>D;function m(D){const R=D.length;if(R>0){const z=Array(R);for(let K=0;K<R;K++)z[K]=D[K];return z}return[]}function h(D,R){for(let K=1;K<arguments.length;K++){const he=arguments[K];var z=typeof he;if(z=z!="object"?z:he?Array.isArray(he)?"array":z:"null",z=="array"||z=="object"&&typeof he.length=="number"){z=D.length||0;const ye=he.length||0;D.length=z+ye;for(let ke=0;ke<ye;ke++)D[z+ke]=he[ke]}else D.push(he)}}class v{constructor(R,z){this.i=R,this.j=z,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function T(D){s.setTimeout(()=>{throw D},0)}function S(){var D=w;let R=null;return D.g&&(R=D.g,D.g=D.g.next,D.g||(D.h=null),R.next=null),R}class C{constructor(){this.h=this.g=null}add(R,z){const K=N.get();K.set(R,z),this.h?this.h.next=K:this.g=K,this.h=K}}var N=new v(()=>new M,D=>D.reset());class M{constructor(){this.next=this.g=this.h=null}set(R,z){this.h=R,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let y,x=!1,w=new C,g=()=>{const D=Promise.resolve(void 0);y=()=>{D.then(_)}};function _(){for(var D;D=S();){try{D.h.call(D.g)}catch(z){T(z)}var R=N;R.j(D),R.h<100&&(R.h++,D.next=R.g,R.g=D)}x=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(D,R){this.type=D,this.g=this.target=R,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var D=!1,R=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const z=()=>{};s.addEventListener("test",z,R),s.removeEventListener("test",z,R)}catch{}return D}();function I(D){return/^[\s\xa0]*$/.test(D)}function F(D,R){b.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D&&this.init(D,R)}f(F,b),F.prototype.init=function(D,R){const z=this.type=D.type,K=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;this.target=D.target||D.srcElement,this.g=R,R=D.relatedTarget,R||(z=="mouseover"?R=D.fromElement:z=="mouseout"&&(R=D.toElement)),this.relatedTarget=R,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=D.pointerType,this.state=D.state,this.i=D,D.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),P=0;function L(D,R,z,K,he){this.listener=D,this.proxy=null,this.src=R,this.type=z,this.capture=!!K,this.ha=he,this.key=++P,this.da=this.fa=!1}function $(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function k(D,R,z){for(const K in D)R.call(z,D[K],K,D)}function V(D,R){for(const z in D)R.call(void 0,D[z],z,D)}function ee(D){const R={};for(const z in D)R[z]=D[z];return R}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(D,R){let z,K;for(let he=1;he<arguments.length;he++){K=arguments[he];for(z in K)D[z]=K[z];for(let ye=0;ye<j.length;ye++)z=j[ye],Object.prototype.hasOwnProperty.call(K,z)&&(D[z]=K[z])}}function U(D){this.src=D,this.g={},this.h=0}U.prototype.add=function(D,R,z,K,he){const ye=D.toString();D=this.g[ye],D||(D=this.g[ye]=[],this.h++);const ke=ue(D,R,K,he);return ke>-1?(R=D[ke],z||(R.fa=!1)):(R=new L(R,this.src,ye,!!K,he),R.fa=z,D.push(R)),R};function de(D,R){const z=R.type;if(z in D.g){var K=D.g[z],he=Array.prototype.indexOf.call(K,R,void 0),ye;(ye=he>=0)&&Array.prototype.splice.call(K,he,1),ye&&($(R),D.g[z].length==0&&(delete D.g[z],D.h--))}}function ue(D,R,z,K){for(let he=0;he<D.length;++he){const ye=D[he];if(!ye.da&&ye.listener==R&&ye.capture==!!z&&ye.ha==K)return he}return-1}var le="closure_lm_"+(Math.random()*1e6|0),H={};function J(D,R,z,K,he){if(Array.isArray(R)){for(let ye=0;ye<R.length;ye++)J(D,R[ye],z,K,he);return null}return z=Ee(z),D&&D[B]?D.J(R,z,u(K)?!!K.capture:!1,he):re(D,R,z,!1,K,he)}function re(D,R,z,K,he,ye){if(!R)throw Error("Invalid event type");const ke=u(he)?!!he.capture:!!he;let yt=Be(D);if(yt||(D[le]=yt=new U(D)),z=yt.add(R,z,K,ke,ye),z.proxy)return z;if(K=ie(),z.proxy=K,K.src=D,K.listener=z,D.addEventListener)A||(he=ke),he===void 0&&(he=!1),D.addEventListener(R.toString(),K,he);else if(D.attachEvent)D.attachEvent(me(R.toString()),K);else if(D.addListener&&D.removeListener)D.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return z}function ie(){function D(z){return R.call(D.src,D.listener,z)}const R=Ne;return D}function se(D,R,z,K,he){if(Array.isArray(R))for(var ye=0;ye<R.length;ye++)se(D,R[ye],z,K,he);else K=u(K)?!!K.capture:!!K,z=Ee(z),D&&D[B]?(D=D.i,ye=String(R).toString(),ye in D.g&&(R=D.g[ye],z=ue(R,z,K,he),z>-1&&($(R[z]),Array.prototype.splice.call(R,z,1),R.length==0&&(delete D.g[ye],D.h--)))):D&&(D=Be(D))&&(R=D.g[R.toString()],D=-1,R&&(D=ue(R,z,K,he)),(z=D>-1?R[D]:null)&&ve(z))}function ve(D){if(typeof D!="number"&&D&&!D.da){var R=D.src;if(R&&R[B])de(R.i,D);else{var z=D.type,K=D.proxy;R.removeEventListener?R.removeEventListener(z,K,D.capture):R.detachEvent?R.detachEvent(me(z),K):R.addListener&&R.removeListener&&R.removeListener(K),(z=Be(R))?(de(z,D),z.h==0&&(z.src=null,R[le]=null)):$(D)}}}function me(D){return D in H?H[D]:H[D]="on"+D}function Ne(D,R){if(D.da)D=!0;else{R=new F(R,this);const z=D.listener,K=D.ha||D.src;D.fa&&ve(D),D=z.call(K,R)}return D}function Be(D){return D=D[le],D instanceof U?D:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ee(D){return typeof D=="function"?D:(D[Le]||(D[Le]=function(R){return D.handleEvent(R)}),D[Le])}function De(){E.call(this),this.i=new U(this),this.M=this,this.G=null}f(De,E),De.prototype[B]=!0,De.prototype.removeEventListener=function(D,R,z,K){se(this,D,R,z,K)};function G(D,R){var z,K=D.G;if(K)for(z=[];K;K=K.G)z.push(K);if(D=D.M,K=R.type||R,typeof R=="string")R=new b(R,D);else if(R instanceof b)R.target=R.target||D;else{var he=R;R=new b(K,D),X(R,he)}he=!0;let ye,ke;if(z)for(ke=z.length-1;ke>=0;ke--)ye=R.g=z[ke],he=te(ye,K,!0,R)&&he;if(ye=R.g=D,he=te(ye,K,!0,R)&&he,he=te(ye,K,!1,R)&&he,z)for(ke=0;ke<z.length;ke++)ye=R.g=z[ke],he=te(ye,K,!1,R)&&he}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var D=this.i;for(const R in D.g){const z=D.g[R];for(let K=0;K<z.length;K++)$(z[K]);delete D.g[R],D.h--}}this.G=null},De.prototype.J=function(D,R,z,K){return this.i.add(String(D),R,!1,z,K)},De.prototype.K=function(D,R,z,K){return this.i.add(String(D),R,!0,z,K)};function te(D,R,z,K){if(R=D.i.g[String(R)],!R)return!0;R=R.concat();let he=!0;for(let ye=0;ye<R.length;++ye){const ke=R[ye];if(ke&&!ke.da&&ke.capture==z){const yt=ke.listener,Pr=ke.ha||ke.src;ke.fa&&de(D.i,ke),he=yt.call(Pr,K)!==!1&&he}}return he&&!K.defaultPrevented}function ce(D,R){if(typeof D!="function")if(D&&typeof D.handleEvent=="function")D=o(D.handleEvent,D);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:s.setTimeout(D,R||0)}function q(D){D.g=ce(()=>{D.g=null,D.i&&(D.i=!1,q(D))},D.l);const R=D.h;D.h=null,D.m.apply(null,R)}class Y extends E{constructor(R,z){super(),this.m=R,this.l=z,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:q(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(D){E.call(this),this.h=D,this.g={}}f(ne,E);var oe=[];function fe(D){k(D.g,function(R,z){this.g.hasOwnProperty(z)&&ve(R)},D),D.g={}}ne.prototype.N=function(){ne.Z.N.call(this),fe(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ge=s.JSON.stringify,Se=s.JSON.parse,Ce=class{stringify(D){return s.JSON.stringify(D,void 0)}parse(D){return s.JSON.parse(D,void 0)}};function Pe(){}function Te(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){b.call(this,"d")}f(gt,b);function Vt(){b.call(this,"c")}f(Vt,b);var Ze={},ur=null;function O(){return ur=ur||new De}Ze.Ia="serverreachability";function ae(D){b.call(this,Ze.Ia,D)}f(ae,b);function pe(D){const R=O();G(R,new ae(R))}Ze.STAT_EVENT="statevent";function Me(D,R){b.call(this,Ze.STAT_EVENT,D),this.stat=R}f(Me,b);function Ge(D){const R=O();G(R,new Me(R,D))}Ze.Ja="timingevent";function dt(D,R){b.call(this,Ze.Ja,D),this.size=R}f(dt,b);function Ir(D,R){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){D()},R)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Xh(D,R,z,K,he,ye){D.info(function(){if(D.g)if(ye){var ke="",yt=ye.split("&");for(let er=0;er<yt.length;er++){var Pr=yt[er].split("=");if(Pr.length>1){const zr=Pr[0];Pr=Pr[1];const $a=zr.split("_");ke=$a.length>=2&&$a[1]=="type"?ke+(zr+"="+Pr+"&"):ke+(zr+"=redacted&")}}}else ke=null;else ke=ye;return"XMLHTTP REQ ("+K+") [attempt "+he+"]: "+R+`
`+z+`
`+ke})}function Kh(D,R,z,K,he,ye,ke){D.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+he+"]: "+R+`
`+z+`
`+ye+" "+ke})}function Ci(D,R,z,K){D.info(function(){return"XMLHTTP TEXT ("+R+"): "+Yh(D,z)+(K?" "+K:"")})}function Jh(D,R){D.info(function(){return"TIMEOUT: "+R})}ai.prototype.info=function(){};function Yh(D,R){if(!D.g)return R;if(!R)return null;try{const ye=JSON.parse(R);if(ye){for(D=0;D<ye.length;D++)if(Array.isArray(ye[D])){var z=ye[D];if(!(z.length<2)){var K=z[1];if(Array.isArray(K)&&!(K.length<1)){var he=K[0];if(he!="noop"&&he!="stop"&&he!="close")for(let ke=1;ke<K.length;ke++)K[ke]=""}}}}return ge(ye)}catch{return R}}var Fo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ff={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},df;function dl(){}f(dl,Pe),dl.prototype.g=function(){return new XMLHttpRequest},df=new dl;function Os(D){return encodeURIComponent(String(D))}function Zh(D){var R=1;D=D.split(":");const z=[];for(;R>0&&D.length;)z.push(D.shift()),R--;return D.length&&z.push(D.join(":")),z}function ja(D,R,z,K){this.j=D,this.i=R,this.l=z,this.S=K||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mf}function mf(){this.i=null,this.g="",this.h=!1}var hf={},ml={};function hl(D,R,z){D.M=1,D.A=xf(ka(R)),D.u=z,D.R=!0,pf(D,null)}function pf(D,R){D.F=Date.now(),Ro(D),D.B=ka(D.A);var z=D.B,K=D.S;Array.isArray(K)||(K=[String(K)]),j1(z.i,"t",K),D.C=0,z=D.j.L,D.h=new mf,D.g=tb(D.j,z?R:null,!D.u),D.P>0&&(D.O=new Y(o(D.Y,D,D.g),D.P)),R=D.V,z=D.g,K=D.ba;var he="readystatechange";Array.isArray(he)||(he&&(oe[0]=he.toString()),he=oe);for(let ye=0;ye<he.length;ye++){const ke=J(z,he[ye],K||R.handleEvent,!1,R.h||R);if(!ke)break;R.g[ke.key]=ke}R=D.J?ee(D.J):{},D.u?(D.v||(D.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.B,D.v,D.u,R)):(D.v="GET",D.g.ea(D.B,D.v,null,R)),pe(),Xh(D.i,D.v,D.B,D.l,D.S,D.u)}ja.prototype.ba=function(D){D=D.target;const R=this.O;R&&Pi(D)==3?R.j():this.Y(D)},ja.prototype.Y=function(D){try{if(D==this.g)e:{const yt=Pi(this.g),Pr=this.g.ya(),er=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||q1(this.g)))){this.K||yt!=4||Pr==7||(Pr==8||er<=0?pe(3):pe(2)),pl(this);var R=this.g.ca();this.X=R;var z=ep(this);if(this.o=R==200,Kh(this.i,this.v,this.B,this.l,this.S,yt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var K,he=this.g;if((K=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(K)){var ye=K;break t}}ye=null}if(D=ye)Ci(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lt(this,D);else{this.o=!1,this.m=3,Ge(12),Un(this),Bs(this);break e}}if(this.R){D=!0;let zr;for(;!this.K&&this.C<z.length;)if(zr=tp(this,z),zr==ml){yt==4&&(this.m=4,Ge(14),D=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(zr==hf){this.m=4,Ge(15),Ci(this.i,this.l,z,"[Invalid Chunk]"),D=!1;break}else Ci(this.i,this.l,zr,null),Lt(this,zr);if(vf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||z.length!=0||this.h.h||(this.m=1,Ge(16),D=!1),this.o=this.o&&D,!D)Ci(this.i,this.l,z,"[Invalid Chunked Response]"),Un(this),Bs(this);else if(z.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),up(ke),ke.P=!0,Ge(11))}}else Ci(this.i,this.l,z,null),Lt(this,z);yt==4&&Un(this),this.o&&!this.K&&(yt==4?J1(this.j,this):(this.o=!1,Ro(this)))}else eF(this.g),R==400&&z.indexOf("Unknown SID")>0?(this.m=3,Ge(12)):(this.m=0,Ge(13)),Un(this),Bs(this)}}}catch{}finally{}};function ep(D){if(!vf(D))return D.g.la();const R=q1(D.g);if(R==="")return"";let z="";const K=R.length,he=Pi(D.g)==4;if(!D.h.i){if(typeof TextDecoder>"u")return Un(D),Bs(D),"";D.h.i=new s.TextDecoder}for(let ye=0;ye<K;ye++)D.h.h=!0,z+=D.h.i.decode(R[ye],{stream:!(he&&ye==K-1)});return R.length=0,D.h.g+=z,D.C=0,D.h.g}function vf(D){return D.g?D.v=="GET"&&D.M!=2&&D.j.Aa:!1}function tp(D,R){var z=D.C,K=R.indexOf(`
`,z);return K==-1?ml:(z=Number(R.substring(z,K)),isNaN(z)?hf:(K+=1,K+z>R.length?ml:(R=R.slice(K,K+z),D.C=K+z,R)))}ja.prototype.cancel=function(){this.K=!0,Un(this)};function Ro(D){D.T=Date.now()+D.H,gf(D,D.H)}function gf(D,R){if(D.D!=null)throw Error("WatchDog timer not null");D.D=Ir(o(D.aa,D),R)}function pl(D){D.D&&(s.clearTimeout(D.D),D.D=null)}ja.prototype.aa=function(){this.D=null;const D=Date.now();D-this.T>=0?(Jh(this.i,this.B),this.M!=2&&(pe(),Ge(17)),Un(this),this.m=2,Bs(this)):gf(this,this.T-D)};function Bs(D){D.j.I==0||D.K||J1(D.j,D)}function Un(D){pl(D);var R=D.O;R&&typeof R.dispose=="function"&&R.dispose(),D.O=null,fe(D.V),D.g&&(R=D.g,D.g=null,R.abort(),R.dispose())}function Lt(D,R){try{var z=D.j;if(z.I!=0&&(z.g==D||vl(z.h,D))){if(!D.L&&vl(z.h,D)&&z.I==3){try{var K=z.Ba.g.parse(R)}catch{K=null}if(Array.isArray(K)&&K.length==3){var he=K;if(he[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<D.F)Ef(z),Nf(z);else break e;op(z),Ge(18)}}else z.xa=he[1],0<z.xa-z.K&&he[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=Ir(o(z.Va,z),6e3));Ti(z.h)<=1&&z.ta&&(z.ta=void 0)}else $s(z,11)}else if((D.L||z.g==D)&&Ef(z),!I(R))for(he=z.Ba.g.parse(R),R=0;R<he.length;R++){let er=he[R];const zr=er[0];if(!(zr<=z.K))if(z.K=zr,er=er[1],z.I==2)if(er[0]=="c"){z.M=er[1],z.ba=er[2];const $a=er[3];$a!=null&&(z.ka=$a,z.j.info("VER="+z.ka));const Ls=er[4];Ls!=null&&(z.za=Ls,z.j.info("SVER="+z.za));const Fi=er[5];Fi!=null&&typeof Fi=="number"&&Fi>0&&(K=1.5*Fi,z.O=K,z.j.info("backChannelRequestTimeoutMs_="+K)),K=z;const Ri=D.g;if(Ri){const Af=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Af){var ye=K.h;ye.g||Af.indexOf("spdy")==-1&&Af.indexOf("quic")==-1&&Af.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(rp(ye,ye.h),ye.h=null))}if(K.G){const lp=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;lp&&(K.wa=lp,ar(K.J,K.G,lp))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-D.F,z.j.info("Handshake RTT: "+z.T+"ms")),K=z;var ke=D;if(K.na=eb(K,K.L?K.ba:null,K.W),ke.L){M1(K.h,ke);var yt=ke,Pr=K.O;Pr&&(yt.H=Pr),yt.D&&(pl(yt),Ro(yt)),K.g=ke}else X1(K);z.i.length>0&&_f(z)}else er[0]!="stop"&&er[0]!="close"||$s(z,7);else z.I==3&&(er[0]=="stop"||er[0]=="close"?er[0]=="stop"?$s(z,7):sp(z):er[0]!="noop"&&z.l&&z.l.qa(er),z.A=0)}}pe(4)}catch{}}var un=class{constructor(D,R){this.g=D,this.map=R}};function yf(D){this.l=D||10,s.PerformanceNavigationTiming?(D=s.performance.getEntriesByType("navigation"),D=D.length>0&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function js(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function Ti(D){return D.h?1:D.g?D.g.size:0}function vl(D,R){return D.h?D.h==R:D.g?D.g.has(R):!1}function rp(D,R){D.g?D.g.add(R):D.h=R}function M1(D,R){D.h&&D.h==R?D.h=null:D.g&&D.g.has(R)&&D.g.delete(R)}yf.prototype.cancel=function(){if(this.i=I1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function I1(D){if(D.h!=null)return D.i.concat(D.h.G);if(D.g!=null&&D.g.size!==0){let R=D.i;for(const z of D.g.values())R=R.concat(z.G);return R}return m(D.i)}var P1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VP(D,R){if(D){D=D.split("&");for(let z=0;z<D.length;z++){const K=D[z].indexOf("=");let he,ye=null;K>=0?(he=D[z].substring(0,K),ye=D[z].substring(K+1)):he=D[z],R(he,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function Mi(D){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;D instanceof Mi?(this.l=D.l,gl(this,D.j),this.o=D.o,this.g=D.g,yl(this,D.u),this.h=D.h,np(this,k1(D.i)),this.m=D.m):D&&(R=String(D).match(P1))?(this.l=!1,gl(this,R[1]||"",!0),this.o=xl(R[2]||""),this.g=xl(R[3]||"",!0),yl(this,R[4]),this.h=xl(R[5]||"",!0),np(this,R[6]||"",!0),this.m=xl(R[7]||"")):(this.l=!1,this.i=new wl(null,this.l))}Mi.prototype.toString=function(){const D=[];var R=this.j;R&&D.push(bl(R,F1,!0),":");var z=this.g;return(z||R=="file")&&(D.push("//"),(R=this.o)&&D.push(bl(R,F1,!0),"@"),D.push(Os(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&D.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&D.push("/"),D.push(bl(z,z.charAt(0)=="/"?HP:qP,!0))),(z=this.i.toString())&&D.push("?",z),(z=this.m)&&D.push("#",bl(z,WP)),D.join("")},Mi.prototype.resolve=function(D){const R=ka(this);let z=!!D.j;z?gl(R,D.j):z=!!D.o,z?R.o=D.o:z=!!D.g,z?R.g=D.g:z=D.u!=null;var K=D.h;if(z)yl(R,D.u);else if(z=!!D.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var he=R.h.lastIndexOf("/");he!=-1&&(K=R.h.slice(0,he+1)+K)}if(he=K,he==".."||he==".")K="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){K=he.lastIndexOf("/",0)==0,he=he.split("/");const ye=[];for(let ke=0;ke<he.length;){const yt=he[ke++];yt=="."?K&&ke==he.length&&ye.push(""):yt==".."?((ye.length>1||ye.length==1&&ye[0]!="")&&ye.pop(),K&&ke==he.length&&ye.push("")):(ye.push(yt),K=!0)}K=ye.join("/")}else K=he}return z?R.h=K:z=D.i.toString()!=="",z?np(R,k1(D.i)):z=!!D.m,z&&(R.m=D.m),R};function ka(D){return new Mi(D)}function gl(D,R,z){D.j=z?xl(R,!0):R,D.j&&(D.j=D.j.replace(/:$/,""))}function yl(D,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);D.u=R}else D.u=null}function np(D,R,z){R instanceof wl?(D.i=R,QP(D.i,D.l)):(z||(R=bl(R,GP)),D.i=new wl(R,D.l))}function ar(D,R,z){D.i.set(R,z)}function xf(D){return ar(D,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),D}function xl(D,R){return D?R?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function bl(D,R,z){return typeof D=="string"?(D=encodeURI(D).replace(R,UP),z&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function UP(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var F1=/[#\/\?@]/g,qP=/[#\?:]/g,HP=/[#\?]/g,GP=/[#\?@]/g,WP=/#/g;function wl(D,R){this.h=this.g=null,this.i=D||null,this.j=!!R}function ks(D){D.g||(D.g=new Map,D.h=0,D.i&&VP(D.i,function(R,z){D.add(decodeURIComponent(R.replace(/\+/g," ")),z)}))}t=wl.prototype,t.add=function(D,R){ks(this),this.i=null,D=Oo(this,D);let z=this.g.get(D);return z||this.g.set(D,z=[]),z.push(R),this.h+=1,this};function R1(D,R){ks(D),R=Oo(D,R),D.g.has(R)&&(D.i=null,D.h-=D.g.get(R).length,D.g.delete(R))}function O1(D,R){return ks(D),R=Oo(D,R),D.g.has(R)}t.forEach=function(D,R){ks(this),this.g.forEach(function(z,K){z.forEach(function(he){D.call(R,he,K,this)},this)},this)};function B1(D,R){ks(D);let z=[];if(typeof R=="string")O1(D,R)&&(z=z.concat(D.g.get(Oo(D,R))));else for(D=Array.from(D.g.values()),R=0;R<D.length;R++)z=z.concat(D[R]);return z}t.set=function(D,R){return ks(this),this.i=null,D=Oo(this,D),O1(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[R]),this.h+=1,this},t.get=function(D,R){return D?(D=B1(this,D),D.length>0?String(D[0]):R):R};function j1(D,R,z){R1(D,R),z.length>0&&(D.i=null,D.g.set(Oo(D,R),m(z)),D.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],R=Array.from(this.g.keys());for(let K=0;K<R.length;K++){var z=R[K];const he=Os(z);z=B1(this,z);for(let ye=0;ye<z.length;ye++){let ke=he;z[ye]!==""&&(ke+="="+Os(z[ye])),D.push(ke)}}return this.i=D.join("&")};function k1(D){const R=new wl;return R.i=D.i,D.g&&(R.g=new Map(D.g),R.h=D.h),R}function Oo(D,R){return R=String(R),D.j&&(R=R.toLowerCase()),R}function QP(D,R){R&&!D.j&&(ks(D),D.i=null,D.g.forEach(function(z,K){const he=K.toLowerCase();K!=he&&(R1(this,K),j1(this,he,z))},D)),D.j=R}function XP(D,R){const z=new ai;if(s.Image){const K=new Image;K.onload=c(Ii,z,"TestLoadImage: loaded",!0,R,K),K.onerror=c(Ii,z,"TestLoadImage: error",!1,R,K),K.onabort=c(Ii,z,"TestLoadImage: abort",!1,R,K),K.ontimeout=c(Ii,z,"TestLoadImage: timeout",!1,R,K),s.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=D}else R(!1)}function KP(D,R){const z=new ai,K=new AbortController,he=setTimeout(()=>{K.abort(),Ii(z,"TestPingServer: timeout",!1,R)},1e4);fetch(D,{signal:K.signal}).then(ye=>{clearTimeout(he),ye.ok?Ii(z,"TestPingServer: ok",!0,R):Ii(z,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(he),Ii(z,"TestPingServer: error",!1,R)})}function Ii(D,R,z,K,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),K(z)}catch{}}function JP(){this.g=new Ce}function ap(D){this.i=D.Sb||null,this.h=D.ab||!1}f(ap,Pe),ap.prototype.g=function(){return new bf(this.i,this.h)};function bf(D,R){De.call(this),this.H=D,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bf,De),t=bf.prototype,t.open=function(D,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=D,this.D=R,this.readyState=1,_l(this)},t.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};D&&(R.body=D),(this.H||s).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nl(this)),this.readyState=0},t.Pa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$1(this)}else D.text().then(this.Oa.bind(this),this.ga.bind(this))};function $1(D){D.j.read().then(D.Ma.bind(D)).catch(D.ga.bind(D))}t.Ma=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var R=D.value?D.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!D.done}))&&(this.response=this.responseText+=R)}D.done?Nl(this):_l(this),this.readyState==3&&$1(this)}},t.Oa=function(D){this.g&&(this.response=this.responseText=D,Nl(this))},t.Na=function(D){this.g&&(this.response=D,Nl(this))},t.ga=function(){this.g&&Nl(this)};function Nl(D){D.readyState=4,D.l=null,D.j=null,D.B=null,_l(D)}t.setRequestHeader=function(D,R){this.A.append(D,R)},t.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],R=this.h.entries();for(var z=R.next();!z.done;)z=z.value,D.push(z[0]+": "+z[1]),z=R.next();return D.join(`\r
`)};function _l(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function L1(D){let R="";return k(D,function(z,K){R+=K,R+=":",R+=z,R+=`\r
`}),R}function ip(D,R,z){e:{for(K in z){var K=!1;break e}K=!0}K||(z=L1(z),typeof D=="string"?z!=null&&Os(z):ar(D,R,z))}function vr(D){De.call(this),this.headers=new Map,this.L=D||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(vr,De);var YP=/^https?$/i,ZP=["POST","PUT"];t=vr.prototype,t.Fa=function(D){this.H=D},t.ea=function(D,R,z,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);R=R?R.toUpperCase():"GET",this.D=D,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():df.g(),this.g.onreadystatechange=d(o(this.Ca,this));try{this.B=!0,this.g.open(R,String(D),!0),this.B=!1}catch(ye){z1(this,ye);return}if(D=z||"",z=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var he in K)z.set(he,K[he]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ye of K.keys())z.set(ye,K.get(ye));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(z.keys()).find(ye=>ye.toLowerCase()=="content-type"),he=s.FormData&&D instanceof s.FormData,!(Array.prototype.indexOf.call(ZP,R,void 0)>=0)||K||he||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,ke]of z)this.g.setRequestHeader(ye,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(D),this.v=!1}catch(ye){z1(this,ye)}};function z1(D,R){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=R,D.o=5,V1(D),wf(D)}function V1(D){D.A||(D.A=!0,G(D,"complete"),G(D,"error"))}t.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=D||7,G(this,"complete"),G(this,"abort"),wf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wf(this,!0)),vr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?U1(this):this.Xa())},t.Xa=function(){U1(this)};function U1(D){if(D.h&&typeof i<"u"){if(D.v&&Pi(D)==4)setTimeout(D.Ca.bind(D),0);else if(G(D,"readystatechange"),Pi(D)==4){D.h=!1;try{const ye=D.ca();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var z;if(!(z=R)){var K;if(K=ye===0){let ke=String(D.D).match(P1)[1]||null;!ke&&s.self&&s.self.location&&(ke=s.self.location.protocol.slice(0,-1)),K=!YP.test(ke?ke.toLowerCase():"")}z=K}if(z)G(D,"complete"),G(D,"success");else{D.o=6;try{var he=Pi(D)>2?D.g.statusText:""}catch{he=""}D.l=he+" ["+D.ca()+"]",V1(D)}}finally{wf(D)}}}}function wf(D,R){if(D.g){D.m&&(clearTimeout(D.m),D.m=null);const z=D.g;D.g=null,R||G(D,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pi(D){return D.g?D.g.readyState:0}t.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(D){if(this.g){var R=this.g.responseText;return D&&R.indexOf(D)==0&&(R=R.substring(D.length)),Se(R)}};function q1(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.F){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function eF(D){const R={};D=(D.g&&Pi(D)>=2&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<D.length;K++){if(I(D[K]))continue;var z=Zh(D[K]);const he=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const ye=R[he]||[];R[he]=ye,ye.push(z)}V(R,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function El(D,R,z){return z&&z.internalChannelParams&&z.internalChannelParams[D]||R}function H1(D){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=El("failFast",!1,D),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=El("baseRetryDelayMs",5e3,D),this.Za=El("retryDelaySeedMs",1e4,D),this.Ta=El("forwardChannelMaxRetries",2,D),this.va=El("forwardChannelRequestTimeoutMs",2e4,D),this.ma=D&&D.xmlHttpFactory||void 0,this.Ua=D&&D.Rb||void 0,this.Aa=D&&D.useFetchStreams||!1,this.O=void 0,this.L=D&&D.supportsCrossDomainXhr||!1,this.M="",this.h=new yf(D&&D.concurrentRequestLimit),this.Ba=new JP,this.S=D&&D.fastHandshake||!1,this.R=D&&D.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=D&&D.Pb||!1,D&&D.ua&&this.j.ua(),D&&D.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&D&&D.detectBufferingProxy||!1,this.ia=void 0,D&&D.longPollingTimeout&&D.longPollingTimeout>0&&(this.ia=D.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=H1.prototype,t.ka=8,t.I=1,t.connect=function(D,R,z,K){Ge(0),this.W=D,this.H=R||{},z&&K!==void 0&&(this.H.OSID=z,this.H.OAID=K),this.F=this.X,this.J=eb(this,null,this.W),_f(this)};function sp(D){if(G1(D),D.I==3){var R=D.V++,z=ka(D.J);if(ar(z,"SID",D.M),ar(z,"RID",R),ar(z,"TYPE","terminate"),Sl(D,z),R=new ja(D,D.j,R),R.M=2,R.A=xf(ka(z)),z=!1,s.navigator&&s.navigator.sendBeacon)try{z=s.navigator.sendBeacon(R.A.toString(),"")}catch{}!z&&s.Image&&(new Image().src=R.A,z=!0),z||(R.g=tb(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Ro(R)}Z1(D)}function Nf(D){D.g&&(up(D),D.g.cancel(),D.g=null)}function G1(D){Nf(D),D.v&&(s.clearTimeout(D.v),D.v=null),Ef(D),D.h.cancel(),D.m&&(typeof D.m=="number"&&s.clearTimeout(D.m),D.m=null)}function _f(D){if(!js(D.h)&&!D.m){D.m=!0;var R=D.Ea;y||g(),x||(y(),x=!0),w.add(R,D),D.D=0}}function tF(D,R){return Ti(D.h)>=D.h.j-(D.m?1:0)?!1:D.m?(D.i=R.G.concat(D.i),!0):D.I==1||D.I==2||D.D>=(D.Sa?0:D.Ta)?!1:(D.m=Ir(o(D.Ea,D,R),Y1(D,D.D)),D.D++,!0)}t.Ea=function(D){if(this.m)if(this.m=null,this.I==1){if(!D){this.V=Math.floor(Math.random()*1e5),D=this.V++;const he=new ja(this,this.j,D);let ye=this.o;if(this.U&&(ye?(ye=ee(ye),X(ye,this.U)):ye=this.U),this.u!==null||this.R||(he.J=ye,ye=null),this.S)e:{for(var R=0,z=0;z<this.i.length;z++){t:{var K=this.i[z];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(R+=K,R>4096){R=z;break e}if(R===4096||z===this.i.length-1){R=z+1;break e}}R=1e3}else R=1e3;R=Q1(this,he,R),z=ka(this.J),ar(z,"RID",D),ar(z,"CVER",22),this.G&&ar(z,"X-HTTP-Session-Id",this.G),Sl(this,z),ye&&(this.R?R="headers="+Os(L1(ye))+"&"+R:this.u&&ip(z,this.u,ye)),rp(this.h,he),this.Ra&&ar(z,"TYPE","init"),this.S?(ar(z,"$req",R),ar(z,"SID","null"),he.U=!0,hl(he,z,null)):hl(he,z,R),this.I=2}}else this.I==3&&(D?W1(this,D):this.i.length==0||js(this.h)||W1(this))};function W1(D,R){var z;R?z=R.l:z=D.V++;const K=ka(D.J);ar(K,"SID",D.M),ar(K,"RID",z),ar(K,"AID",D.K),Sl(D,K),D.u&&D.o&&ip(K,D.u,D.o),z=new ja(D,D.j,z,D.D+1),D.u===null&&(z.J=D.o),R&&(D.i=R.G.concat(D.i)),R=Q1(D,z,1e3),z.H=Math.round(D.va*.5)+Math.round(D.va*.5*Math.random()),rp(D.h,z),hl(z,K,R)}function Sl(D,R){D.H&&k(D.H,function(z,K){ar(R,K,z)}),D.l&&k({},function(z,K){ar(R,K,z)})}function Q1(D,R,z){z=Math.min(D.i.length,z);const K=D.l?o(D.l.Ka,D.l,D):null;e:{var he=D.i;let yt=-1;for(;;){const Pr=["count="+z];yt==-1?z>0?(yt=he[0].g,Pr.push("ofs="+yt)):yt=0:Pr.push("ofs="+yt);let er=!0;for(let zr=0;zr<z;zr++){var ye=he[zr].g;const $a=he[zr].map;if(ye-=yt,ye<0)yt=Math.max(0,he[zr].g-100),er=!1;else try{ye="req"+ye+"_"||"";try{var ke=$a instanceof Map?$a:Object.entries($a);for(const[Ls,Fi]of ke){let Ri=Fi;u(Fi)&&(Ri=ge(Fi)),Pr.push(ye+Ls+"="+encodeURIComponent(Ri))}}catch(Ls){throw Pr.push(ye+"type="+encodeURIComponent("_badmap")),Ls}}catch{K&&K($a)}}if(er){ke=Pr.join("&");break e}}ke=void 0}return D=D.i.splice(0,z),R.G=D,ke}function X1(D){if(!D.g&&!D.v){D.Y=1;var R=D.Da;y||g(),x||(y(),x=!0),w.add(R,D),D.A=0}}function op(D){return D.g||D.v||D.A>=3?!1:(D.Y++,D.v=Ir(o(D.Da,D),Y1(D,D.A)),D.A++,!0)}t.Da=function(){if(this.v=null,K1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var D=4*this.T;this.j.info("BP detection timer enabled: "+D),this.B=Ir(o(this.Wa,this),D)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ge(10),Nf(this),K1(this))};function up(D){D.B!=null&&(s.clearTimeout(D.B),D.B=null)}function K1(D){D.g=new ja(D,D.j,"rpc",D.Y),D.u===null&&(D.g.J=D.o),D.g.P=0;var R=ka(D.na);ar(R,"RID","rpc"),ar(R,"SID",D.M),ar(R,"AID",D.K),ar(R,"CI",D.F?"0":"1"),!D.F&&D.ia&&ar(R,"TO",D.ia),ar(R,"TYPE","xmlhttp"),Sl(D,R),D.u&&D.o&&ip(R,D.u,D.o),D.O&&(D.g.H=D.O);var z=D.g;D=D.ba,z.M=1,z.A=xf(ka(R)),z.u=null,z.R=!0,pf(z,D)}t.Va=function(){this.C!=null&&(this.C=null,Nf(this),op(this),Ge(19))};function Ef(D){D.C!=null&&(s.clearTimeout(D.C),D.C=null)}function J1(D,R){var z=null;if(D.g==R){Ef(D),up(D),D.g=null;var K=2}else if(vl(D.h,R))z=R.G,M1(D.h,R),K=1;else return;if(D.I!=0){if(R.o)if(K==1){z=R.u?R.u.length:0,R=Date.now()-R.F;var he=D.D;K=O(),G(K,new dt(K,z)),_f(D)}else X1(D);else if(he=R.m,he==3||he==0&&R.X>0||!(K==1&&tF(D,R)||K==2&&op(D)))switch(z&&z.length>0&&(R=D.h,R.i=R.i.concat(z)),he){case 1:$s(D,5);break;case 4:$s(D,10);break;case 3:$s(D,6);break;default:$s(D,2)}}}function Y1(D,R){let z=D.Qa+Math.floor(Math.random()*D.Za);return D.isActive()||(z*=2),z*R}function $s(D,R){if(D.j.info("Error code "+R),R==2){var z=o(D.bb,D),K=D.Ua;const he=!K;K=new Mi(K||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||gl(K,"https"),xf(K),he?XP(K.toString(),z):KP(K.toString(),z)}else Ge(2);D.I=0,D.l&&D.l.pa(R),Z1(D),G1(D)}t.bb=function(D){D?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Z1(D){if(D.I=0,D.ja=[],D.l){const R=I1(D.h);(R.length!=0||D.i.length!=0)&&(h(D.ja,R),h(D.ja,D.i),D.h.i.length=0,m(D.i),D.i.length=0),D.l.oa()}}function eb(D,R,z){var K=z instanceof Mi?ka(z):new Mi(z);if(K.g!="")R&&(K.g=R+"."+K.g),yl(K,K.u);else{var he=s.location;K=he.protocol,R=R?R+"."+he.hostname:he.hostname,he=+he.port;const ye=new Mi(null);K&&gl(ye,K),R&&(ye.g=R),he&&yl(ye,he),z&&(ye.h=z),K=ye}return z=D.G,R=D.wa,z&&R&&ar(K,z,R),ar(K,"VER",D.ka),Sl(D,K),K}function tb(D,R,z){if(R&&!D.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=D.Aa&&!D.ma?new vr(new ap({ab:z})):new vr(D.ma),R.Fa(D.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rb(){}t=rb.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Sf(){}Sf.prototype.g=function(D,R){return new qn(D,R)};function qn(D,R){De.call(this),this.g=new H1(R),this.l=D,this.h=R&&R.messageUrlParams||null,D=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(D?D["X-WebChannel-Content-Type"]=R.messageContentType:D={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(D?D["X-WebChannel-Client-Profile"]=R.sa:D={"X-WebChannel-Client-Profile":R.sa}),this.g.U=D,(D=R&&R.Qb)&&!I(D)&&(this.g.u=D),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!I(R)&&(this.g.G=R,D=this.h,D!==null&&R in D&&(D=this.h,R in D&&delete D[R])),this.j=new Bo(this)}f(qn,De),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){sp(this.g)},qn.prototype.o=function(D){var R=this.g;if(typeof D=="string"){var z={};z.__data__=D,D=z}else this.v&&(z={},z.__data__=ge(D),D=z);R.i.push(new un(R.Ya++,D)),R.I==3&&_f(R)},qn.prototype.N=function(){this.g.l=null,delete this.j,sp(this.g),delete this.g,qn.Z.N.call(this)};function nb(D){gt.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var R=D.__sm__;if(R){e:{for(const z in R){D=z;break e}D=void 0}(this.i=D)&&(D=this.i,R=R!==null&&D in R?R[D]:void 0),this.data=R}else this.data=D}f(nb,gt);function ab(){Vt.call(this),this.status=1}f(ab,Vt);function Bo(D){this.g=D}f(Bo,rb),Bo.prototype.ra=function(){G(this.g,"a")},Bo.prototype.qa=function(D){G(this.g,new nb(D))},Bo.prototype.pa=function(D){G(this.g,new ab)},Bo.prototype.oa=function(){G(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,KC=function(){return new Sf},XC=function(){return O()},QC=Ze,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Cd=Fo,ff.COMPLETE="complete",WC=ff,Te.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",De.prototype.listen=De.prototype.J,Ll=Te,vr.prototype.listenOnce=vr.prototype.K,vr.prototype.getLastError=vr.prototype.Ha,vr.prototype.getLastErrorCode=vr.prototype.ya,vr.prototype.getStatus=vr.prototype.ca,vr.prototype.getResponseJson=vr.prototype.La,vr.prototype.getResponseText=vr.prototype.la,vr.prototype.send=vr.prototype.ea,vr.prototype.setWithCredentials=vr.prototype.Fa,GC=vr}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const Rw="@firebase/firestore",Ow="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new $C("@firebase/firestore");function qo(){return so.logLevel}function Ve(t,...e){if(so.logLevel<=Pt.DEBUG){const r=e.map(z0);so.debug(`Firestore (${Xu}): ${t}`,...r)}}function wi(t,...e){if(so.logLevel<=Pt.ERROR){const r=e.map(z0);so.error(`Firestore (${Xu}): ${t}`,...r)}}function Mu(t,...e){if(so.logLevel<=Pt.WARN){const r=e.map(z0);so.warn(`Firestore (${Xu}): ${t}`,...r)}}function z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,JC(t,n,r)}function JC(t,e,r){let n=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw wi(n),new Error(n)}function Gt(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||JC(e,a,n)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Qu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(mn.UNAUTHENTICATED))}shutdown(){}}class N5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class _5{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Gt(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},u=l=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Gt(typeof n.accessToken=="string",31837,{l:n}),new YC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class E5{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S5{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new E5(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A5{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,a5(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Gt(this.o===void 0,3512);const n=i=>{i.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Bw(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=D5(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function Et(t,e){return t<e?-1:t>e?1:0}function ng(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),i=e.charAt(n);if(a!==i)return zp(a)===zp(i)?Et(a,i):zp(a)?1:-1}return Et(t.length,e.length)}const C5=55296,T5=57343;function zp(t){const e=t.charCodeAt(0);return e>=C5&&e<=T5}function Iu(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__name__";class Va{constructor(e,r,n){r===void 0?r=0:r>e.length&&rt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&rt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=Va.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return Et(e.length,r.length)}static compareSegments(e,r){const n=Va.isNumericId(e),a=Va.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Va.extractNumericId(e).compare(Va.extractNumericId(r)):ng(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class rr extends Va{construct(e,r,n){return new rr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ze(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new rr(r)}static emptyPath(){return new rr([])}}const M5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Va{construct(e,r,n){return new Zr(e,r,n)}static isValidIdentifier(e){return M5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jw}static keyField(){return new Zr([jw])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new ze(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new ze(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ze(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,a+=2}else u==="`"?(s=!s,a++):u!=="."||s?(n+=u,a++):(i(),a++)}if(i(),s)throw new ze(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(r)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(rr.fromString(e))}static fromName(e){return new Je(rr.fromString(e).popFirst(5))}static empty(){return new Je(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return rr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e,r){if(!r)throw new ze(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I5(t,e,r,n){if(e===!0&&n===!0)throw new ze(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function kw(t){if(!Je.isDocumentKey(t))throw new ze(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(Je.isDocumentKey(t))throw new ze(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function Cc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mh(t);throw new ze(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Qc(t,e){if(!eT(t))throw new ze(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new ze(we.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=-62135596800,zw=1e6;class sr{static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*zw);return new sr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ze(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ze(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Lw)throw new ze(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zw}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:sr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qc(e,sr._jsonSchema))return new sr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}sr._jsonSchemaVersion="firestore/timestamp/1.0",sr._jsonSchema={type:Cr("string",sr._jsonSchemaVersion),seconds:Cr("number"),nanoseconds:Cr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new sr(0,0))}static max(){return new ot(new sr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=-1;function P5(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=ot.fromTimestamp(n===1e9?new sr(r+1,0):new sr(r,n));return new ds(a,Je.empty(),e)}function F5(t){return new ds(t.readTime,t.key,Tc)}class ds{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ds(ot.min(),Je.empty(),Tc)}static max(){return new ds(ot.max(),Je.empty(),Tc)}}function R5(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Je.comparator(t.documentKey,e.documentKey),r!==0?r:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==O5)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _e((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof _e?r:_e.resolve(r)}catch(r){return _e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):_e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):_e.reject(r)}static resolve(e){return new _e((r,n)=>{r(e)})}static reject(e){return new _e((r,n)=>{n(e)})}static waitFor(e){return new _e((r,n)=>{let a=0,i=0,s=!1;e.forEach(u=>{++a,u.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(e){let r=_e.resolve(!1);for(const n of e)r=r.next(a=>a?_e.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new _e((n,a)=>{const i=e.length,s=new Array(i);let u=0;for(let l=0;l<i;l++){const o=l;r(e[o]).next(c=>{s[o]=c,++u,u===i&&n(s)},c=>a(c))}})}static doWhile(e,r){return new _e((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function j5(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-1;function ph(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function k5(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="";function $5(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Vw(e)),e=L5(t.get(r),e);return Vw(e)}function L5(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case tT:r+="";break;default:r+=i}}return r}function Vw(t){return t+tT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function vo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function rT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r){this.comparator=e,this.root=r||Yr.EMPTY}insert(e,r){return new pr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??Yr.RED,this.left=a??Yr.EMPTY,this.right=i??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new Yr(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Yr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1;Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new Yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Br(this.comparator);return r.data=e,r}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new Sa([])}unionWith(e){let r=new Br(Zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Sa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Iu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nT("Invalid base64 string: "+i):i}}(e);return new sn(r)}static fromUint8Array(e){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new sn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(Gt(!!t,39018),typeof t=="string"){let e=0;const r=z5.exec(t);if(Gt(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wr(t.seconds),nanos:wr(t.nanos)}}function wr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="server_timestamp",iT="__type__",sT="__previous_value__",oT="__local_write_time__";function q0(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[iT])==null?void 0:n.stringValue)===aT}function vh(t){const e=t.mapValue.fields[sT];return q0(e)?vh(e):e}function Mc(t){const e=ms(t.mapValue.fields[oT].timestampValue);return new sr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,r,n,a,i,s,u,l,o,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=o,this.isUsingEmulator=c}}const dm="(default)";class Ic{constructor(e,r){this.projectId=e,this.database=r||dm}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",U5="__max__",Gf={mapValue:{}},lT="__vector__",mm="value";function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q0(t)?4:H5(t)?9007199254740991:q5(t)?10:11:rt(28295,{value:t})}function Ya(t,e){if(t===e)return!0;const r=ps(t);if(r!==ps(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=ms(a.timestampValue),u=ms(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return hs(a.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return wr(a.geoPointValue.latitude)===wr(i.geoPointValue.latitude)&&wr(a.geoPointValue.longitude)===wr(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return wr(a.integerValue)===wr(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=wr(a.doubleValue),u=wr(i.doubleValue);return s===u?fm(s)===fm(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return Iu(t.arrayValue.values||[],e.arrayValue.values||[],Ya);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},u=i.mapValue.fields||{};if(Uw(s)!==Uw(u))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Ya(s[l],u[l])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function Pc(t,e){return(t.values||[]).find(r=>Ya(r,e))!==void 0}function Pu(t,e){if(t===e)return 0;const r=ps(t),n=ps(e);if(r!==n)return Et(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(i,s){const u=wr(i.integerValue||i.doubleValue),l=wr(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(t,e);case 3:return Hw(t.timestampValue,e.timestampValue);case 4:return Hw(Mc(t),Mc(e));case 5:return ng(t.stringValue,e.stringValue);case 6:return function(i,s){const u=hs(i),l=hs(s);return u.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const u=i.split("/"),l=s.split("/");for(let o=0;o<u.length&&o<l.length;o++){const c=Et(u[o],l[o]);if(c!==0)return c}return Et(u.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const u=Et(wr(i.latitude),wr(s.latitude));return u!==0?u:Et(wr(i.longitude),wr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var d,m,h,v;const u=i.fields||{},l=s.fields||{},o=(d=u[mm])==null?void 0:d.arrayValue,c=(m=l[mm])==null?void 0:m.arrayValue,f=Et(((h=o==null?void 0:o.values)==null?void 0:h.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return f!==0?f:Gw(o,c)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Gf.mapValue&&s===Gf.mapValue)return 0;if(i===Gf.mapValue)return 1;if(s===Gf.mapValue)return-1;const u=i.fields||{},l=Object.keys(u),o=s.fields||{},c=Object.keys(o);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=ng(l[f],c[f]);if(d!==0)return d;const m=Pu(u[l[f]],o[c[f]]);if(m!==0)return m}return Et(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{he:r})}}function Hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const r=ms(t),n=ms(e),a=Et(r.seconds,n.seconds);return a!==0?a:Et(r.nanos,n.nanos)}function Gw(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Pu(r[a],n[a]);if(i)return i}return Et(r.length,n.length)}function Fu(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ms(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return hs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Je.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=ag(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${ag(r.fields[s])}`;return a+"}"}(t.mapValue):rt(61005,{value:t})}function Td(t){switch(ps(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(t);return e?16+Td(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Td(i),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return vo(n.fields,(i,s)=>{a+=i.length+Td(s)}),a}(t.mapValue);default:throw rt(13486,{value:t})}}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ig(t){return!!t&&"integerValue"in t}function H0(t){return!!t&&"arrayValue"in t}function Qw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Md(t){return!!t&&"mapValue"in t}function q5(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[uT])==null?void 0:n.stringValue)===lT}function tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=tc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=tc(t.arrayValue.values[r]);return e}return{...t}}function H5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.value=e}static empty(){return new oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Md(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(r)}setAll(e){let r=Zr.emptyPath(),n={},a=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=u.popLast()}s?n[u.lastSegment()]=tc(s):a.push(u.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());Md(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ya(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Md(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){vo(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new oa(tc(this.value))}}function cT(t){const e=[];return vo(t.fields,(r,n)=>{const a=new Zr([r]);if(Md(n)){const i=cT(n.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new Sa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,r,n,a,i,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=u}static newInvalidDocument(e){return new pn(e,0,ot.min(),ot.min(),ot.min(),oa.empty(),0)}static newFoundDocument(e,r,n,a){return new pn(e,1,r,ot.min(),n,a,0)}static newNoDocument(e,r){return new pn(e,2,r,ot.min(),ot.min(),oa.empty(),0)}static newUnknownDocument(e,r){return new pn(e,3,r,ot.min(),ot.min(),oa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,r){this.position=e,this.inclusive=r}}function Kw(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?n=Je.comparator(Je.fromName(s.referenceValue),r.key):n=Pu(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ya(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r="asc"){this.field=e,this.dir=r}}function G5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{}class Dr extends fT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Q5(e,r,n):r==="array-contains"?new J5(e,n):r==="in"?new Y5(e,n):r==="not-in"?new Z5(e,n):r==="array-contains-any"?new ej(e,n):new Dr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new X5(e,n):new K5(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Pu(r,this.value)):r!==null&&ps(this.value)===ps(r)&&this.matchesComparison(Pu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends fT{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ma(e,r)}matches(e){return dT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dT(t){return t.op==="and"}function mT(t){return W5(t)&&dT(t)}function W5(t){for(const e of t.filters)if(e instanceof Ma)return!1;return!0}function sg(t){if(t instanceof Dr)return t.field.canonicalString()+t.op.toString()+Fu(t.value);if(mT(t))return t.filters.map(e=>sg(e)).join(",");{const e=t.filters.map(r=>sg(r)).join(",");return`${t.op}(${e})`}}function hT(t,e){return t instanceof Dr?function(n,a){return a instanceof Dr&&n.op===a.op&&n.field.isEqual(a.field)&&Ya(n.value,a.value)}(t,e):t instanceof Ma?function(n,a){return a instanceof Ma&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,u)=>i&&hT(s,a.filters[u]),!0):!1}(t,e):void rt(19439)}function pT(t){return t instanceof Dr?function(r){return`${r.field.canonicalString()} ${r.op} ${Fu(r.value)}`}(t):t instanceof Ma?function(r){return r.op.toString()+" {"+r.getFilters().map(pT).join(" ,")+"}"}(t):"Filter"}class Q5 extends Dr{constructor(e,r,n){super(e,r,n),this.key=Je.fromName(n.referenceValue)}matches(e){const r=Je.comparator(e.key,this.key);return this.matchesComparison(r)}}class X5 extends Dr{constructor(e,r){super(e,"in",r),this.keys=vT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class K5 extends Dr{constructor(e,r){super(e,"not-in",r),this.keys=vT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function vT(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Je.fromName(n.referenceValue))}class J5 extends Dr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return H0(r)&&Pc(r.arrayValue,this.value)}}class Y5 extends Dr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Pc(this.value.arrayValue,r)}}class Z5 extends Dr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Pc(this.value.arrayValue,r)}}class ej extends Dr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!H0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Pc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,r=null,n=[],a=[],i=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=u,this.Te=null}}function Yw(t,e=null,r=[],n=[],a=null,i=null,s=null){return new tj(t,e,r,n,a,i,s)}function G0(t){const e=ct(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>sg(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),ph(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Fu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Fu(n)).join(",")),e.Te=r}return e.Te}function W0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!G5(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!hT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function og(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,r=null,n=[],a=[],i=null,s="F",u=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=u,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rj(t,e,r,n,a,i,s,u){return new Yu(t,e,r,n,a,i,s,u)}function gT(t){return new Yu(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yT(t){return t.collectionGroup!==null}function rc(t){const e=ct(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Br(Zr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(o=>{o.isInequality()&&(u=u.add(o.field))})}),u})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Fc(i,n))}),r.has(Zr.keyField().canonicalString())||e.Ie.push(new Fc(Zr.keyField(),n))}return e.Ie}function Wa(t){const e=ct(t);return e.Ee||(e.Ee=nj(e,rc(t))),e.Ee}function nj(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Fc(a.field,i)});const r=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ug(t,e){const r=t.filters.concat([e]);return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function lg(t,e,r){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function gh(t,e){return W0(Wa(t),Wa(e))&&t.limitType===e.limitType}function xT(t){return`${G0(Wa(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>pT(a)).join(", ")}]`),ph(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Fu(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Fu(a)).join(",")),`Target(${n})`}(Wa(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Je.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of rc(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(s,u,l){const o=Kw(s,u,l);return s.inclusive?o<=0:o<0}(n.startAt,rc(n),a)||n.endAt&&!function(s,u,l){const o=Kw(s,u,l);return s.inclusive?o>=0:o>0}(n.endAt,rc(n),a))}(t,e)}function aj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bT(t){return(e,r)=>{let n=!1;for(const a of rc(t)){const i=ij(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function ij(t,e,r){const n=t.field.isKeyField()?Je.comparator(e.key,r.key):function(i,s,u){const l=s.data.field(i),o=u.data.field(i);return l!==null&&o!==null?Pu(l,o):rt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new pr(Je.comparator);function Ni(){return sj}const wT=new pr(Je.comparator);function zl(...t){let e=wT;for(const r of t)e=e.insert(r.key,r);return e}function NT(t){let e=wT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Xs(){return nc()}function _T(){return nc()}function nc(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const oj=new pr(Je.comparator),uj=new Br(Je.comparator);function St(...t){let e=uj;for(const r of t)e=e.add(r);return e}const lj=new Br(Et);function cj(){return lj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function ET(t){return{integerValue:""+t}}function fj(t,e){return k5(e)?ET(e):Q0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function dj(t,e,r){return t instanceof Rc?function(a,i){const s={fields:{[iT]:{stringValue:aT},[oT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&q0(i)&&(i=vh(i)),i&&(s.fields[sT]=i),{mapValue:s}}(r,e):t instanceof Oc?AT(t,e):t instanceof Bc?DT(t,e):function(a,i){const s=ST(a,i),u=eN(s)+eN(a.Ae);return ig(s)&&ig(a.Ae)?ET(u):Q0(a.serializer,u)}(t,e)}function mj(t,e,r){return t instanceof Oc?AT(t,e):t instanceof Bc?DT(t,e):r}function ST(t,e){return t instanceof pm?function(n){return ig(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Rc extends xh{}class Oc extends xh{constructor(e){super(),this.elements=e}}function AT(t,e){const r=CT(e);for(const n of t.elements)r.some(a=>Ya(a,n))||r.push(n);return{arrayValue:{values:r}}}class Bc extends xh{constructor(e){super(),this.elements=e}}function DT(t,e){let r=CT(e);for(const n of t.elements)r=r.filter(a=>!Ya(a,n));return{arrayValue:{values:r}}}class pm extends xh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function eN(t){return wr(t.integerValue||t.doubleValue)}function CT(t){return H0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,r){this.field=e,this.transform=r}}function pj(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Oc&&a instanceof Oc||n instanceof Bc&&a instanceof Bc?Iu(n.elements,a.elements,Ya):n instanceof pm&&a instanceof pm?Ya(n.Ae,a.Ae):n instanceof Rc&&a instanceof Rc}(t.transform,e.transform)}class vj{constructor(e,r){this.version=e,this.transformResults=r}}class Qa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Qa}static exists(e){return new Qa(void 0,e)}static updateTime(e){return new Qa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function TT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X0(t.key,Qa.none()):new Xc(t.key,t.data,Qa.none());{const r=t.data,n=oa.empty();let a=new Br(Zr.comparator);for(let i of e.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new yo(t.key,n,new Sa(a.toArray()),Qa.none())}}function gj(t,e,r){t instanceof Xc?function(a,i,s){const u=a.value.clone(),l=rN(a.fieldTransforms,i,s.transformResults);u.setAll(l),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof yo?function(a,i,s){if(!Id(a.precondition,i))return void i.convertToUnknownDocument(s.version);const u=rN(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(MT(a)),l.setAll(u),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function ac(t,e,r,n){return t instanceof Xc?function(i,s,u,l){if(!Id(i.precondition,s))return u;const o=i.value.clone(),c=nN(i.fieldTransforms,l,s);return o.setAll(c),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null}(t,e,r,n):t instanceof yo?function(i,s,u,l){if(!Id(i.precondition,s))return u;const o=nN(i.fieldTransforms,l,s),c=s.data;return c.setAll(MT(i)),c.setAll(o),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,s,u){return Id(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function yj(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=ST(n.transform,a||null);i!=null&&(r===null&&(r=oa.empty()),r.set(n.field,i))}return r||null}function tN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Iu(n,a,(i,s)=>pj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xc extends bh{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yo extends bh{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function MT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function rN(t,e,r){const n=new Map;Gt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let a=0;a<r.length;a++){const i=t[a],s=i.transform,u=e.data.field(i.field);n.set(i.field,mj(s,u,r[a]))}return n}function nN(t,e,r){const n=new Map;for(const a of t){const i=a.transform,s=r.data.field(a.field);n.set(a.field,dj(i,s,e))}return n}class X0 extends bh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends bh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&gj(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ac(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ac(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=_T();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let u=this.applyToLocalView(s,i.mutatedFields);u=r.has(a.key)?null:u;const l=TT(s,u);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(ot.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),St())}isEqual(e){return this.batchId===e.batchId&&Iu(this.mutations,e.mutations,(r,n)=>tN(r,n))&&Iu(this.baseMutations,e.baseMutations,(r,n)=>tN(r,n))}}class K0{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){Gt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=function(){return oj}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new K0(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr,It;function _j(t){switch(t){case we.OK:return rt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function IT(t){if(t===void 0)return wi("GRPC error has no .code"),we.UNKNOWN;switch(t){case Sr.OK:return we.OK;case Sr.CANCELLED:return we.CANCELLED;case Sr.UNKNOWN:return we.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return we.INTERNAL;case Sr.UNAVAILABLE:return we.UNAVAILABLE;case Sr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Sr.NOT_FOUND:return we.NOT_FOUND;case Sr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Sr.ABORTED:return we.ABORTED;case Sr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Sr.DATA_LOSS:return we.DATA_LOSS;default:return rt(39323,{code:t})}}(It=Sr||(Sr={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new ss([4294967295,4294967295],0);function aN(t){const e=Ej().encode(t),r=new HC;return r.update(e),new Uint8Array(r.digest())}function iN(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ss([r,n],0),new ss([a,i],0)]}class J0{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vl(`Invalid padding: ${r}`);if(n<0)throw new Vl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ss.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(ss.fromNumber(n)));return a.compare(Sj)===1&&(a=new ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=aN(e),[n,a]=iN(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new J0(i,a,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.ge===0)return;const r=aN(e),[n,a]=iN(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wh(ot.min(),a,new pr(Et),Ni(),St())}}class Kc{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Kc(n,r,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r,n,a){this.be=e,this.removedTargetIds=r,this.key=n,this.De=a}}class PT{constructor(e,r){this.targetId=e,this.Ce=r}}class FT{constructor(e,r,n=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class sN{constructor(){this.ve=0,this.Fe=oN(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=St(),r=St(),n=St();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:rt(38017,{changeType:i})}}),new Kc(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=oN()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Aj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Wf(),this.He=Wf(),this.Ye=new pr(Et)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:rt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const i=a.target;if(og(i))if(n===0){const s=new Je(i.path);this.et(r,s,pn.newNoDocument(s,ot.min()))}else Gt(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const u=this.ut(e),l=u?this.ct(u,e,s):1;if(l!==0){this.it(r);const o=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,o)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,u;try{s=hs(n).toUint8Array()}catch(l){if(l instanceof nT)return Mu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{u=new J0(s,a,i)}catch(l){return Mu(l instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return u.ge===0?null:u}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(r,i,null),a++)}),a}Tt(e){const r=new Map;this.ze.forEach((i,s)=>{const u=this.ot(s);if(u){if(i.current&&og(u.target)){const l=new Je(u.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,pn.newNoDocument(l,e))}i.Be&&(r.set(s,i.ke()),i.qe())}});let n=St();this.He.forEach((i,s)=>{let u=!0;s.forEachWhile(l=>{const o=this.ot(l);return!o||o.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new wh(e,r,this.Ye,this.je,n);return this.je=Ni(),this.Je=Wf(),this.He=Wf(),this.Ye=new pr(Et),a}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new sN,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Br(Et),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Br(Et),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ve("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sN),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Wf(){return new pr(Je.comparator)}function oN(){return new pr(Je.comparator)}const Dj={asc:"ASCENDING",desc:"DESCENDING"},Cj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tj={and:"AND",or:"OR"};class Mj{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function cg(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ij(t,e){return vm(t,e.toTimestamp())}function Xa(t){return Gt(!!t,49232),ot.fromTimestamp(function(r){const n=ms(r);return new sr(n.seconds,n.nanos)}(t))}function Y0(t,e){return fg(t,e).canonicalString()}function fg(t,e){const r=function(a){return new rr(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function OT(t){const e=rr.fromString(t);return Gt(LT(e),10190,{key:e.toString()}),e}function dg(t,e){return Y0(t.databaseId,e.path)}function Vp(t,e){const r=OT(e);if(r.get(1)!==t.databaseId.projectId)throw new ze(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ze(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Je(jT(r))}function BT(t,e){return Y0(t.databaseId,e)}function Pj(t){const e=OT(t);return e.length===4?rr.emptyPath():jT(e)}function mg(t){return new rr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jT(t){return Gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uN(t,e,r){return{name:dg(t,e),fields:r.value.mapValue.fields}}function Fj(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:rt(39313,{state:o})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(o,c){return o.useProto3Json?(Gt(c===void 0||typeof c=="string",58123),sn.fromBase64String(c||"")):(Gt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(o){const c=o.code===void 0?we.UNKNOWN:IT(o.code);return new ze(c,o.message||"")}(s);r=new FT(n,a,i,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Vp(t,n.document.name),i=Xa(n.document.updateTime),s=n.document.createTime?Xa(n.document.createTime):ot.min(),u=new oa({mapValue:{fields:n.document.fields}}),l=pn.newFoundDocument(a,i,s,u),o=n.targetIds||[],c=n.removedTargetIds||[];r=new Pd(o,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Vp(t,n.document),i=n.readTime?Xa(n.readTime):ot.min(),s=pn.newNoDocument(a,i),u=n.removedTargetIds||[];r=new Pd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Vp(t,n.document),i=n.removedTargetIds||[];r=new Pd([],i,a,null)}else{if(!("filter"in e))return rt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Nj(a,i),u=n.targetId;r=new PT(u,s)}}return r}function Rj(t,e){let r;if(e instanceof Xc)r={update:uN(t,e.key,e.value)};else if(e instanceof X0)r={delete:dg(t,e.key)};else if(e instanceof yo)r={update:uN(t,e.key,e.data),updateMask:Uj(e.fieldMask)};else{if(!(e instanceof xj))return rt(16599,{Vt:e.type});r={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const u=s.transform;if(u instanceof Rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pm)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw rt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Ij(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:rt(27497)}(t,e.precondition)),r}function Oj(t,e){return t&&t.length>0?(Gt(e!==void 0,14353),t.map(r=>function(a,i){let s=a.updateTime?Xa(a.updateTime):Xa(i);return s.isEqual(ot.min())&&(s=Xa(i)),new vj(s,a.transformResults||[])}(r,e))):[]}function Bj(t,e){return{documents:[BT(t,e.path)]}}function jj(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=BT(t,a);const i=function(o){if(o.length!==0)return $T(Ma.create(o,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(o){if(o.length!==0)return o.map(c=>function(d){return{field:Go(d.field),direction:Lj(d.dir)}}(c))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=cg(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(o){return{before:o.inclusive,values:o.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(o){return{before:!o.inclusive,values:o.position}}(e.endAt)),{ft:r,parent:a}}function kj(t){let e=Pj(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Gt(n===1,65062);const c=r.from[0];c.allDescendants?a=c.collectionId:e=e.child(c.collectionId)}let i=[];r.where&&(i=function(f){const d=kT(f);return d instanceof Ma&&mT(d)?d.getFilters():[d]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(d=>function(h){return new Fc(Wo(h.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d))}(r.orderBy));let u=null;r.limit&&(u=function(f){let d;return d=typeof f=="object"?f.value:f,ph(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new hm(m,d)}(r.startAt));let o=null;return r.endAt&&(o=function(f){const d=!f.before,m=f.values||[];return new hm(m,d)}(r.endAt)),rj(e,a,s,i,u,"F",l,o)}function $j(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function kT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wo(r.unaryFilter.field);return Dr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Wo(r.unaryFilter.field);return Dr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wo(r.unaryFilter.field);return Dr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wo(r.unaryFilter.field);return Dr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Dr.create(Wo(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ma.create(r.compositeFilter.filters.map(n=>kT(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(r.compositeFilter.op))}(t):rt(30097,{filter:t})}function Lj(t){return Dj[t]}function zj(t){return Cj[t]}function Vj(t){return Tj[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Wo(t){return Zr.fromServerFormat(t.fieldPath)}function $T(t){return t instanceof Dr?function(r){if(r.op==="=="){if(Xw(r.value))return{unaryFilter:{field:Go(r.field),op:"IS_NAN"}};if(Qw(r.value))return{unaryFilter:{field:Go(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Xw(r.value))return{unaryFilter:{field:Go(r.field),op:"IS_NOT_NAN"}};if(Qw(r.value))return{unaryFilter:{field:Go(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(r.field),op:zj(r.op),value:r.value}}}(t):t instanceof Ma?function(r){const n=r.getFilters().map(a=>$T(a));return n.length===1?n[0]:{compositeFilter:{op:Vj(r.op),filters:n}}}(t):rt(54877,{filter:t})}function Uj(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function LT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,r,n,a,i=ot.min(),s=ot.min(),u=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.yt=e}}function Hj(t){const e=kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.Cn=new Wj}addToCollectionParentIndex(e,r){return this.Cn.add(r),_e.resolve()}getCollectionParents(e,r){return _e.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return _e.resolve()}deleteFieldIndex(e,r){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,r){return _e.resolve()}getDocumentsMatchingTarget(e,r){return _e.resolve(null)}getIndexType(e,r){return _e.resolve(0)}getFieldIndexes(e,r){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,r){return _e.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,r){return _e.resolve(ds.min())}updateCollectionGroup(e,r,n){return _e.resolve()}updateIndexEntries(e,r){return _e.resolve()}}class Wj{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Br(rr.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Br(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(zT,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ru(0)}static cr(){return new Ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="LruGarbageCollector",Qj=1048576;function fN([t,e],[r,n]){const a=Et(t,r);return a===0?Et(e,n):a}class Xj{constructor(e){this.Ir=e,this.buffer=new Br(fN),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fN(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Kj{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(cN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ju(r)?Ve(cN,"Ignoring IndexedDB error during garbage collection: ",r):await Ku(r)}await this.Vr(3e5)})}}class Jj{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return _e.resolve(hh.ce);const n=new Xj(r);return this.mr.forEachTarget(e,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(lN)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lN):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,a,i,s,u,l,o;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(e,a))).next(f=>(n=f,u=Date.now(),this.removeTargets(e,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(o=Date.now(),qo()<=Pt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${a} in `+(u-s)+`ms
	Removed ${i} targets in `+(l-u)+`ms
	Removed ${f} documents in `+(o-l)+`ms
Total Duration: ${o-c}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Yj(t,e){return new Jj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.changes=new go(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?_e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&ac(n.mutation,a,Sa.empty(),sr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,St()).next(()=>n))}getLocalViewOfDocuments(e,r,n=St()){const a=Xs();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let s=zl();return i.forEach((u,l)=>{s=s.insert(u,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Xs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,St()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,a){let i=Ni();const s=nc(),u=function(){return nc()}();return r.forEach((l,o)=>{const c=n.get(o.key);a.has(o.key)&&(c===void 0||c.mutation instanceof yo)?i=i.insert(o.key,o):c!==void 0?(s.set(o.key,c.mutation.getFieldMask()),ac(c.mutation,o,c.mutation.getFieldMask(),sr.now())):s.set(o.key,Sa.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((o,c)=>s.set(o,c)),r.forEach((o,c)=>u.set(o,new e9(c,s.get(o)??null))),u))}recalculateAndSaveOverlays(e,r){const n=nc();let a=new pr((s,u)=>s-u),i=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(l=>{const o=r.get(l);if(o===null)return;let c=n.get(l)||Sa.empty();c=u.applyToLocalView(o,c),n.set(l,c);const f=(a.get(u.batchId)||St()).add(l);a=a.insert(u.batchId,f)})}).next(()=>{const s=[],u=a.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),o=l.key,c=l.value,f=_T();c.forEach(d=>{if(!i.has(d)){const m=TT(r.get(d),n.get(d));m!==null&&f.set(d,m),i=i.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,f))}return _e.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(s){return Je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yT(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):_e.resolve(Xs());let u=Tc,l=i;return s.next(o=>_e.forEach(o,(c,f)=>(u<f.largestBatchId&&(u=f.largestBatchId),i.get(c)?_e.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,o,i)).next(()=>this.computeViews(e,l,o,St())).next(c=>({batchId:u,changes:NT(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Je(r)).next(n=>{let a=zl();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let s=zl();return this.indexManager.getCollectionParents(e,i).next(u=>_e.forEach(u,l=>{const o=function(f,d){return new Yu(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,a).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(s=>{i.forEach((l,o)=>{const c=o.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let u=zl();return s.forEach((l,o)=>{const c=i.get(l);c!==void 0&&ac(c.mutation,o,Sa.empty(),sr.now()),yh(r,o)&&(u=u.insert(l,o))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return _e.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Xa(a.createTime)}}(r)),_e.resolve()}getNamedQuery(e,r){return _e.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(a){return{name:a.name,query:Hj(a.bundledQuery),readTime:Xa(a.readTime)}}(r)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.overlays=new pr(Je.comparator),this.qr=new Map}getOverlay(e,r){return _e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Xs();return _e.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.St(e,r,i)}),_e.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),_e.resolve()}getOverlaysForCollection(e,r,n){const a=Xs(),i=r.length+1,s=new Je(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const l=u.getNext().value,o=l.getKey();if(!r.isPrefixOf(o.path))break;o.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return _e.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new pr((o,c)=>o-c);const s=this.overlays.getIterator();for(;s.hasNext();){const o=s.getNext().value;if(o.getKey().getCollectionGroup()===r&&o.largestBatchId>n){let c=i.get(o.largestBatchId);c===null&&(c=Xs(),i=i.insert(o.largestBatchId,c)),c.set(o.getKey(),o)}}const u=Xs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((o,c)=>u.set(o,c)),!(u.size()>=a)););return _e.resolve(u)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new wj(r,n));let i=this.qr.get(r);i===void 0&&(i=St(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.Qr=new Br(Hr.$r),this.Ur=new Br(Hr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Hr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Hr(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Je(new rr([])),n=new Hr(r,e),a=new Hr(r,e+1),i=[];return this.Ur.forEachInRange([n,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Je(new rr([])),n=new Hr(r,e),a=new Hr(r,e+1);let i=St();return this.Ur.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(e){const r=new Hr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Hr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Je.comparator(e.key,r.key)||Et(e.Yr,r.Yr)}static Kr(e,r){return Et(e.Yr,r.Yr)||Je.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Br(Hr.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bj(i,r,n,a);this.mutationQueue.push(s);for(const u of a)this.Zr=this.Zr.add(new Hr(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return _e.resolve(s)}lookupMutationBatch(e,r){return _e.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return _e.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?U0:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Hr(r,0),a=new Hr(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],s=>{const u=this.Xr(s.Yr);i.push(u)}),_e.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(Et);return r.forEach(a=>{const i=new Hr(a,0),s=new Hr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],u=>{n=n.add(u.Yr)})}),_e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;Je.isDocumentKey(i)||(i=i.child(""));const s=new Hr(new Je(i),0);let u=new Br(Et);return this.Zr.forEachWhile(l=>{const o=l.key.path;return!!n.isPrefixOf(o)&&(o.length===a&&(u=u.add(l.Yr)),!0)},s),_e.resolve(this.ti(u))}ti(e){const r=[];return e.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Gt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return _e.forEach(r.mutations,a=>{const i=new Hr(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Hr(r,0),a=this.Zr.firstAfterOrEqual(n);return _e.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.ri=e,this.docs=function(){return new pr(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return _e.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(r))}getEntries(e,r){let n=Ni();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():pn.newInvalidDocument(a))}),_e.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=Ni();const s=r.path,u=new Je(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:o,value:{document:c}}=l.getNext();if(!s.isPrefixOf(o.path))break;o.path.length>s.length+1||R5(F5(c),n)<=0||(a.has(c.key)||yh(r,c))&&(i=i.insert(c.key,c.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,r,n,a){rt(9500)}ii(e,r){return _e.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new o9(this)}getSize(e){return _e.resolve(this.size)}}class o9 extends Zj{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(n)}),_e.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.persistence=e,this.si=new go(r=>G0(r),W0),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new Z0,this.targetCount=0,this.ai=Ru.ur()}forEachTarget(e,r){return this.si.forEach((n,a)=>r(a)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),_e.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ru(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,_e.resolve()}updateTargetData(e,r){return this.Pr(r),_e.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.si.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),_e.waitFor(i).next(()=>a)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return _e.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),_e.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),_e.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),_e.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return _e.resolve(n)}containsKey(e,r){return _e.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,r){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new a9,this.referenceDelegate=e(this),this.Pi=new u9(this),this.indexManager=new Gj,this.remoteDocumentCache=function(a){return new s9(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new qj(r),this.Ii=new r9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new n9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new i9(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ve("MemoryPersistence","Starting transaction:",e);const a=new l9(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,r){return _e.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class l9 extends B5{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ri=new Z0,this.Vi=null}static mi(e){return new ey(e)}get fi(){if(this.Vi)return this.Vi;throw rt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),_e.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),_e.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),_e.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,n=>{const a=Je.fromPath(n);return this.gi(e,a).next(i=>{i||r.removeEntry(a,ot.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return _e.or([()=>_e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class gm{constructor(e,r){this.persistence=e,this.pi=new go(n=>$5(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Yj(this,r)}static mi(e,r){return new gm(e,r)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return _e.forEach(this.pi,(n,a)=>this.br(e,n,a).next(i=>i?_e.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,s=>this.br(e,s,r).next(u=>{u||(n++,i.removeEntry(s,ot.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Td(e.data.value)),r}br(e,r,n){return _e.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.pi.get(r);return _e.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=a}static As(e,r){let n=St(),a=St();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new ty(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return tB()?8:j5(Z6())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.ys(e,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new c9;return this.Ss(e,r,s).next(u=>{if(i.result=u,this.Vs)return this.bs(e,r,s,u.size)})}).next(()=>i.result)}bs(e,r,n,a){return n.documentReadCount<this.fs?(qo()<=Pt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Ho(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(qo()<=Pt.DEBUG&&Ve("QueryEngine","Query:",Ho(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(qo()<=Pt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Ho(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(r))):_e.resolve())}ys(e,r){if(Zw(r))return _e.resolve(null);let n=Wa(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=lg(r,null,"F"),n=Wa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=St(...i);return this.ps.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(l=>{const o=this.Ds(r,u);return this.Cs(r,o,s,l.readTime)?this.ys(e,lg(r,null,"F")):this.vs(e,o,r,l)}))})))}ws(e,r,n,a){return Zw(r)||a.isEqual(ot.min())?_e.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?_e.resolve(null):(qo()<=Pt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ho(r)),this.vs(e,s,r,P5(a,Tc)).next(u=>u))})}Ds(e,r){let n=new Br(bT(e));return r.forEach((a,i)=>{yh(e,i)&&(n=n.add(i))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,r,n){return qo()<=Pt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ho(r)),this.ps.getDocumentsMatchingQuery(e,r,ds.min(),n)}vs(e,r,n,a){return this.ps.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",d9=3e8;class m9{constructor(e,r,n,a){this.persistence=e,this.Fs=r,this.serializer=a,this.Ms=new pr(Et),this.xs=new go(i=>G0(i),W0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function h9(t,e,r,n){return new m9(t,e,r,n)}async function UT(t,e){const r=ct(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],u=[];let l=St();for(const o of a){s.push(o.batchId);for(const c of o.mutations)l=l.add(c.key)}for(const o of i){u.push(o.batchId);for(const c of o.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(o=>({Ls:o,removedBatchIds:s,addedBatchIds:u}))})})}function p9(t,e){const r=ct(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(u,l,o,c){const f=o.batch,d=f.keys();let m=_e.resolve();return d.forEach(h=>{m=m.next(()=>c.getEntry(l,h)).next(v=>{const T=o.docVersions.get(h);Gt(T!==null,48541),v.version.compareTo(T)<0&&(f.applyToRemoteDocument(v,o),v.isValidDocument()&&(v.setReadTime(o.commitVersion),c.addEntry(v)))})}),m.next(()=>u.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let l=St();for(let o=0;o<u.mutationResults.length;++o)u.mutationResults[o].transformResults.length>0&&(l=l.add(u.batch.mutations[o].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function qT(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function v9(t,e){const r=ct(t),n=e.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const u=[];e.targetChanges.forEach((c,f)=>{const d=a.get(f);if(!d)return;u.push(r.Pi.removeMatchingKeys(i,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(i,c.addedDocuments,f)));let m=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(sn.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),a=a.insert(f,m),function(v,T,S){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=d9?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,m,c)&&u.push(r.Pi.updateTargetData(i,m))});let l=Ni(),o=St();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(i,c))}),u.push(g9(i,s,e.documentUpdates).next(c=>{l=c.ks,o=c.qs})),!n.isEqual(ot.min())){const c=r.Pi.getLastRemoteSnapshotVersion(i).next(f=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(c)}return _e.waitFor(u).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,o)).next(()=>l)}).then(i=>(r.Ms=a,i))}function g9(t,e,r){let n=St(),a=St();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let s=Ni();return r.forEach((u,l)=>{const o=i.get(u);l.isFoundDocument()!==o.isFoundDocument()&&(a=a.add(u)),l.isNoDocument()&&l.version.isEqual(ot.min())?(e.removeEntry(u,l.readTime),s=s.insert(u,l)):!o.isValidDocument()||l.version.compareTo(o.version)>0||l.version.compareTo(o.version)===0&&o.hasPendingWrites?(e.addEntry(l),s=s.insert(u,l)):Ve(ry,"Ignoring outdated watch update for ",u,". Current version:",o.version," Watch version:",l.version)}),{ks:s,qs:a}})}function y9(t,e){const r=ct(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=U0),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function x9(t,e){const r=ct(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,e).next(i=>i?(a=i,_e.resolve(a)):r.Pi.allocateTargetId(n).next(s=>(a=new Gi(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function hg(t,e,r){const n=ct(t),a=n.Ms.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Ju(s))throw s;Ve(ry,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(a.target)}function dN(t,e,r){const n=ct(t);let a=ot.min(),i=St();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,o,c){const f=ct(l),d=f.xs.get(c);return d!==void 0?_e.resolve(f.Ms.get(d)):f.Pi.getTargetData(o,c)}(n,s,Wa(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,u.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?a:ot.min(),r?i:St())).next(u=>(b9(n,aj(e),u),{documents:u,Qs:i})))}function b9(t,e,r){let n=t.Os.get(e)||ot.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Os.set(e,n)}class mN{constructor(){this.activeTargetIds=cj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w9{constructor(){this.Mo=new mN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mN,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="ConnectivityMonitor";class pN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(hN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(hN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function pg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",_9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===dm?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(e,r,n,a,i){const s=pg(),u=this.zo(e,r.toUriEncodedString());Ve(Up,`Sending RPC '${e}' ${s}:`,u,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,i);const{host:o}=new URL(u),c=$0(o);return this.Jo(e,u,l,n,c).then(f=>(Ve(Up,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Mu(Up,`RPC '${e}' ${s} failed with error: `,f,"url: ",u,"request:",n),f})}Ho(e,r,n,a,i,s){return this.Go(e,r,n,a,i)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>e[i]=a),n&&n.headers.forEach((a,i)=>e[i]=a)}zo(e,r){const n=_9[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class A9 extends E9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,i){const s=pg();return new Promise((u,l)=>{const o=new GC;o.setWithCredentials(!0),o.listenOnce(WC.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Cd.NO_ERROR:const f=o.getResponseJson();Ve(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),u(f);break;case Cd.TIMEOUT:Ve(fn,`RPC '${e}' ${s} timed out`),l(new ze(we.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const d=o.getStatus();if(Ve(fn,`RPC '${e}' ${s} failed with status:`,d,"response text:",o.getResponseText()),d>0){let m=o.getResponseJson();Array.isArray(m)&&(m=m[0]);const h=m==null?void 0:m.error;if(h&&h.status&&h.message){const v=function(S){const C=S.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(C)>=0?C:we.UNKNOWN}(h.status);l(new ze(v,h.message))}else l(new ze(we.UNKNOWN,"Server responded with status "+o.getStatus()))}else l(new ze(we.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ve(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(a);Ve(fn,`RPC '${e}' ${s} sending request:`,a),o.send(r,"POST",c,n,15)})}T_(e,r,n){const a=pg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KC(),u=XC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(l.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=i.join("");Ve(fn,`Creating RPC '${e}' stream ${a}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let d=!1,m=!1;const h=new S9({Yo:T=>{m?Ve(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(d||(Ve(fn,`Opening RPC '${e}' stream ${a} transport.`),f.open(),d=!0),Ve(fn,`RPC '${e}' stream ${a} sending:`,T),f.send(T))},Zo:()=>f.close()}),v=(T,S,C)=>{T.listen(S,N=>{try{C(N)}catch(M){setTimeout(()=>{throw M},0)}})};return v(f,Ll.EventType.OPEN,()=>{m||(Ve(fn,`RPC '${e}' stream ${a} transport opened.`),h.o_())}),v(f,Ll.EventType.CLOSE,()=>{m||(m=!0,Ve(fn,`RPC '${e}' stream ${a} transport closed`),h.a_(),this.E_(f))}),v(f,Ll.EventType.ERROR,T=>{m||(m=!0,Mu(fn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),h.a_(new ze(we.UNAVAILABLE,"The operation could not be completed")))}),v(f,Ll.EventType.MESSAGE,T=>{var S;if(!m){const C=T.data[0];Gt(!!C,16349);const N=C,M=(N==null?void 0:N.error)||((S=N[0])==null?void 0:S.error);if(M){Ve(fn,`RPC '${e}' stream ${a} received error:`,M);const y=M.status;let x=function(_){const E=Sr[_];if(E!==void 0)return IT(E)}(y),w=M.message;x===void 0&&(x=we.INTERNAL,w="Unknown error status: "+y+" with message "+M.message),m=!0,h.a_(new ze(x,w)),f.close()}else Ve(fn,`RPC '${e}' stream ${a} received:`,C),h.u_(C)}}),v(u,QC.STAT_EVENT,T=>{T.stat===rg.PROXY?Ve(fn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===rg.NOPROXY&&Ve(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{h.__()},0),h}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new Mj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,r,n=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="PersistentStream";class GT{constructor(e,r,n,a,i,s,u,l){this.Mi=e,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HT(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(wi(r.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{e(()=>{const a=new ze(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ve(vN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Ve(vN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D9 extends GT{constructor(e,r,n,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Fj(this.serializer,e),n=function(i){if(!("targetChange"in i))return ot.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ot.min():s.readTime?Xa(s.readTime):ot.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=mg(this.serializer),r.addTarget=function(i,s){let u;const l=s.target;if(u=og(l)?{documents:Bj(i,l)}:{query:jj(i,l).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=RT(i,s.resumeToken);const o=cg(i,s.expectedCount);o!==null&&(u.expectedCount=o)}else if(s.snapshotVersion.compareTo(ot.min())>0){u.readTime=vm(i,s.snapshotVersion.toTimestamp());const o=cg(i,s.expectedCount);o!==null&&(u.expectedCount=o)}return u}(this.serializer,e);const n=$j(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=mg(this.serializer),r.removeTarget=e,this.q_(r)}}class C9 extends GT{constructor(e,r,n,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Oj(e.writeResults,e.commitTime),n=Xa(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=mg(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Rj(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{}class M9 extends T9{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ze(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,fg(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ze(we.UNKNOWN,i.toString())})}Ho(e,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Ho(e,fg(r,n),a,s,u,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(we.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class I9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wi(r),this.aa=!1):Ve("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="RemoteStore";class P9{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{xo(this)&&(Ve(oo,"Restarting streams for network reachability change."),await async function(l){const o=ct(l);o.Ea.add(4),await Jc(o),o.Ra.set("Unknown"),o.Ea.delete(4),await _h(o)}(this))})}),this.Ra=new I9(n,a)}}async function _h(t){if(xo(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function WT(t,e){const r=ct(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),sy(r)?iy(r):Zu(r).O_()&&ay(r,e))}function ny(t,e){const r=ct(t),n=Zu(r);r.Ia.delete(e),n.O_()&&QT(r,e),r.Ia.size===0&&(n.O_()?n.L_():xo(r)&&r.Ra.set("Unknown"))}function ay(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(t).Y_(e)}function QT(t,e){t.Va.Ue(e),Zu(t).Z_(e)}function iy(t){t.Va=new Aj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zu(t).start(),t.Ra.ua()}function sy(t){return xo(t)&&!Zu(t).x_()&&t.Ia.size>0}function xo(t){return ct(t).Ea.size===0}function XT(t){t.Va=void 0}async function F9(t){t.Ra.set("Online")}async function R9(t){t.Ia.forEach((e,r)=>{ay(t,e)})}async function O9(t,e){XT(t),sy(t)?(t.Ra.ha(e),iy(t)):t.Ra.set("Unknown")}async function B9(t,e,r){if(t.Ra.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const u of i.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,s),a.Ia.delete(u),a.Va.removeTarget(u))}(t,e)}catch(n){Ve(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ym(t,n)}else if(e instanceof Pd?t.Va.Ze(e):e instanceof PT?t.Va.st(e):t.Va.tt(e),!r.isEqual(ot.min()))try{const n=await qT(t.localStore);r.compareTo(n)>=0&&await function(i,s){const u=i.Va.Tt(s);return u.targetChanges.forEach((l,o)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.Ia.get(o);c&&i.Ia.set(o,c.withResumeToken(l.resumeToken,s))}}),u.targetMismatches.forEach((l,o)=>{const c=i.Ia.get(l);if(!c)return;i.Ia.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),QT(i,l);const f=new Gi(c.target,l,o,c.sequenceNumber);ay(i,f)}),i.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ve(oo,"Failed to raise snapshot:",n),await ym(t,n)}}async function ym(t,e,r){if(!Ju(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),r||(r=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve(oo,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await _h(t)})}function KT(t,e){return e().catch(r=>ym(t,r,e))}async function Eh(t){const e=ct(t),r=vs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:U0;for(;j9(e);)try{const a=await y9(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,k9(e,a)}catch(a){await ym(e,a)}JT(e)&&YT(e)}function j9(t){return xo(t)&&t.Ta.length<10}function k9(t,e){t.Ta.push(e);const r=vs(t);r.O_()&&r.X_&&r.ea(e.mutations)}function JT(t){return xo(t)&&!vs(t).x_()&&t.Ta.length>0}function YT(t){vs(t).start()}async function $9(t){vs(t).ra()}async function L9(t){const e=vs(t);for(const r of t.Ta)e.ea(r.mutations)}async function z9(t,e,r){const n=t.Ta.shift(),a=K0.from(n,e,r);await KT(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Eh(t)}async function V9(t,e){e&&vs(t).X_&&await async function(n,a){if(function(s){return _j(s)&&s!==we.ABORTED}(a.code)){const i=n.Ta.shift();vs(n).B_(),await KT(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Eh(n)}}(t,e),JT(t)&&YT(t)}async function gN(t,e){const r=ct(t);r.asyncQueue.verifyOperationInProgress(),Ve(oo,"RemoteStore received new credentials");const n=xo(r);r.Ea.add(3),await Jc(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await _h(r)}async function U9(t,e){const r=ct(t);e?(r.Ea.delete(2),await _h(r)):e||(r.Ea.add(2),await Jc(r),r.Ra.set("Unknown"))}function Zu(t){return t.ma||(t.ma=function(r,n,a){const i=ct(r);return i.sa(),new D9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:F9.bind(null,t),t_:R9.bind(null,t),r_:O9.bind(null,t),H_:B9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),sy(t)?iy(t):t.Ra.set("Unknown")):(await t.ma.stop(),XT(t))})),t.ma}function vs(t){return t.fa||(t.fa=function(r,n,a){const i=ct(r);return i.sa(),new C9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$9.bind(null,t),r_:V9.bind(null,t),ta:L9.bind(null,t),na:z9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Eh(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const s=Date.now()+n,u=new oy(e,r,s,a,i);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(wi("AsyncQueue",`${e}: ${t}`),Ju(t))return new ze(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Je.comparator(r.key,n.key):(r,n)=>Je.comparator(r.key,n.key),this.keyedMap=zl(),this.sortedSet=new pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new vu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.ga=new pr(Je.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):rt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ou{constructor(e,r,n,a,i,s,u,l,o){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=o}static fromInitialDocuments(e,r,n,a,i){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new Ou(e,r,vu.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class H9{constructor(){this.queries=xN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=ct(r),i=a.queries;a.queries=xN(),i.forEach((s,u)=>{for(const l of u.Sa)l.onError(n)})})(this,new ze(we.ABORTED,"Firestore shutting down"))}}function xN(){return new go(t=>xT(t),gh)}async function G9(t,e){const r=ct(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.ba()&&e.Da()&&(n=2):(i=new q9,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const u=uy(s,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(u)}r.queries.set(a,i),i.Sa.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&ly(r)}async function W9(t,e){const r=ct(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Q9(t,e){const r=ct(t);let n=!1;for(const a of e){const i=a.query,s=r.queries.get(i);if(s){for(const u of s.Sa)u.Fa(a)&&(n=!0);s.wa=a}}n&&ly(r)}function X9(t,e,r){const n=ct(t),a=n.queries.get(e);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(e)}function ly(t){t.Ca.forEach(e=>{e.next()})}var vg,bN;(bN=vg||(vg={})).Ma="default",bN.Cache="cache";class K9{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Ou(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.key=e}}class e3{constructor(e){this.key=e}}class J9{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=St(),this.mutatedKeys=St(),this.eu=bT(e),this.tu=new vu(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new yN,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,u=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,o=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((c,f)=>{const d=a.get(c),m=yh(this.query,f)?f:null,h=!!d&&this.mutatedKeys.has(d.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;d&&m?d.data.isEqual(m.data)?h!==v&&(n.track({type:3,doc:m}),T=!0):this.su(d,m)||(n.track({type:2,doc:m}),T=!0,(l&&this.eu(m,l)>0||o&&this.eu(m,o)<0)&&(u=!0)):!d&&m?(n.track({type:0,doc:m}),T=!0):d&&!m&&(n.track({type:1,doc:d}),T=!0,(l||o)&&(u=!0)),T&&(m?(s=s.add(m),i=v?i.add(c):i.delete(c)):(s=s.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),n.track({type:1,doc:c})}return{tu:s,iu:n,Cs:u,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(m,h){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Rt:T})}};return v(m)-v(h)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),a=a??!1;const u=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,o=l!==this.Za;return this.Za=l,s.length!==0||o?{snapshot:new Ou(this.query,e.tu,i,s,e.mutatedKeys,l===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=St(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new e3(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new ZT(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=St();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class Y9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Z9{constructor(e){this.key=e,this.hu=!1}}class e8{constructor(e,r,n,a,i,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new go(u=>xT(u),gh),this.Iu=new Map,this.Eu=new Set,this.du=new pr(Je.comparator),this.Au=new Map,this.Ru=new Z0,this.Vu={},this.mu=new Map,this.fu=Ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t8(t,e,r=!0){const n=s3(t);let a;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await t3(n,e,r,!0),a}async function r8(t,e){const r=s3(t);await t3(r,e,!0,!1)}async function t3(t,e,r,n){const a=await x9(t.localStore,Wa(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,r);let u;return n&&(u=await n8(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&r&&WT(t.remoteStore,a),u}async function n8(t,e,r,n,a){t.pu=(f,d,m)=>async function(v,T,S,C){let N=T.view.ru(S);N.Cs&&(N=await dN(v.localStore,T.query,!1).then(({documents:w})=>T.view.ru(w,N)));const M=C&&C.targetChanges.get(T.targetId),y=C&&C.targetMismatches.get(T.targetId)!=null,x=T.view.applyChanges(N,v.isPrimaryClient,M,y);return NN(v,T.targetId,x.au),x.snapshot}(t,f,d,m);const i=await dN(t.localStore,e,!0),s=new J9(e,i.Qs),u=s.ru(i.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),o=s.applyChanges(u,t.isPrimaryClient,l);NN(t,r,o.au);const c=new Y9(e,r,s);return t.Tu.set(e,c),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),o.snapshot}async function a8(t,e,r){const n=ct(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!gh(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await hg(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&ny(n.remoteStore,a.targetId),gg(n,a.targetId)}).catch(Ku)):(gg(n,a.targetId),await hg(n.localStore,a.targetId,!0))}async function i8(t,e){const r=ct(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ny(r.remoteStore,n.targetId))}async function s8(t,e,r){const n=m8(t);try{const a=await function(s,u){const l=ct(s),o=sr.now(),c=u.reduce((m,h)=>m.add(h.key),St());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let h=Ni(),v=St();return l.Ns.getEntries(m,c).next(T=>{h=T,h.forEach((S,C)=>{C.isValidDocument()||(v=v.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,h)).next(T=>{f=T;const S=[];for(const C of u){const N=yj(C,f.get(C.key).overlayedDocument);N!=null&&S.push(new yo(C.key,N,cT(N.value.mapValue),Qa.exists(!0)))}return l.mutationQueue.addMutationBatch(m,o,S,u)}).next(T=>{d=T;const S=T.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,T.batchId,S)})}).then(()=>({batchId:d.batchId,changes:NT(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(s,u,l){let o=s.Vu[s.currentUser.toKey()];o||(o=new pr(Et)),o=o.insert(u,l),s.Vu[s.currentUser.toKey()]=o}(n,a.batchId,r),await Yc(n,a.changes),await Eh(n.remoteStore)}catch(a){const i=uy(a,"Failed to persist write");r.reject(i)}}async function r3(t,e){const r=ct(t);try{const n=await v9(r.localStore,e);e.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Gt(s.hu,14607):a.removedDocuments.size>0&&(Gt(s.hu,42227),s.hu=!1))}),await Yc(r,n,e)}catch(n){await Ku(n)}}function wN(t,e,r){const n=ct(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const u=s.view.va(e);u.snapshot&&a.push(u.snapshot)}),function(s,u){const l=ct(s);l.onlineState=u;let o=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(u)&&(o=!0)}),o&&ly(l)}(n.eventManager,e),a.length&&n.Pu.H_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function o8(t,e,r){const n=ct(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),i=a&&a.key;if(i){let s=new pr(Je.comparator);s=s.insert(i,pn.newNoDocument(i,ot.min()));const u=St().add(i),l=new wh(ot.min(),new Map,new pr(Et),s,u);await r3(n,l),n.du=n.du.remove(i),n.Au.delete(e),fy(n)}else await hg(n.localStore,e,!1).then(()=>gg(n,e,r)).catch(Ku)}async function u8(t,e){const r=ct(t),n=e.batch.batchId;try{const a=await p9(r.localStore,e);a3(r,n,null),n3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Yc(r,a)}catch(a){await Ku(a)}}async function l8(t,e,r){const n=ct(t);try{const a=await function(s,u){const l=ct(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let c;return l.mutationQueue.lookupMutationBatch(o,u).next(f=>(Gt(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(o,f))).next(()=>l.mutationQueue.performConsistencyCheck(o)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(o,c,u)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,c)).next(()=>l.localDocuments.getDocuments(o,c))})}(n.localStore,e);a3(n,e,r),n3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Yc(n,a)}catch(a){await Ku(a)}}function n3(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function a3(t,e,r){const n=ct(t);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Vu[n.currentUser.toKey()]=a}}function gg(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||i3(t,n)})}function i3(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(ny(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),fy(t))}function NN(t,e,r){for(const n of r)n instanceof ZT?(t.Ru.addReference(n.key,e),c8(t,n)):n instanceof e3?(Ve(cy,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||i3(t,n.key)):rt(19791,{wu:n})}function c8(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ve(cy,"New document in limbo: "+r),t.Eu.add(n),fy(t))}function fy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Je(rr.fromString(e)),n=t.fu.next();t.Au.set(n,new Z9(r)),t.du=t.du.insert(r,n),WT(t.remoteStore,new Gi(Wa(gT(r.path)),n,"TargetPurposeLimboResolution",hh.ce))}}async function Yc(t,e,r){const n=ct(t),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((u,l)=>{s.push(n.pu(l,e,r).then(o=>{var c;if((o||r)&&n.isPrimaryClient){const f=o?!o.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(o){a.push(o);const f=ty.As(l.targetId,o);i.push(f)}}))}),await Promise.all(s),n.Pu.H_(a),await async function(l,o){const c=ct(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>_e.forEach(o,d=>_e.forEach(d.Es,m=>c.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>_e.forEach(d.ds,m=>c.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Ju(f))throw f;Ve(ry,"Failed to update sequence numbers: "+f)}for(const f of o){const d=f.targetId;if(!f.fromCache){const m=c.Ms.get(d),h=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(h);c.Ms=c.Ms.insert(d,v)}}}(n.localStore,i))}async function f8(t,e){const r=ct(t);if(!r.currentUser.isEqual(e)){Ve(cy,"User change. New user:",e.toKey());const n=await UT(r.localStore,e);r.currentUser=e,function(i,s){i.mu.forEach(u=>{u.forEach(l=>{l.reject(new ze(we.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Yc(r,n.Ls)}}function d8(t,e){const r=ct(t),n=r.Au.get(e);if(n&&n.hu)return St().add(n.key);{let a=St();const i=r.Iu.get(e);if(!i)return a;for(const s of i){const u=r.Tu.get(s);a=a.unionWith(u.view.nu)}return a}}function s3(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o8.bind(null,e),e.Pu.H_=Q9.bind(null,e.eventManager),e.Pu.yu=X9.bind(null,e.eventManager),e}function m8(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l8.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return h9(this.persistence,new f9,e.initialUser,this.serializer)}Cu(e){return new VT(ey.mi,this.serializer)}Du(e){return new w9}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class h8 extends xm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Gt(this.persistence.referenceDelegate instanceof gm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Kj(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new VT(n=>gm.mi(n,r),this.serializer)}}class yg{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wN(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=f8.bind(null,this.syncEngine),await U9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H9}()}createDatastore(e){const r=Nh(e.databaseInfo.databaseId),n=function(i){return new A9(i)}(e.databaseInfo);return function(i,s,u,l){return new M9(i,s,u,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,s,u){return new P9(n,a,i,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>wN(this.syncEngine,r,0),function(){return pN.v()?new pN:new N9}())}createSyncEngine(e,r){return function(a,i,s,u,l,o,c){const f=new e8(a,i,s,u,l,o);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=ct(a);Ve(oo,"RemoteStore shutting down."),i.Ea.add(5),await Jc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class v8{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Ve(gs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ve(gs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=uy(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(gs,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await UT(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _N(t,e){t.asyncQueue.verifyOperationInProgress();const r=await g8(t);Ve(gs,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>gN(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>gN(e.remoteStore,a)),t._onlineComponents=e}async function g8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(gs,"Using user provided OfflineComponentProvider");try{await Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Mu("Error using user provided cache. Falling back to memory cache: "+r),await Hp(t,new xm)}}else Ve(gs,"Using default OfflineComponentProvider"),await Hp(t,new h8(void 0));return t._offlineComponents}async function o3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(gs,"Using user provided OnlineComponentProvider"),await _N(t,t._uninitializedComponentsProvider._online)):(Ve(gs,"Using default OnlineComponentProvider"),await _N(t,new yg))),t._onlineComponents}function y8(t){return o3(t).then(e=>e.syncEngine)}async function x8(t){const e=await o3(t),r=e.eventManager;return r.onListen=t8.bind(null,e.syncEngine),r.onUnlisten=a8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=r8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=i8.bind(null,e.syncEngine),r}function b8(t,e,r={}){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,u,l,o){const c=new p8({next:d=>{c.Nu(),s.enqueueAndForget(()=>W9(i,f)),d.fromCache&&l.source==="server"?o.reject(new ze(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(d)},error:d=>o.reject(d)}),f=new K9(u,c,{includeMetadataChanges:!0,qa:!0});return G9(i,f)}(await x8(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firestore.googleapis.com",SN=!0;class AN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l3,this.ssl=SN}else this.host=e.host,this.ssl=e.ssl??SN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qj)throw new ze(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u3(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ze(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new w5;switch(n.type){case"firstParty":return new S5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=EN.get(r);n&&(Ve("ComponentProvider","Removing Datastore"),EN.delete(r),n.terminate())}(this),Promise.resolve()}}function w8(t,e,r,n={}){var o;t=Cc(t,Sh);const a=$0(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${r}`;a&&(Q6(`https://${u}`),Y6("Firestore",!0)),i.host!==l3&&i.host!==u&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:u,ssl:a,emulatorOptions:n};if(!um(l,s)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=mn.MOCK_USER;else{c=X6(n.mockUserToken,(o=t._app)==null?void 0:o.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new ze(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mn(d)}t._authCredentials=new N5(new YC(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Wr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}toJSON(){return{type:Wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Qc(r,Wr._jsonSchema))return new Wr(e,n||null,new Je(rr.fromString(r.referencePath)))}}Wr._jsonSchemaVersion="firestore/documentReference/1.0",Wr._jsonSchema={type:Cr("string",Wr._jsonSchemaVersion),referencePath:Cr("string")};class us extends bo{constructor(e,r,n){super(e,r,gT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new Je(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Ue(t,e,...r){if(t=Tu(t),ZC("collection","path",e),t instanceof Sh){const n=rr.fromString(e,...r);return $w(n),new us(t,null,n)}{if(!(t instanceof Wr||t instanceof us))throw new ze(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rr.fromString(e,...r));return $w(n),new us(t.firestore,null,n)}}function Tt(t,e,...r){if(t=Tu(t),arguments.length===1&&(e=V0.newId()),ZC("doc","path",e),t instanceof Sh){const n=rr.fromString(e,...r);return kw(n),new Wr(t,null,new Je(n))}{if(!(t instanceof Wr||t instanceof us))throw new ze(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rr.fromString(e,...r));return kw(n),new Wr(t.firestore,t instanceof us?t.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="AsyncQueue";class CN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HT(this,"async_queue_retry"),this._c=()=>{const n=qp();n&&Ve(DN,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=qp();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=qp();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ju(e))throw e;Ve(DN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,wi("INTERNAL UNHANDLED ERROR: ",TN(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=oy.createAndSchedule(this,e,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&rt(47125,{Pc:TN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function TN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ah extends Sh{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new CN,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CN(e),this._firestoreClient=void 0,await e}}}function N8(t,e){const r=typeof t=="object"?t:u5(),n=typeof t=="string"?t:dm,a=n5(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=G6("firestore");i&&w8(a,...i)}return a}function c3(t){if(t._terminated)throw new ze(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_8(t),t._firestoreClient}function _8(t){var n,a,i;const e=t._freezeSettings(),r=function(u,l,o,c){return new V5(u,l,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,u3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v8(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(u){const l=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(sn.fromBase64String(e))}catch(r){throw new ze(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ua(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ua._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qc(e,ua._jsonSchema))return ua.fromBase64String(e.bytes)}}ua._jsonSchemaVersion="firestore/bytes/1.0",ua._jsonSchema={type:Cr("string",ua._jsonSchemaVersion),bytes:Cr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ze(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ze(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ze(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ka._jsonSchemaVersion}}static fromJSON(e){if(Qc(e,Ka._jsonSchema))return new Ka(e.latitude,e.longitude)}}Ka._jsonSchemaVersion="firestore/geoPoint/1.0",Ka._jsonSchema={type:Cr("string",Ka._jsonSchemaVersion),latitude:Cr("number"),longitude:Cr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qc(e,Ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Ja(e.vectorValues);throw new ze(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ja._jsonSchemaVersion="firestore/vectorValue/1.0",Ja._jsonSchema={type:Cr("string",Ja._jsonSchemaVersion),vectorValues:Cr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=/^__.*__$/;class S8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xc(e,this.data,r,this.fieldTransforms)}}function f3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ac:t})}}class hy{constructor(e,r,n,a,i,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(f3(this.Ac)&&E8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class A8{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Nh(e)}Cc(e,r,n,a=!1){return new hy({Ac:e,methodName:r,Dc:n,path:Zr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d3(t){const e=t._freezeSettings(),r=Nh(t._databaseId);return new A8(t._databaseId,!!e.ignoreUndefinedProperties,r)}function D8(t,e,r,n,a,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,r,a);p3("Data must be an object, but it was:",s,n);const u=m3(n,s);let l,o;if(i.merge)l=new Sa(s.fieldMask),o=s.fieldTransforms;else if(i.mergeFields){const c=[];for(const f of i.mergeFields){const d=T8(e,f,r);if(!s.contains(d))throw new ze(we.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);I8(c,d)||c.push(d)}l=new Sa(c),o=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,o=s.fieldTransforms;return new S8(new oa(u),l,o)}class py extends my{_toFieldTransform(e){return new hj(e.path,new Rc)}isEqual(e){return e instanceof py}}function C8(t,e,r,n=!1){return vy(r,t.Cc(n?4:3,e))}function vy(t,e){if(h3(t=Tu(t)))return p3("Unsupported field value:",e,t),m3(t,e);if(t instanceof my)return function(n,a){if(!f3(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const u of n){let l=vy(u,a.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Tu(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fj(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=sr.fromDate(n);return{timestampValue:vm(a.serializer,i)}}if(n instanceof sr){const i=new sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vm(a.serializer,i)}}if(n instanceof Ka)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:RT(a.serializer,n._byteString)};if(n instanceof Wr){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y0(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Ja)return function(s,u){return{mapValue:{fields:{[uT]:{stringValue:lT},[mm]:{arrayValue:{values:s.toArray().map(o=>{if(typeof o!="number")throw u.Sc("VectorValues must only contain numeric values.");return Q0(u.serializer,o)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${mh(n)}`)}(t,e)}function m3(t,e){const r={};return rT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,(n,a)=>{const i=vy(a,e.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function h3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sr||t instanceof Ka||t instanceof ua||t instanceof Wr||t instanceof my||t instanceof Ja)}function p3(t,e,r){if(!h3(r)||!eT(r)){const n=mh(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function T8(t,e,r){if((e=Tu(e))instanceof dy)return e._internalPath;if(typeof e=="string")return v3(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,r)}const M8=new RegExp("[~\\*/\\[\\]]");function v3(t,e,r){if(e.search(M8)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new dy(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function bm(t,e,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new ze(we.INVALID_ARGUMENT,u+t+l)}function I8(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class P8 extends g3{data(){return super.data()}}function gy(t,e){return typeof e=="string"?v3(t,e):e instanceof dy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ze(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class y3 extends yy{}function Ft(t,e,...r){let n=[];e instanceof yy&&n.push(e),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof by).length,u=i.filter(l=>l instanceof xy).length;if(s>1||s>0&&u>0)throw new ze(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class xy extends y3{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new xy(e,r,n)}_apply(e){const r=this._parse(e);return x3(e._query,r),new bo(e.firestore,e.converter,ug(e._query,r))}_parse(e){const r=d3(e.firestore);return function(i,s,u,l,o,c,f){let d;if(o.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ze(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){IN(f,c);const h=[];for(const v of f)h.push(MN(l,i,v));d={arrayValue:{values:h}}}else d=MN(l,i,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||IN(f,c),d=C8(u,s,f,c==="in"||c==="not-in");return Dr.create(o,c,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class by extends yy{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new by(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Ma.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let s=a;const u=i.getFlattenedFilters();for(const l of u)x3(s,l),s=ug(s,l)}(e._query,r),new bo(e.firestore,e.converter,ug(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends y3{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new wy(e,r)}_apply(e){const r=function(a,i,s){if(a.startAt!==null)throw new ze(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ze(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(i,s)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Yu(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function Rt(t,e="asc"){const r=e,n=gy("orderBy",t);return wy._create(n,r)}function MN(t,e,r){if(typeof(r=Tu(r))=="string"){if(r==="")throw new ze(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yT(e)&&r.indexOf("/")!==-1)throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(rr.fromString(r));if(!Je.isDocumentKey(n))throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Ww(t,new Je(n))}if(r instanceof Wr)return Ww(t,r._key);throw new ze(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(r)}.`)}function IN(t,e){if(!Array.isArray(t)||t.length===0)throw new ze(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x3(t,e){const r=function(a,i){for(const s of a)for(const u of s.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ze(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class R8{convertValue(e,r="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return vo(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var n,a,i;const r=(i=(a=(n=e.fields)==null?void 0:n[mm].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>wr(s.doubleValue));return new Ja(r)}convertGeoPoint(e){return new Ka(wr(e.latitude),wr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vh(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){const r=ms(e);return new sr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=rr.fromString(e);Gt(LT(n),9688,{name:e});const a=new Ic(n.get(1),n.get(3)),i=new Je(n.popFirst(5));return a.isEqual(r)||wi(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class Xf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends g3{constructor(e,r,n,a,i,s){super(e,r,n,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=gu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}gu._jsonSchemaVersion="firestore/documentSnapshot/1.0",gu._jsonSchema={type:Cr("string",gu._jsonSchemaVersion),bundleSource:Cr("string","DocumentSnapshot"),bundleName:Cr("string"),bundle:Cr("string")};class Fd extends gu{data(e={}){return super.data(e)}}class yu{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new Xf(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Fd(this._firestore,this._userDataWriter,n.key,n,new Xf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ze(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(u=>{const l=new Fd(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Xf(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const l=new Fd(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Xf(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let o=-1,c=-1;return u.type!==0&&(o=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),c=s.indexOf(u.doc.key)),{type:B8(u.type),doc:l,oldIndex:o,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}yu._jsonSchemaVersion="firestore/querySnapshot/1.0",yu._jsonSchema={type:Cr("string",yu._jsonSchemaVersion),bundleSource:Cr("string","QuerySnapshot"),bundleName:Cr("string"),bundle:Cr("string")};class j8 extends R8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,r)}}function Ot(t){t=Cc(t,bo);const e=Cc(t.firestore,Ah),r=c3(e),n=new j8(e);return F8(t._query),b8(r,t._query).then(a=>new yu(e,n,t,a))}function Bt(t){return b3(Cc(t.firestore,Ah),[new X0(t._key,Qa.none())])}function jt(t,e){const r=Cc(t.firestore,Ah),n=Tt(t),a=O8(t.converter,e);return b3(r,[D8(d3(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Qa.exists(!1))]).then(()=>n)}function b3(t,e){return function(n,a){const i=new os;return n.asyncQueue.enqueueAndForget(async()=>s8(await y8(n),a,i)),i.promise}(c3(t),e)}function kt(){return new py("serverTimestamp")}(function(e,r=!0){(function(a){Xu=a})(o5),cm(new Ac("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),u=new Ah(new _5(n.getProvider("auth-internal")),new A5(s,n.getProvider("app-check-internal")),function(o,c){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ze(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(o.options.projectId,c)}(s,a),s);return i={useFetchStreams:r,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),pu(Rw,Ow,e),pu(Rw,Ow,"esm2020")})();const k8={apiKey:"AIzaSyBUabFVbZsdvJxSNLz9E6uooOHmHAYztMQ",authDomain:"numerical-web-fe12a.firebaseapp.com",projectId:"numerical-web-fe12a",storageBucket:"numerical-web-fe12a.appspot.com",messagingSenderId:"450601861029",appId:"1:450601861029:web:8ad42bf62f220abb7a324c"},$8=VC(k8),Ie=N8($8),Ny="problems_bisection";async function L8(){const t=Ft(Ue(Ie,Ny),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function z8(t){return jt(Ue(Ie,Ny),{...t,method:"bisection",createdAt:kt()})}async function V8(t){return Bt(Tt(Ie,Ny,t))}const U8=Object.freeze(Object.defineProperty({__proto__:null,deleteBisectionProblem:V8,getBisectionProblems:L8,saveBisectionProblem:z8},Symbol.toStringTag,{value:"Module"}));function $t(t){const[e,r]=W.useState([]),[n,a]=W.useState(new Set),i=W.useCallback(async()=>{if(!t||typeof t.get!="function"){const c=(t==null?void 0:t.getBisectionProblems)||(t==null?void 0:t.getFalsePositionProblems)||(t==null?void 0:t.getProblems)||(t==null?void 0:t.get);if(!c)return;const f=await c();r(f);return}const o=await t.get();r(o)},[t]),s=W.useCallback(async o=>{if(!t)throw new Error("service required");const c=t.saveBisectionProblem||t.saveFalsePositionProblem||t.save||t.add;if(!c)throw new Error("save method not found on service");await c(o),await i()},[t,i]),u=W.useCallback(async o=>{if(!t)throw new Error("service required");const c=t.deleteBisectionProblem||t.deleteFalsePositionProblem||t.delete||t.remove;if(!c)throw new Error("delete method not found on service");await c(o),await i()},[t,i]),l=W.useCallback((o,c=480)=>{a(f=>new Set(f).add(o)),setTimeout(async()=>{try{await u(o)}finally{a(f=>{const d=new Set(f);return d.delete(o),d})}},c)},[u]);return{problems:e,removingIds:n,refresh:i,saveProblem:s,deleteProblem:l}}function je(t){return t===null||Number.isNaN(t)?"-":isFinite(t)?Number(t).toPrecision(8).replace(new RegExp("(?:\\.0+$)|(?:(?<=\\.[0-9]*[1-9])0+$)"),""):String(t)}function wm(t){if(!t||!t.trim())return null;let e=t.replace(/\^/g,"**");e=e.replace(/\bln\s*\(/gi,"log("),e=e.replace(/\bpi\b/gi,"PI"),e=e.replace(/\be\b/gi,"E");try{return new Function("x","with(Math){ return ("+e+"); }")}catch{return null}}function q8(t,e,r,n=1e-6,a=50){try{let i=t(e),s=t(r);if(!isFinite(i)||!isFinite(s))return{error:"f(x) ไม่สามารถประเมินค่าได้",iterations:[],converged:!1};if(i*s>0)return{error:"f(a) และ f(b) ต้องต่างเครื่องหมาย",iterations:[],converged:!1};const u=[];let l=null;for(let o=0;o<=a;o++){const c=(e+r)/2,f=t(c);if(!isFinite(f))return{error:"f(x1) คำนวณไม่ได้",iterations:u,converged:!1};let d=null;if(l!==null){const m=Math.abs(c)>1e-12?Math.abs(c):1;d=Math.abs(c-l)/m}if(u.push({iter:o,xl:e,xr:r,x1:c,fx1:f,error:d}),Math.abs(f)===0||d!==null&&d<=n)return{root:c,iterations:u,converged:!0};i*f<0?(r=c,s=f):(e=c,i=f),l=c}return{root:(e+r)/2,iterations:u,converged:!1}}catch(i){return{error:String(i),iterations:[],converged:!1}}}function H8(t,e,r=-5,n=5,a=[],i={}){if(!t)return;const{width:s=800,height:u=320,bg:l="#061022",curveColor:o="#8ab4ff",axesColor:c="rgba(255,255,255,0.08)",pointColor:f="#f97316",lastPointColor:d="#fb923c"}=i,m=t.getContext("2d"),h=t.width=s,v=t.height=u;m.clearRect(0,0,h,v),m.fillStyle=l,m.fillRect(0,0,h,v);const T=e||(F=>F),S=(n-r)*.2||1,C=r-S,N=n+S,M=500;let y=[],x=[],w=1/0,g=-1/0;for(let F=0;F<M;F++){const B=C+(N-C)*F/(M-1);let P;try{P=T(B)}catch{P=NaN}y.push(B),x.push(P),isFinite(P)&&(P<w&&(w=P),P>g&&(g=P))}w===1/0&&(w=-1,g=1);const _=(g-w)*.2||1;w-=_,g+=_;const E=F=>(F-C)/(N-C)*h,b=F=>v-(F-w)/(g-w)*v;if(m.strokeStyle=c,w<0&&g>0){const F=b(0);m.beginPath(),m.moveTo(0,F),m.lineTo(h,F),m.stroke()}if(C<0&&N>0){const F=E(0);m.beginPath(),m.moveTo(F,0),m.lineTo(F,v),m.stroke()}m.beginPath(),m.lineWidth=2,m.strokeStyle=o;let A=!1;for(let F=0;F<M;F++){const B=y[F],P=x[F];if(!isFinite(P)){A=!1;continue}const L=E(B),$=b(P);A?m.lineTo(L,$):(m.moveTo(L,$),A=!0)}m.stroke(),a.forEach(F=>{const B=E(F.x1),P=b(F.fx1);m.beginPath(),m.arc(B,P,3,0,2*Math.PI),m.fillStyle=f,m.fill()});const I=(F,B,P)=>{const L=E(F);m.beginPath(),m.moveTo(L,0),m.lineTo(L,v),m.strokeStyle=B,m.stroke(),m.fillStyle=B,m.font="12px sans-serif",m.fillText(P+"="+je(F),L+6,18)};if(I(r,"#22c55e","XL"),I(n,"#ef4444","XR"),a.length){const F=a[a.length-1],B=E(F.x1),P=b(F.fx1);m.beginPath(),m.arc(B,P,6,0,2*Math.PI),m.fillStyle=d,m.fill()}}function w3({func:t,xl:e=-5,xr:r=5,iterations:n=[],width:a=800,height:i=320,className:s=""}){const u=W.useRef(null);return W.useEffect(()=>{const l=u.current;H8(l,t,e,r,n,{width:a,height:i})},[t,e,r,n,a,i]),p.jsx("canvas",{ref:u,width:a,height:i,className:s})}function N3({iterations:t=[]}){return!t||t.length===0?null:p.jsx("div",{className:"bg-slate-800 rounded-lg p-4 shadow mt-6 overflow-auto",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700 text-gray-200",children:[p.jsx("th",{className:"p-2 text-right",children:"iter"}),p.jsx("th",{className:"p-2 text-right",children:"xl"}),p.jsx("th",{className:"p-2 text-right",children:"xr"}),p.jsx("th",{className:"p-2 text-right",children:"x1"}),p.jsx("th",{className:"p-2 text-right",children:"f(x1)"}),p.jsx("th",{className:"p-2 text-right",children:"error"})]})}),p.jsx("tbody",{children:t.map(e=>p.jsxs("tr",{className:"border-b border-slate-700 text-gray-100",children:[p.jsx("td",{className:"p-2 text-right",children:e.iter}),p.jsx("td",{className:"p-2 text-right",children:je(e.xl)}),p.jsx("td",{className:"p-2 text-right",children:je(e.xr)}),p.jsx("td",{className:"p-2 text-right",children:je(e.x1)}),p.jsx("td",{className:"p-2 text-right",children:je(e.fx1)}),p.jsx("td",{className:"p-2 text-right",children:e.error===null?"-":je(e.error)})]},e.iter))})]})})}function Ut({problems:t=[],onLoad:e=()=>{},onDelete:r=()=>{},removingIds:n=new Set}){return!t||t.length===0?null:p.jsxs("div",{className:"mt-2",children:[p.jsx("h2",{className:"text-sm text-gray-400 mb-2",children:"โจทย์ที่บันทึกไว้:"}),p.jsx("ul",{className:"text-xs text-gray-300 bg-slate-900 rounded p-2 max-h-48 overflow-auto",children:t.map(a=>p.jsxs("li",{className:`flex items-center justify-between gap-2 border-b border-slate-700 py-1 ${n.has(a.id)?"fade-out":""}`,children:[p.jsx("span",{className:"truncate",children:a.expr}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>e(a),className:"text-slate-900 btn-primary px-2 py-0.5 rounded",children:"โหลด"}),p.jsx("button",{onClick:()=>r(a),className:"text-slate-900 btn-danger px-2 py-0.5 rounded glow-btn",children:"ลบ"})]})]},a.id))})]})}function Mt({title:t,subtitle:e}){return p.jsxs("header",{className:"flex items-center justify-between gap-4 mb-4 fade-in",children:[p.jsx("h1",{className:"text-xl font-bold text-cyan-400",children:t}),e&&p.jsx("div",{className:"text-sm text-gray-400",children:e})]})}function G8(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState(""),[c,f]=W.useState([]),[d,m]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[h,v]=W.useState("-"),[T,S]=W.useState("-"),{problems:C,removingIds:N,refresh:M,saveProblem:y,deleteProblem:x}=$t(U8);W.useEffect(()=>{M().catch(console.error)},[M]);const w=async()=>{if(!t||!r||!a||!s||!l){alert("กรอกให้ครบก่อนบันทึกนะ");return}try{await y({expr:t,xl:r,xr:a,tol:s,maxIter:l}),alert("บันทึกแล้ว!")}catch(A){console.error("บันทึกโจทย์ผิดพลาด:",A),alert("บันทึกไม่สำเร็จ ลองเช็ค Firestore rules/console")}},g=A=>{e(A.expr??""),n(A.xl??""),i(A.xr??""),u(A.tol??""),o(A.maxIter??"")},_=A=>{if(confirm(`ลบโจทย์นี้ไหม?
${A.expr}`))try{x(A.id)}catch(I){console.error("ลบโจทย์ผิดพลาด:",I),alert("ลบไม่สำเร็จ")}},E=()=>{const A=wm(t);if(!A){m("สถานะ: สมการไม่ถูกต้อง");return}const I=parseFloat(r),F=parseFloat(a),B=parseFloat(s),P=parseInt(l,10);if(isNaN(I)||isNaN(F)){m("สถานะ: XL/XR ไม่ถูกต้อง");return}if(I>=F){m("สถานะ: ต้องมี XL < XR");return}if(!isFinite(B)||B<=0){m("สถานะ: Error (tol) ต้องเป็นจำนวนบวก เช่น 1e-6");return}if(!Number.isInteger(P)||P<=0){m("สถานะ: Max Iteration ต้องเป็นจำนวนเต็มบวก เช่น 50");return}const L=q8(A,I,F,B,P);if(L.error){m("สถานะ: "+L.error);return}f(L.iterations),m("สถานะ: เสร็จสิ้น "+(L.converged?"(converged)":"(ไม่ converged)")),S(Math.max(0,L.iterations.length-1)),v(je(L.root))},b=()=>{e(""),n(""),i(""),u(""),o(""),f([]),m("สถานะ: รีเซ็ตแล้ว"),S("-"),v("-")};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Bisection Method",subtitle:"ตาราง + กราฟ แสดงการทำงาน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"สมการ f(x)"}),p.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value),placeholder:"เช่น x^3 - x - 2 หรือ sin(x)",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า XL"}),p.jsx("input",{type:"number",value:r,onChange:A=>n(A.target.value),placeholder:"เช่น 1",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า XR"}),p.jsx("input",{type:"number",value:a,onChange:A=>i(A.target.value),placeholder:"เช่น 2",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error (เช่น 1e-6)"}),p.jsx("input",{type:"text",value:s,onChange:A=>u(A.target.value),placeholder:"เช่น 1e-6",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:l,onChange:A=>o(A.target.value),placeholder:"เช่น 50",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsx("button",{onClick:E,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:b,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:w,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsxs("div",{className:"text-sm mb-2",children:[p.jsx("div",{children:d}),p.jsxs("div",{children:["Iterations: ",T]}),p.jsxs("div",{children:["Root: ",h]})]}),C.length>0&&p.jsxs("div",{className:"mt-2",children:[p.jsx("h2",{className:"text-sm text-gray-400 mb-2",children:"โจทย์ที่บันทึกไว้:"}),p.jsx("ul",{className:"text-xs text-gray-300 bg-slate-900 rounded p-2 max-h-48 overflow-auto",children:C.map(A=>p.jsxs("li",{className:`flex items-center justify-between gap-2 border-b border-slate-700 py-1 ${N.has(A.id)?"fade-out":""}`,children:[p.jsx("span",{className:"truncate",children:A.expr}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>g(A),className:"text-slate-900 btn-primary px-2 py-0.5 rounded",children:"โหลด"}),p.jsx("button",{onClick:()=>_(A),className:"text-slate-900 btn-danger px-2 py-0.5 rounded glow-btn",children:"ลบ"})]})]},A.id))})]})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"กราฟฟังก์ชัน"}),p.jsx("div",{className:"w-full h-72 bg-slate-900 rounded",children:p.jsx(w3,{func:wm(t)||(A=>A),xl:parseFloat(r)||-5,xr:parseFloat(a)||5,iterations:c,className:"w-full h-72 rounded"})}),p.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"เขียว = XL, แดง = XR, ส้ม = x1 ทุก iteration (วงใหญ่ = x1 สุดท้าย)"})]})]}),p.jsx(N3,{iterations:c}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const _y="problems_falseposition";async function _3(){const t=Ft(Ue(Ie,_y),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function E3(t){return jt(Ue(Ie,_y),{...t,method:"falseposition",createdAt:kt()})}async function S3(t){return Bt(Tt(Ie,_y,t))}const W8={getFalsePositionProblems:_3,saveFalsePositionProblem:E3,deleteFalsePositionProblem:S3},Q8=Object.freeze(Object.defineProperty({__proto__:null,default:W8,deleteFalsePositionProblem:S3,getFalsePositionProblems:_3,saveFalsePositionProblem:E3},Symbol.toStringTag,{value:"Module"}));function X8(t,e,r,n=1e-6,a=50){try{let i=t(e),s=t(r);if(!isFinite(i)||!isFinite(s))return{error:"f(x) ไม่สามารถประเมินค่าได้",iterations:[],converged:!1};if(i*s>0)return{error:"f(a) และ f(b) ต้องต่างเครื่องหมาย",iterations:[],converged:!1};const u=[];let l=null,o=null;for(let c=0;c<=a;c++){l=(e*s-r*i)/(s-i);const f=t(l);if(!isFinite(f))return{error:"f(x1) คำนวณไม่ได้",iterations:u,converged:!1};const d=o===null?null:Math.abs((l-o)/(Math.abs(l)>1e-12?Math.abs(l):1));if(u.push({iter:c,xl:e,xr:r,x1:l,fx1:f,error:d}),Math.abs(f)===0||d!==null&&d<=n)return{root:l,iterations:u,converged:!0};i*f<0?(r=l,s=f):(e=l,i=f),o=l}return{root:l,iterations:u,converged:!1}}catch(i){return{error:String(i),iterations:[],converged:!1}}}function K8(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState(""),[c,f]=W.useState([]),[d,m]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[h,v]=W.useState("-"),[T,S]=W.useState("-"),{problems:C,removingIds:N,refresh:M,saveProblem:y,deleteProblem:x}=$t(Q8);W.useEffect(()=>{M().catch(console.error)},[M]);const w=async()=>{if(!t||!r||!a||!s||!l){alert("กรอกให้ครบก่อนบันทึกนะ");return}try{await y({expr:t,xl:r,xr:a,tol:s,maxIter:l}),alert("บันทึกแล้ว!")}catch(A){console.error("บันทึกโจทย์ผิดพลาด:",A),alert("บันทึกไม่สำเร็จ ลองเช็ค Firestore rules/console")}},g=A=>{e(A.expr??""),n(A.xl??""),i(A.xr??""),u(A.tol??""),o(A.maxIter??"")},_=A=>{if(confirm(`ลบโจทย์นี้ไหม?
${A.expr}`))try{x(A.id)}catch(I){console.error("ลบโจทย์ผิดพลาด:",I),alert("ลบไม่สำเร็จ")}},E=()=>{const A=wm(t);if(!A){m("สถานะ: สมการไม่ถูกต้อง");return}const I=parseFloat(r),F=parseFloat(a),B=parseFloat(s),P=parseInt(l,10);if(isNaN(I)||isNaN(F)){m("สถานะ: XL/XR ไม่ถูกต้อง");return}if(I>=F){m("สถานะ: ต้องมี XL < XR");return}if(!isFinite(B)||B<=0){m("สถานะ: Error (tol) ต้องเป็นจำนวนบวก เช่น 1e-6");return}if(!Number.isInteger(P)||P<=0){m("สถานะ: Max Iteration ต้องเป็นจำนวนเต็มบวก เช่น 50");return}const L=X8(A,I,F,B,P);if(L.error){m("สถานะ: "+L.error);return}f(L.iterations),m("สถานะ: เสร็จสิ้น "+(L.converged?"(converged)":"(ไม่ converged)")),S(Math.max(0,L.iterations.length-1)),v(je(L.root))},b=()=>{e(""),n(""),i(""),u(""),o(""),f([]),m("สถานะ: รีเซ็ตแล้ว"),S("-"),v("-")};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"False Position Method",subtitle:"ตาราง + กราฟ แสดงการทำงาน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"สมการ f(x)"}),p.jsx("input",{type:"text",value:t,onChange:A=>e(A.target.value),placeholder:"เช่น x^3 - x - 2 หรือ sin(x)",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า XL"}),p.jsx("input",{type:"number",value:r,onChange:A=>n(A.target.value),placeholder:"เช่น 1",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า XR"}),p.jsx("input",{type:"number",value:a,onChange:A=>i(A.target.value),placeholder:"เช่น 2",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error (เช่น 1e-6)"}),p.jsx("input",{type:"text",value:s,onChange:A=>u(A.target.value),placeholder:"เช่น 1e-6",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:l,onChange:A=>o(A.target.value),placeholder:"เช่น 50",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsx("button",{onClick:E,className:"btn-primary glow-btn flex-1 py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:b,className:"btn-danger flex-1 border border-[#30363d] py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:w,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์นี้"}),p.jsxs("div",{className:"text-sm mb-2",children:[p.jsx("div",{children:d}),p.jsxs("div",{children:["Iterations: ",T]}),p.jsxs("div",{children:["Root: ",h]})]}),C.length>0&&p.jsxs("div",{className:"mt-2",children:[p.jsx("h2",{className:"text-sm text-gray-400 mb-2",children:"โจทย์ที่บันทึกไว้:"}),p.jsx("ul",{className:"text-xs text-gray-300 bg-slate-900 rounded p-2 max-h-48 overflow-auto border border-slate-700",children:C.map(A=>p.jsxs("li",{className:`flex items-center justify-between gap-2 border-b border-[#30363d] py-1 ${N.has(A.id)?"fade-out":""}`,children:[p.jsx("span",{className:"truncate",children:A.expr}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>g(A),className:"text-slate-900 btn-primary px-2 py-0.5 rounded",children:"โหลด"}),p.jsx("button",{onClick:()=>_(A),className:"text-slate-900 btn-danger px-2 py-0.5 rounded glow-btn",children:"ลบ"})]})]},A.id))})]})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"กราฟฟังก์ชัน"}),p.jsx("div",{className:"w-full h-72 bg-slate-900 rounded",children:p.jsx(w3,{func:wm(t)||(A=>A),xl:parseFloat(r)||-5,xr:parseFloat(a)||5,iterations:c,className:"w-full h-72 rounded"})}),p.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"เขียว = XL, แดง = XR, ส้ม = X1 ทุก iteration (วงใหญ่ = X1 สุดท้าย)"})]})]}),p.jsx(N3,{iterations:c}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}function J8(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState([]),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState("-"),[h,v]=W.useState("-"),[T,S]=W.useState(null),[C,N]=W.useState("");function M(b){if(!b||!b.trim())return null;let A=b.replace(/\^/g,"**");A=A.replace(/\bln\s*\(/gi,"log("),A=A.replace(/\bpi\b/gi,"PI"),A=A.replace(/\be\b/gi,"E");try{return new Function("x","with(Math){ return ("+A+"); }")}catch{return null}}function y(b){return b===null?"-":isFinite(b)?Number(b).toPrecision(8).replace(new RegExp("(?:\\.0+$)|(?:(?<=\\.[0-9]*[1-9])0+$)"),""):String(b)}function x(b,A){const I=Math.cbrt(Number.EPSILON)*(Math.abs(A)+1),F=b(A+I),B=b(A-I);return(F-B)/(2*I)}function w(b,A){try{const I=x(b,A);return!isFinite(I)||I===0?.5:1/Math.max(1,Math.abs(I))}catch{return .5}}function g(b,A,I,F,B){let P=[],L=A;P.push({iter:0,x:L,error:null});for(let $=1;$<=F;$++){const k=L-B*b(L),V=Math.abs((k-L)/k);if(P.push({iter:$,x:k,error:V}),!isFinite(k))return{error:"ค่า x ไม่เป็นจำนวนจำกัด (อาจ Diverge)"};if(V<=I)return{root:k,iterations:P,converged:!0,lambda:B};L=k}return{root:P[P.length-1].x,iterations:P,converged:!1,lambda:B}}W.useEffect(()=>{const b=M(t),A=parseFloat(r);if(!b||!isFinite(A)){S(null),N("");return}const I=w(b,A);S(I);const F=t.replace(/\s+/g," ").trim();N(`f2(x) = x - (${I.toPrecision(6)}) * [ ${F||"f(x)"} ]`)},[t,r]);const _=()=>{const b=M(t);if(!b){f("สถานะ: f(x) ไม่ถูกต้อง");return}const A=parseFloat(r),I=parseFloat(a),F=parseInt(s,10);if(!isFinite(A)){f("สถานะ: ค่าเริ่มต้น x0 ไม่ถูกต้อง");return}if(!isFinite(I)||I<=0){f("สถานะ: Error (tol) ต้องเป็นจำนวนบวก เช่น 1e-6");return}if(!Number.isInteger(F)||F<=0){f("สถานะ: Max Iteration ต้องเป็นจำนวนเต็มบวก เช่น 50");return}const B=w(b,A),P=g(b,A,I,F,B);if(P.error){f("สถานะ: "+P.error),o([]),v("-"),m("-");return}o(P.iterations),f("สถานะ: เสร็จสิ้น "+(P.converged?"(converged)":"(ไม่ converged)")),v(P.iterations.length),m(y(P.root)),S(P.lambda);const L=t.replace(/\s+/g," ").trim();N(`f2(x) = x - (${P.lambda.toPrecision(6)}) * [ ${L||"f(x)"} ]`)},E=()=>{e(""),n(""),i(""),u(""),o([]),f("สถานะ: รีเซ็ตแล้ว"),v("-"),m("-"),S(null),N("")};return p.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[p.jsx(Mt,{title:"One-Point Iteration",subtitle:"แปลง f(x) → f2(x) อัตโนมัติ"}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"f(x)"}),p.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value),placeholder:"เช่น x^3 + x - 1,  sin(x) - x/2,  ln(x) - 1",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าเริ่มต้น x0"}),p.jsx("input",{type:"number",value:r,onChange:b=>n(b.target.value),placeholder:"เช่น 0.5",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error"}),p.jsx("input",{type:"text",value:a,onChange:b=>i(b.target.value),placeholder:"เช่น 1e-6",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:s,onChange:b=>u(b.target.value),placeholder:"เช่น 50",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"rounded-md bg-slate-900 border border-slate-700 p-3 text-sm text-gray-300 mb-4",children:[p.jsx("div",{className:"font-semibold text-cyan-300 mb-1",children:"f2(x) ที่ใช้ในการคำนวณ"}),p.jsx("div",{className:"break-words",children:C||"— (กรอก f(x) และ x0 เพื่อดู f2(x))"}),T!==null&&p.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["λ (อัตโนมัติ) = ",y(T)]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsx("button",{onClick:_,className:"flex-1 bg-cyan-500 hover:bg-cyan-400 text-slate-900 font-semibold py-2 rounded",children:"คำนวณ"}),p.jsx("button",{onClick:E,className:"flex-1 border border-slate-600 text-gray-400 py-2 rounded hover:bg-slate-700",children:"รีเซ็ต"})]}),p.jsxs("div",{className:"text-sm mb-3",children:[p.jsx("div",{children:c}),p.jsxs("div",{children:["Iterations: ",h]}),p.jsxs("div",{children:["Root: ",d]})]}),l.length>0&&p.jsx("div",{className:"overflow-auto max-h-64 mt-3",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700 text-gray-400",children:[p.jsx("th",{className:"p-2 text-right",children:"iter"}),p.jsx("th",{className:"p-2 text-right",children:"x"}),p.jsx("th",{className:"p-2 text-right",children:"error"})]})}),p.jsx("tbody",{children:l.map(b=>p.jsxs("tr",{className:"border-b border-slate-700",children:[p.jsx("td",{className:"p-2 text-right",children:b.iter}),p.jsx("td",{className:"p-2 text-right",children:y(b.x)}),p.jsx("td",{className:"p-2 text-right",children:b.error===null?"-":y(b.error)})]},b.iter))})]})}),p.jsxs("div",{className:"text-xs text-gray-400 mt-4",children:[p.jsx("div",{children:"หมายเหตุ: ใช้หน่วยเรเดียนสำหรับ sin/cos/tan; เขียนคูณให้ชัด เช่น 2*x (ไม่ใช่ 2x)"}),p.jsx("div",{children:"ตัวอย่าง f(x): x^3 + x - 1,  e^(-x) - x,  ln(x) - 1,  sin(x) - x/2"})]})]})]})}const Ey="problems_taylor";async function A3(){const t=Ft(Ue(Ie,Ey),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function D3(t){return jt(Ue(Ie,Ey),{...t,method:"taylor",createdAt:kt()})}async function Sy(t){return Bt(Tt(Ie,Ey,t))}const Y8=A3,Z8=D3,ek=Sy,tk=Sy,rk=Object.freeze(Object.defineProperty({__proto__:null,del:tk,deleteTaylorProblem:Sy,getProblems:Y8,getTaylorProblems:A3,remove:ek,save:Z8,saveTaylorProblem:D3},Symbol.toStringTag,{value:"Module"}));function Nr(){return Nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nr.apply(null,arguments)}var C3={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function En(t,e){if(Nm(t,e))return t[e];throw typeof t[e]=="function"&&Ay(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Bu(t,e,r){if(Nm(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function Nm(t,e){return!ak(t)&&!Array.isArray(t)?!1:He(ik,e)?!0:!(e in Object.prototype||e in Function.prototype)}function nk(t,e){if(!Ay(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function Ay(t,e){return t==null||typeof t[e]!="function"||He(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:He(sk,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ak(t){return typeof t=="object"&&t&&t.constructor===Object}var ik={length:!0,name:!0},sk={toString:!0,valueOf:!0,toLocaleString:!0};class Dh{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return En(this.wrappedObject,e)}set(e,r){return Bu(this.wrappedObject,e,r),this}has(e){return Nm(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return M3(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){Nm(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class T3{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return M3(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function M3(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function jc(){return new Map}function xu(t){if(!t)return jc();if(F3(t))return t;if(Th(t))return new Dh(t);throw new Error("createMap can create maps from objects or Maps")}function ok(t){if(t instanceof Dh)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Bu(e,r,n)}return e}function Xe(t){return typeof t=="number"}function ut(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function ic(t){return typeof t=="bigint"}function hi(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Zc(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Gn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function yr(t){return typeof t=="string"}var Wt=Array.isArray;function Ye(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Kn(t){return Array.isArray(t)||Ye(t)}function _m(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ks(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Dy(t){return t&&t.constructor.prototype.isRange===!0||!1}function Ch(t){return t&&t.constructor.prototype.isIndex===!0||!1}function uk(t){return typeof t=="boolean"}function lk(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function I3(t){return t&&t.constructor.prototype.isHelp===!0||!1}function P3(t){return typeof t=="function"}function ck(t){return t instanceof Date}function fk(t){return t instanceof RegExp}function Th(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!hi(t)&&!Zc(t))}function F3(t){return t?t instanceof Map||t instanceof Dh||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function dk(t){return t===null}function mk(t){return t===void 0}function uo(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function aa(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function hk(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function pk(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function vk(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Nt(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function xg(t){return Nt(t)||br(t)&&t.args.length===1&&Nt(t.args[0])&&"-+~".includes(t.op)}function ef(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function ys(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function el(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ht(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Mh(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function br(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function _i(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function gk(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function yk(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qr(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function R3(t){return t&&t.constructor.prototype.isChain===!0||!1}function Xt(t){var e=typeof t;return e==="object"?t===null?"null":ut(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function nt(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return nt(r)});if(t instanceof Date)return new Date(t.valueOf());if(ut(t))return t;if(Th(t))return xk(t,nt);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function xk(t,e){var r={};for(var n in t)He(t,n)&&(r[n]=e(t[n]));return r}function O3(t,e){for(var r in e)He(e,r)&&(t[r]=e[r]);return t}function Ei(t,e){var r,n,a;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;n++)if(!Ei(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ei(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function bk(t,e,r){var n=!0,a;Object.defineProperty(t,e,{get:function(){return n&&(a=r(),n=!1),a},set:function(s){a=s,n=!1},configurable:!0,enumerable:!0})}function He(t,e){return t&&Object.hasOwnProperty.call(t,e)}function wk(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=t[a];i!==void 0&&(r[a]=i)}return r}var Nk=["Matrix","Array"],_k=["number","BigNumber","bigint","Fraction"],be=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(C3)};Nr(be,C3,{MATRIX_OPTIONS:Nk,NUMBER_OPTIONS:_k});function PN(){return!0}function ta(){return!1}function ko(){}const FN="Argument is not a typed-function.";function B3(){function t(q){return typeof q=="object"&&q!==null&&q.constructor===Object}const e=[{name:"number",test:function(q){return typeof q=="number"}},{name:"string",test:function(q){return typeof q=="string"}},{name:"boolean",test:function(q){return typeof q=="boolean"}},{name:"Function",test:function(q){return typeof q=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(q){return q instanceof Date}},{name:"RegExp",test:function(q){return q instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(q){return q===null}},{name:"undefined",test:function(q){return q===void 0}}],r={name:"any",test:PN,isAny:!0};let n,a,i=0,s={createCount:0};function u(q){const Y=n.get(q);if(Y)return Y;let ne='Unknown type "'+q+'"';const oe=q.toLowerCase();let fe;for(fe of a)if(fe.toLowerCase()===oe){ne+='. Did you mean "'+fe+'" ?';break}throw new TypeError(ne)}function l(q){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ne=Y?u(Y).index:a.length,oe=[];for(let ge=0;ge<q.length;++ge){if(!q[ge]||typeof q[ge].name!="string"||typeof q[ge].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Se=q[ge].name;if(n.has(Se))throw new TypeError('Duplicate type name "'+Se+'"');oe.push(Se),n.set(Se,{name:Se,test:q[ge].test,isAny:q[ge].isAny,index:ne+ge,conversionsTo:[]})}const fe=a.slice(ne);a=a.slice(0,ne).concat(oe).concat(fe);for(let ge=ne+oe.length;ge<a.length;++ge)n.get(a[ge]).index=ge}function o(){n=new Map,a=[],i=0,l([r],!1)}o(),l(e);function c(){let q;for(q of a)n.get(q).conversionsTo=[];i=0}function f(q){const Y=a.filter(ne=>{const oe=n.get(ne);return!oe.isAny&&oe.test(q)});return Y.length?Y:["any"]}function d(q){return q&&typeof q=="function"&&"_typedFunctionData"in q}function m(q,Y,ne){if(!d(q))throw new TypeError(FN);const oe=ne&&ne.exact,fe=Array.isArray(Y)?Y.join(","):Y,ge=M(fe),Se=T(ge);if(!oe||Se in q.signatures){const ht=q._typedFunctionData.signatureMap.get(Se);if(ht)return ht}const Ce=ge.length;let Pe;if(oe){Pe=[];let ht;for(ht in q.signatures)Pe.push(q._typedFunctionData.signatureMap.get(ht))}else Pe=q._typedFunctionData.signatures;for(let ht=0;ht<Ce;++ht){const gt=ge[ht],Vt=[];let Ze;for(Ze of Pe){const ur=g(Ze.params,ht);if(!(!ur||gt.restParam&&!ur.restParam)){if(!ur.hasAny){const O=N(ur);if(gt.types.some(ae=>!O.has(ae.name)))continue}Vt.push(Ze)}}if(Pe=Vt,Pe.length===0)break}let Te;for(Te of Pe)if(Te.params.length<=Ce)return Te;throw new TypeError("Signature not found (signature: "+(q.name||"unnamed")+"("+T(ge,", ")+"))")}function h(q,Y,ne){return m(q,Y,ne).implementation}function v(q,Y){const ne=u(Y);if(ne.test(q))return q;const oe=ne.conversionsTo;if(oe.length===0)throw new Error("There are no conversions to "+Y+" defined.");for(let fe=0;fe<oe.length;fe++)if(u(oe[fe].from).test(q))return oe[fe].convert(q);throw new Error("Cannot convert "+q+" to "+Y)}function T(q){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return q.map(ne=>ne.name).join(Y)}function S(q){const Y=q.indexOf("...")===0,oe=(Y?q.length>3?q.slice(3):"any":q).split("|").map(Ce=>u(Ce.trim()));let fe=!1,ge=Y?"...":"";return{types:oe.map(function(Ce){return fe=Ce.isAny||fe,ge+=Ce.name+"|",{name:Ce.name,typeIndex:Ce.index,test:Ce.test,isAny:Ce.isAny,conversion:null,conversionIndex:-1}}),name:ge.slice(0,-1),hasAny:fe,hasConversion:!1,restParam:Y}}function C(q){const Y=q.types.map(Se=>Se.name),ne=L(Y);let oe=q.hasAny,fe=q.name;const ge=ne.map(function(Se){const Ce=u(Se.from);return oe=Ce.isAny||oe,fe+="|"+Se.from,{name:Se.from,typeIndex:Ce.index,test:Ce.test,isAny:Ce.isAny,conversion:Se,conversionIndex:Se.index}});return{types:q.types.concat(ge),name:fe,hasAny:oe,hasConversion:ge.length>0,restParam:q.restParam}}function N(q){return q.typeSet||(q.typeSet=new Set,q.types.forEach(Y=>q.typeSet.add(Y.name))),q.typeSet}function M(q){const Y=[];if(typeof q!="string")throw new TypeError("Signatures must be strings");const ne=q.trim();if(ne==="")return Y;const oe=ne.split(",");for(let fe=0;fe<oe.length;++fe){const ge=S(oe[fe].trim());if(ge.restParam&&fe!==oe.length-1)throw new SyntaxError('Unexpected rest parameter "'+oe[fe]+'": only allowed for the last parameter');if(ge.types.length===0)return null;Y.push(ge)}return Y}function y(q){const Y=J(q);return Y?Y.restParam:!1}function x(q){if(!q||q.types.length===0)return PN;if(q.types.length===1)return u(q.types[0].name).test;if(q.types.length===2){const Y=u(q.types[0].name).test,ne=u(q.types[1].name).test;return function(fe){return Y(fe)||ne(fe)}}else{const Y=q.types.map(function(ne){return u(ne.name).test});return function(oe){for(let fe=0;fe<Y.length;fe++)if(Y[fe](oe))return!0;return!1}}}function w(q){let Y,ne,oe;if(y(q)){Y=H(q).map(x);const fe=Y.length,ge=x(J(q)),Se=function(Ce){for(let Pe=fe;Pe<Ce.length;Pe++)if(!ge(Ce[Pe]))return!1;return!0};return function(Pe){for(let Te=0;Te<Y.length;Te++)if(!Y[Te](Pe[Te]))return!1;return Se(Pe)&&Pe.length>=fe+1}}else return q.length===0?function(ge){return ge.length===0}:q.length===1?(ne=x(q[0]),function(ge){return ne(ge[0])&&ge.length===1}):q.length===2?(ne=x(q[0]),oe=x(q[1]),function(ge){return ne(ge[0])&&oe(ge[1])&&ge.length===2}):(Y=q.map(x),function(ge){for(let Se=0;Se<Y.length;Se++)if(!Y[Se](ge[Se]))return!1;return ge.length===Y.length})}function g(q,Y){return Y<q.length?q[Y]:y(q)?J(q):null}function _(q,Y){const ne=g(q,Y);return ne?N(ne):new Set}function E(q){return q.conversion===null||q.conversion===void 0}function b(q,Y){const ne=new Set;return q.forEach(oe=>{const fe=_(oe.params,Y);let ge;for(ge of fe)ne.add(ge)}),ne.has("any")?["any"]:Array.from(ne)}function A(q,Y,ne){let oe,fe;const ge=q||"unnamed";let Se=ne,Ce;for(Ce=0;Ce<Y.length;Ce++){const gt=[];if(Se.forEach(Vt=>{const Ze=g(Vt.params,Ce),ur=x(Ze);(Ce<Vt.params.length||y(Vt.params))&&ur(Y[Ce])&&gt.push(Vt)}),gt.length===0){if(fe=b(Se,Ce),fe.length>0){const Vt=f(Y[Ce]);return oe=new TypeError("Unexpected type of argument in function "+ge+" (expected: "+fe.join(" or ")+", actual: "+Vt.join(" | ")+", index: "+Ce+")"),oe.data={category:"wrongType",fn:ge,index:Ce,actual:Vt,expected:fe},oe}}else Se=gt}const Pe=Se.map(function(gt){return y(gt.params)?1/0:gt.params.length});if(Y.length<Math.min.apply(null,Pe))return fe=b(Se,Ce),oe=new TypeError("Too few arguments in function "+ge+" (expected: "+fe.join(" or ")+", index: "+Y.length+")"),oe.data={category:"tooFewArgs",fn:ge,index:Y.length,expected:fe},oe;const Te=Math.max.apply(null,Pe);if(Y.length>Te)return oe=new TypeError("Too many arguments in function "+ge+" (expected: "+Te+", actual: "+Y.length+")"),oe.data={category:"tooManyArgs",fn:ge,index:Y.length,expectedLength:Te},oe;const ht=[];for(let gt=0;gt<Y.length;++gt)ht.push(f(Y[gt]).join("|"));return oe=new TypeError('Arguments of type "'+ht.join(", ")+'" do not match any of the defined signatures of function '+ge+"."),oe.data={category:"mismatch",actual:ht},oe}function I(q){let Y=a.length+1;for(let ne=0;ne<q.types.length;ne++)E(q.types[ne])&&(Y=Math.min(Y,q.types[ne].typeIndex));return Y}function F(q){let Y=i+1;for(let ne=0;ne<q.types.length;ne++)E(q.types[ne])||(Y=Math.min(Y,q.types[ne].conversionIndex));return Y}function B(q,Y){if(q.hasAny){if(!Y.hasAny)return 1}else if(Y.hasAny)return-1;if(q.restParam){if(!Y.restParam)return 1}else if(Y.restParam)return-1;if(q.hasConversion){if(!Y.hasConversion)return 1}else if(Y.hasConversion)return-1;const ne=I(q)-I(Y);if(ne<0)return-1;if(ne>0)return 1;const oe=F(q)-F(Y);return oe<0?-1:oe>0?1:0}function P(q,Y){const ne=q.params,oe=Y.params,fe=J(ne),ge=J(oe),Se=y(ne),Ce=y(oe);if(Se&&fe.hasAny){if(!Ce||!ge.hasAny)return 1}else if(Ce&&ge.hasAny)return-1;let Pe=0,Te=0,ht;for(ht of ne)ht.hasAny&&++Pe,ht.hasConversion&&++Te;let gt=0,Vt=0;for(ht of oe)ht.hasAny&&++gt,ht.hasConversion&&++Vt;if(Pe!==gt)return Pe-gt;if(Se&&fe.hasConversion){if(!Ce||!ge.hasConversion)return 1}else if(Ce&&ge.hasConversion)return-1;if(Te!==Vt)return Te-Vt;if(Se){if(!Ce)return 1}else if(Ce)return-1;const Ze=(ne.length-oe.length)*(Se?-1:1);if(Ze!==0)return Ze;const ur=[];let O=0;for(let pe=0;pe<ne.length;++pe){const Me=B(ne[pe],oe[pe]);ur.push(Me),O+=Me}if(O!==0)return O;let ae;for(ae of ur)if(ae!==0)return ae;return 0}function L(q){if(q.length===0)return[];const Y=q.map(u);q.length>1&&Y.sort((fe,ge)=>fe.index-ge.index);let ne=Y[0].conversionsTo;if(q.length===1)return ne;ne=ne.concat([]);const oe=new Set(q);for(let fe=1;fe<Y.length;++fe){let ge;for(ge of Y[fe].conversionsTo)oe.has(ge.from)||(ne.push(ge),oe.add(ge.from))}return ne}function $(q,Y){let ne=Y;if(q.some(fe=>fe.hasConversion)){const fe=y(q),ge=q.map(k);ne=function(){const Ce=[],Pe=fe?arguments.length-1:arguments.length;for(let Te=0;Te<Pe;Te++)Ce[Te]=ge[Te](arguments[Te]);return fe&&(Ce[Pe]=arguments[Pe].map(ge[Pe])),Y.apply(this,Ce)}}let oe=ne;if(y(q)){const fe=q.length-1;oe=function(){return ne.apply(this,re(arguments,0,fe).concat([re(arguments,fe)]))}}return oe}function k(q){let Y,ne,oe,fe;const ge=[],Se=[];switch(q.types.forEach(function(Ce){Ce.conversion&&(ge.push(u(Ce.conversion.from).test),Se.push(Ce.conversion.convert))}),Se.length){case 0:return function(Pe){return Pe};case 1:return Y=ge[0],oe=Se[0],function(Pe){return Y(Pe)?oe(Pe):Pe};case 2:return Y=ge[0],ne=ge[1],oe=Se[0],fe=Se[1],function(Pe){return Y(Pe)?oe(Pe):ne(Pe)?fe(Pe):Pe};default:return function(Pe){for(let Te=0;Te<Se.length;Te++)if(ge[Te](Pe))return Se[Te](Pe);return Pe}}}function V(q){function Y(ne,oe,fe){if(oe<ne.length){const ge=ne[oe];let Se=[];if(ge.restParam){const Ce=ge.types.filter(E);Ce.length<ge.types.length&&Se.push({types:Ce,name:"..."+Ce.map(Pe=>Pe.name).join("|"),hasAny:Ce.some(Pe=>Pe.isAny),hasConversion:!1,restParam:!0}),Se.push(ge)}else Se=ge.types.map(function(Ce){return{types:[Ce],name:Ce.name,hasAny:Ce.isAny,hasConversion:Ce.conversion,restParam:!1}});return se(Se,function(Ce){return Y(ne,oe+1,fe.concat([Ce]))})}else return[fe]}return Y(q,0,[])}function ee(q,Y){const ne=Math.max(q.length,Y.length);for(let Ce=0;Ce<ne;Ce++){const Pe=_(q,Ce),Te=_(Y,Ce);let ht=!1,gt;for(gt of Te)if(Pe.has(gt)){ht=!0;break}if(!ht)return!1}const oe=q.length,fe=Y.length,ge=y(q),Se=y(Y);return ge?Se?oe===fe:fe>=oe:Se?oe>=fe:oe===fe}function j(q){return q.map(Y=>Le(Y)?Ne(Y.referToSelf.callback):Be(Y)?me(Y.referTo.references,Y.referTo.callback):Y)}function X(q,Y,ne){const oe=[];let fe;for(fe of q){let ge=ne[fe];if(typeof ge!="number")throw new TypeError('No definition for referenced signature "'+fe+'"');if(ge=Y[ge],typeof ge!="function")return!1;oe.push(ge)}return oe}function U(q,Y,ne){const oe=j(q),fe=new Array(oe.length).fill(!1);let ge=!0;for(;ge;){ge=!1;let Se=!0;for(let Ce=0;Ce<oe.length;++Ce){if(fe[Ce])continue;const Pe=oe[Ce];if(Le(Pe))oe[Ce]=Pe.referToSelf.callback(ne),oe[Ce].referToSelf=Pe.referToSelf,fe[Ce]=!0,Se=!1;else if(Be(Pe)){const Te=X(Pe.referTo.references,oe,Y);Te?(oe[Ce]=Pe.referTo.callback.apply(this,Te),oe[Ce].referTo=Pe.referTo,fe[Ce]=!0,Se=!1):ge=!0}}if(Se&&ge)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return oe}function de(q){const Y=/\bthis(\(|\.signatures\b)/;Object.keys(q).forEach(ne=>{const oe=q[ne];if(Y.test(oe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ue(q,Y){if(s.createCount++,Object.keys(Y).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&de(Y);const ne=[],oe=[],fe={},ge=[];let Se;for(Se in Y){if(!Object.prototype.hasOwnProperty.call(Y,Se))continue;const Lt=M(Se);if(!Lt)continue;ne.forEach(function(Ti){if(ee(Ti,Lt))throw new TypeError('Conflicting signatures "'+T(Ti)+'" and "'+T(Lt)+'".')}),ne.push(Lt);const un=oe.length;oe.push(Y[Se]);const yf=Lt.map(C);let js;for(js of V(yf)){const Ti=T(js);ge.push({params:js,name:Ti,fn:un}),js.every(vl=>!vl.hasConversion)&&(fe[Ti]=un)}}ge.sort(P);const Ce=U(oe,fe,Un);let Pe;for(Pe in fe)Object.prototype.hasOwnProperty.call(fe,Pe)&&(fe[Pe]=Ce[fe[Pe]]);const Te=[],ht=new Map;for(Pe of ge)ht.has(Pe.name)||(Pe.fn=Ce[Pe.fn],Te.push(Pe),ht.set(Pe.name,Pe));const gt=Te[0]&&Te[0].params.length<=2&&!y(Te[0].params),Vt=Te[1]&&Te[1].params.length<=2&&!y(Te[1].params),Ze=Te[2]&&Te[2].params.length<=2&&!y(Te[2].params),ur=Te[3]&&Te[3].params.length<=2&&!y(Te[3].params),O=Te[4]&&Te[4].params.length<=2&&!y(Te[4].params),ae=Te[5]&&Te[5].params.length<=2&&!y(Te[5].params),pe=gt&&Vt&&Ze&&ur&&O&&ae;for(let Lt=0;Lt<Te.length;++Lt)Te[Lt].test=w(Te[Lt].params);const Me=gt?x(Te[0].params[0]):ta,Ge=Vt?x(Te[1].params[0]):ta,dt=Ze?x(Te[2].params[0]):ta,Ir=ur?x(Te[3].params[0]):ta,ai=O?x(Te[4].params[0]):ta,Xh=ae?x(Te[5].params[0]):ta,Kh=gt?x(Te[0].params[1]):ta,Ci=Vt?x(Te[1].params[1]):ta,Jh=Ze?x(Te[2].params[1]):ta,Yh=ur?x(Te[3].params[1]):ta,Fo=O?x(Te[4].params[1]):ta,ff=ae?x(Te[5].params[1]):ta;for(let Lt=0;Lt<Te.length;++Lt)Te[Lt].implementation=$(Te[Lt].params,Te[Lt].fn);const df=gt?Te[0].implementation:ko,dl=Vt?Te[1].implementation:ko,Os=Ze?Te[2].implementation:ko,Zh=ur?Te[3].implementation:ko,ja=O?Te[4].implementation:ko,mf=ae?Te[5].implementation:ko,hf=gt?Te[0].params.length:-1,ml=Vt?Te[1].params.length:-1,hl=Ze?Te[2].params.length:-1,pf=ur?Te[3].params.length:-1,ep=O?Te[4].params.length:-1,vf=ae?Te[5].params.length:-1,tp=pe?6:0,Ro=Te.length,gf=Te.map(Lt=>Lt.test),pl=Te.map(Lt=>Lt.implementation),Bs=function(){for(let un=tp;un<Ro;un++)if(gf[un](arguments))return pl[un].apply(this,arguments);return s.onMismatch(q,arguments,Te)};function Un(Lt,un){return arguments.length===hf&&Me(Lt)&&Kh(un)?df.apply(this,arguments):arguments.length===ml&&Ge(Lt)&&Ci(un)?dl.apply(this,arguments):arguments.length===hl&&dt(Lt)&&Jh(un)?Os.apply(this,arguments):arguments.length===pf&&Ir(Lt)&&Yh(un)?Zh.apply(this,arguments):arguments.length===ep&&ai(Lt)&&Fo(un)?ja.apply(this,arguments):arguments.length===vf&&Xh(Lt)&&ff(un)?mf.apply(this,arguments):Bs.apply(this,arguments)}try{Object.defineProperty(Un,"name",{value:q})}catch{}return Un.signatures=fe,Un._typedFunctionData={signatures:Te,signatureMap:ht},Un}function le(q,Y,ne){throw A(q,Y,ne)}function H(q){return re(q,0,q.length-1)}function J(q){return q[q.length-1]}function re(q,Y,ne){return Array.prototype.slice.call(q,Y,ne)}function ie(q,Y){for(let ne=0;ne<q.length;ne++)if(Y(q[ne]))return q[ne]}function se(q,Y){return Array.prototype.concat.apply([],q.map(Y))}function ve(){const q=H(arguments).map(ne=>T(M(ne))),Y=J(arguments);if(typeof Y!="function")throw new TypeError("Callback function expected as last argument");return me(q,Y)}function me(q,Y){return{referTo:{references:q,callback:Y}}}function Ne(q){if(typeof q!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:q}}}function Be(q){return q&&typeof q.referTo=="object"&&Array.isArray(q.referTo.references)&&typeof q.referTo.callback=="function"}function Le(q){return q&&typeof q.referToSelf=="object"&&typeof q.referToSelf.callback=="function"}function Ee(q,Y){if(!q)return Y;if(Y&&Y!==q){const ne=new Error("Function names do not match (expected: "+q+", actual: "+Y+")");throw ne.data={actual:Y,expected:q},ne}return q}function De(q){let Y;for(const ne in q)Object.prototype.hasOwnProperty.call(q,ne)&&(d(q[ne])||typeof q[ne].signature=="string")&&(Y=Ee(Y,q[ne].name));return Y}function G(q,Y){let ne;for(ne in Y)if(Object.prototype.hasOwnProperty.call(Y,ne)){if(ne in q&&Y[ne]!==q[ne]){const oe=new Error('Signature "'+ne+'" is defined twice');throw oe.data={signature:ne,sourceFunction:Y[ne],destFunction:q[ne]},oe}q[ne]=Y[ne]}}const te=s;s=function(q){const Y=typeof q=="string",ne=Y?1:0;let oe=Y?q:"";const fe={};for(let ge=ne;ge<arguments.length;++ge){const Se=arguments[ge];let Ce={},Pe;if(typeof Se=="function"?(Pe=Se.name,typeof Se.signature=="string"?Ce[Se.signature]=Se:d(Se)&&(Ce=Se.signatures)):t(Se)&&(Ce=Se,Y||(Pe=De(Se))),Object.keys(Ce).length===0){const Te=new TypeError("Argument to 'typed' at index "+ge+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Te.data={index:ge,argument:Se},Te}Y||(oe=Ee(oe,Pe)),G(fe,Ce)}return ue(oe||"",fe)},s.create=B3,s.createCount=te.createCount,s.onMismatch=le,s.throwMismatchError=le,s.createError=A,s.clear=o,s.clearConversions=c,s.addTypes=l,s._findType=u,s.referTo=ve,s.referToSelf=Ne,s.convert=v,s.findSignature=m,s.find=h,s.isTypedFunction=d,s.warnAgainstDeprecatedThis=!0,s.addType=function(q,Y){let ne="any";Y!==!1&&n.has("Object")&&(ne="Object"),s.addTypes([q],ne)};function ce(q){if(!q||typeof q.from!="string"||typeof q.to!="string"||typeof q.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(q.to===q.from)throw new SyntaxError('Illegal to define conversion from "'+q.from+'" to itself.')}return s.addConversion=function(q){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ce(q);const ne=u(q.to),oe=ne.conversionsTo.find(fe=>fe.from===q.from);if(oe)if(Y&&Y.override)s.removeConversion({from:oe.from,to:q.to,convert:oe.convert});else throw new Error('There is already a conversion from "'+q.from+'" to "'+ne.name+'"');ne.conversionsTo.push({from:q.from,convert:q.convert,index:i++})},s.addConversions=function(q,Y){q.forEach(ne=>s.addConversion(ne,Y))},s.removeConversion=function(q){ce(q);const Y=u(q.to),ne=ie(Y.conversionsTo,fe=>fe.from===q.from);if(!ne)throw new Error("Attempt to remove nonexistent conversion from "+q.from+" to "+q.to);if(ne.convert!==q.convert)throw new Error("Conversion to remove does not match existing conversion");const oe=Y.conversionsTo.indexOf(ne);Y.conversionsTo.splice(oe,1)},s.resolve=function(q,Y){if(!d(q))throw new TypeError(FN);const ne=q._typedFunctionData.signatures;for(let oe=0;oe<ne.length;++oe)if(ne[oe].test(Y))return ne[oe];return null},s}const Em=B3();function Q(t,e,r,n){function a(i){var s=wk(i,e.map(Ak));return Ek(t,e,i),r(s)}return a.isFactory=!0,a.fn=t,a.dependencies=e.slice().sort(),n&&(a.meta=n),a}function Ek(t,e,r){var n=e.filter(i=>!Sk(i)).every(i=>r[i]!==void 0);if(!n){var a=e.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(a.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Sk(t){return t&&t[0]==="?"}function Ak(t){return t&&t[0]==="?"?t.slice(1):t}function We(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function Ss(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var Wi=Math.sign||function(t){return t>0?1:t<0?-1:0},Dk=Math.log2||function(e){return Math.log(e)/Math.LN2},Ck=Math.log10||function(e){return Math.log(e)/Math.LN10},Tk=Math.log1p||function(t){return Math.log(t+1)},Mk=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},Ik=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Gp(t,e,r){var n={2:"0b",8:"0o",16:"0x"},a=n[e],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!We(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),i="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(a).concat(t.toString(e)).concat(i)}function eo(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:a}=j3(e);switch(r){case"fixed":return k3(t,n);case"exponential":return $3(t,n);case"engineering":return Pk(t,n);case"bin":return Gp(t,2,a);case"oct":return Gp(t,8,a);case"hex":return Gp(t,16,a);case"auto":return Fk(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],s=arguments[4];return i!=="."?i+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function j3(t){var e="auto",r,n;if(t!==void 0)if(Xe(t))r=t;else if(ut(t))r=t.toNumber();else if(Th(t))t.precision!==void 0&&(r=RN(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=RN(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function tf(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],a=parseFloat(e[4]||"0"),i=n.indexOf(".");a+=i!==-1?i-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(u){return a-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return s.length===0&&(s.push(0),a++),{sign:r,coefficients:s,exponent:a}}function Pk(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=tf(t),n=Ih(r,e),a=n.exponent,i=n.coefficients,s=a%3===0?a:a<0?a-3-a%3:a-a%3;if(Xe(e))for(;e>i.length||a-s+1>i.length;)i.push(0);else for(var u=Math.abs(a-s)-(i.length-1),l=0;l<u;l++)i.push(0);for(var o=Math.abs(a-s),c=1;o>0;)c++,o--;var f=i.slice(c).join(""),d=Xe(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=i.slice(0,c).join("")+d+"e"+(a>=0?"+":"")+s.toString();return n.sign+m}function k3(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=tf(t),n=typeof e=="number"?Ih(r,r.exponent+1+e):r,a=n.coefficients,i=n.exponent+1,s=i+(e||0);return a.length<s&&(a=a.concat(bu(s-a.length))),i<0&&(a=bu(-i+1).concat(a),i=1),i<a.length&&a.splice(i,0,i===0?"0.":"."),n.sign+a.join("")}function $3(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=tf(t),n=e?Ih(r,e):r,a=n.coefficients,i=n.exponent;a.length<e&&(a=a.concat(bu(e-a.length)));var s=a.shift();return n.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(i>=0?"+":"")+i}function Fk(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=ON(r==null?void 0:r.lowerExp,-3),a=ON(r==null?void 0:r.upperExp,5),i=tf(t),s=e?Ih(i,e):i;if(s.exponent<n||s.exponent>=a)return $3(t,e);var u=s.coefficients,l=s.exponent;u.length<e&&(u=u.concat(bu(e-u.length))),u=u.concat(bu(l-u.length+1+(u.length<e?e-u.length:0))),u=bu(-l).concat(u);var o=l>0?l:0;return o<u.length-1&&u.splice(o+1,0,"."),s.sign+u.join("")}function Ih(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var a=n.splice(e,n.length-e);if(a[0]>=5){var i=e-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function bu(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function Rk(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Kr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}var Ok=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},Bk=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},jk=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},kk=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},$k=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},Lk=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function zk(t,e){var r=!0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function RN(t,e){if(Xe(t))return t;if(ut(t))return t.toNumber();e()}function ON(t,e){return Xe(t)?t:ut(t)?t.toNumber():e}var L3=function(){return L3=Em.create,Em},Vk=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Uk=Q("typed",Vk,function(e){var{BigNumber:r,Complex:n,DenseMatrix:a,Fraction:i}=e,s=L3();return s.clear(),s.addTypes([{name:"number",test:Xe},{name:"Complex",test:hi},{name:"BigNumber",test:ut},{name:"bigint",test:ic},{name:"Fraction",test:Zc},{name:"Unit",test:Gn},{name:"identifier",test:u=>yr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(u)},{name:"string",test:yr},{name:"Chain",test:R3},{name:"Array",test:Wt},{name:"Matrix",test:Ye},{name:"DenseMatrix",test:_m},{name:"SparseMatrix",test:Ks},{name:"Range",test:Dy},{name:"Index",test:Ch},{name:"boolean",test:uk},{name:"ResultSet",test:lk},{name:"Help",test:I3},{name:"function",test:P3},{name:"Date",test:ck},{name:"RegExp",test:fk},{name:"null",test:dk},{name:"undefined",test:mk},{name:"AccessorNode",test:uo},{name:"ArrayNode",test:aa},{name:"AssignmentNode",test:hk},{name:"BlockNode",test:pk},{name:"ConditionalNode",test:vk},{name:"ConstantNode",test:Nt},{name:"FunctionNode",test:ys},{name:"FunctionAssignmentNode",test:ef},{name:"IndexNode",test:el},{name:"Node",test:Ht},{name:"ObjectNode",test:Mh},{name:"OperatorNode",test:br},{name:"ParenthesisNode",test:_i},{name:"RangeNode",test:gk},{name:"RelationalNode",test:yk},{name:"SymbolNode",test:Qr},{name:"Map",test:F3},{name:"Object",test:Th}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Kf(l),Rk(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||Jf(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||Jf(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Kf(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return i||Yf(l),new i(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||Jf(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){i||Yf(l);var o=new i(l);if(o.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return o}},{from:"string",to:"number",convert:function(l){var o=Number(l);if(isNaN(o))throw new Error('Cannot convert "'+l+'" to a number');return o}},{from:"string",to:"BigNumber",convert:function(l){r||Kf(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){i||Yf(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||Jf(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Kf(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return i||Yf(l),new i(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return a||qk(),new a(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(u,l,o)=>{var c=s.createError(u,l,o);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Kn(l[0])&&o.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},s.onMismatch=(u,l,o)=>{var c=s.createError(u,l,o);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Kn(l[0])&&o.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(u,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(u,")'."));throw f.data=c.data,f}throw c},s});function Kf(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Jf(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function qk(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Yf(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Hk="ResultSet",Gk=[],Wk=Q(Hk,Gk,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var su=9e15,As=1e9,bg="0123456789abcdef",Sm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Am="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",wg={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-su,maxE:su,crypto:!1},z3,fi,st=!0,Ph="[DecimalError] ",xs=Ph+"Invalid argument: ",V3=Ph+"Precision limit exceeded",U3=Ph+"crypto unavailable",q3="[object Decimal]",yn=Math.floor,Rr=Math.pow,Qk=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Xk=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Kk=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,H3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ca=1e7,et=7,Jk=9007199254740991,Yk=Sm.length-1,Ng=Am.length-1,Ae={toStringTag:q3};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ke(t)};Ae.ceil=function(){return Ke(new this.constructor(this),this.e+1,2)};Ae.clampedTo=Ae.clamp=function(t,e){var r,n=this,a=n.constructor;if(t=new a(t),e=new a(e),!t.s||!e.s)return new a(NaN);if(t.gt(e))throw Error(xs+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new a(n)};Ae.comparedTo=Ae.cmp=function(t){var e,r,n,a,i=this,s=i.d,u=(t=new i.constructor(t)).d,l=i.s,o=t.s;if(!s||!u)return!l||!o?NaN:l!==o?l:s===u?0:!s^l<0?1:-1;if(!s[0]||!u[0])return s[0]?l:u[0]?-o:0;if(l!==o)return l;if(i.e!==t.e)return i.e>t.e^l<0?1:-1;for(n=s.length,a=u.length,e=0,r=n<a?n:a;e<r;++e)if(s[e]!==u[e])return s[e]>u[e]^l<0?1:-1;return n===a?0:n>a^l<0?1:-1};Ae.cosine=Ae.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+et,n.rounding=1,r=Zk(n,K3(n,r)),n.precision=t,n.rounding=e,Ke(fi==2||fi==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Ae.cubeRoot=Ae.cbrt=function(){var t,e,r,n,a,i,s,u,l,o,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(st=!1,i=c.s*Rr(c.s*c,1/3),!i||Math.abs(i)==1/0?(r=en(c.d),t=c.e,(i=(t-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Rr(r,1/3),t=yn((t+1)/3)-(t%3==(t<0?-1:2)),i==1/0?r="5e"+t:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=c.s):n=new f(i.toString()),s=(t=f.precision)+3;;)if(u=n,l=u.times(u).times(u),o=l.plus(c),n=tr(o.plus(c).times(u),o.plus(l),s+2,1),en(u.d).slice(0,s)===(r=en(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!a&&r=="4999"){if(!a&&(Ke(u,t+1,0),u.times(u).times(u).eq(c))){n=u;break}s+=4,a=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ke(n,t+1,1),e=!n.times(n).times(n).eq(c));break}return st=!0,Ke(n,t,f.rounding,e)};Ae.decimalPlaces=Ae.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-yn(this.e/et))*et,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Ae.dividedBy=Ae.div=function(t){return tr(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.divToInt=function(t){var e=this,r=e.constructor;return Ke(tr(e,new r(t),0,1,1),r.precision,r.rounding)};Ae.equals=Ae.eq=function(t){return this.cmp(t)===0};Ae.floor=function(){return Ke(new this.constructor(this),this.e+1,3)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){var e=this.cmp(t);return e==1||e===0};Ae.hyperbolicCosine=Ae.cosh=function(){var t,e,r,n,a,i=this,s=i.constructor,u=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return u;r=s.precision,n=s.rounding,s.precision=r+Math.max(i.e,i.sd())+4,s.rounding=1,a=i.d.length,a<32?(t=Math.ceil(a/3),e=(1/Rh(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),i=ju(s,1,i.times(e),new s(1),!0);for(var l,o=t,c=new s(8);o--;)l=i.times(i),i=u.minus(l.times(c.minus(l.times(c))));return Ke(i,s.precision=r,s.rounding=n,!0)};Ae.hyperbolicSine=Ae.sinh=function(){var t,e,r,n,a=this,i=a.constructor;if(!a.isFinite()||a.isZero())return new i(a);if(e=i.precision,r=i.rounding,i.precision=e+Math.max(a.e,a.sd())+4,i.rounding=1,n=a.d.length,n<3)a=ju(i,2,a,a,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,a=a.times(1/Rh(5,t)),a=ju(i,2,a,a,!0);for(var s,u=new i(5),l=new i(16),o=new i(20);t--;)s=a.times(a),a=a.times(u.plus(s.times(l.times(s).plus(o))))}return i.precision=e,i.rounding=r,Ke(a,e,r,!0)};Ae.hyperbolicTangent=Ae.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,tr(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Ae.inverseCosine=Ae.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,a=e.rounding;return r!==-1?r===0?t.isNeg()?qa(e,n,a):new e(0):new e(NaN):t.isZero()?qa(e,n+4,a).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=a,t.times(2))};Ae.inverseHyperbolicCosine=Ae.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,st=!1,r=r.times(r).minus(1).sqrt().plus(r),st=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Ae.inverseHyperbolicSine=Ae.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,st=!1,r=r.times(r).plus(1).sqrt().plus(r),st=!0,n.precision=t,n.rounding=e,r.ln())};Ae.inverseHyperbolicTangent=Ae.atanh=function(){var t,e,r,n,a=this,i=a.constructor;return a.isFinite()?a.e>=0?new i(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(t=i.precision,e=i.rounding,n=a.sd(),Math.max(n,t)<2*-a.e-1?Ke(new i(a),t,e,!0):(i.precision=r=n-a.e,a=tr(a.plus(1),new i(1).minus(a),r+t,1),i.precision=t+4,i.rounding=1,a=a.ln(),i.precision=t,i.rounding=e,a.times(.5))):new i(NaN)};Ae.inverseSine=Ae.asin=function(){var t,e,r,n,a=this,i=a.constructor;return a.isZero()?new i(a):(e=a.abs().cmp(1),r=i.precision,n=i.rounding,e!==-1?e===0?(t=qa(i,r+4,n).times(.5),t.s=a.s,t):new i(NaN):(i.precision=r+6,i.rounding=1,a=a.div(new i(1).minus(a.times(a)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,a.times(2)))};Ae.inverseTangent=Ae.atan=function(){var t,e,r,n,a,i,s,u,l,o=this,c=o.constructor,f=c.precision,d=c.rounding;if(o.isFinite()){if(o.isZero())return new c(o);if(o.abs().eq(1)&&f+4<=Ng)return s=qa(c,f+4,d).times(.25),s.s=o.s,s}else{if(!o.s)return new c(NaN);if(f+4<=Ng)return s=qa(c,f+4,d).times(.5),s.s=o.s,s}for(c.precision=u=f+10,c.rounding=1,r=Math.min(28,u/et+2|0),t=r;t;--t)o=o.div(o.times(o).plus(1).sqrt().plus(1));for(st=!1,e=Math.ceil(u/et),n=1,l=o.times(o),s=new c(o),a=o;t!==-1;)if(a=a.times(l),i=s.minus(a.div(n+=2)),a=a.times(l),s=i.plus(a.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===i.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),st=!0,Ke(s,c.precision=f,c.rounding=d,!0)};Ae.isFinite=function(){return!!this.d};Ae.isInteger=Ae.isInt=function(){return!!this.d&&yn(this.e/et)>this.d.length-2};Ae.isNaN=function(){return!this.s};Ae.isNegative=Ae.isNeg=function(){return this.s<0};Ae.isPositive=Ae.isPos=function(){return this.s>0};Ae.isZero=function(){return!!this.d&&this.d[0]===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,r,n,a,i,s,u,l,o=this,c=o.constructor,f=c.precision,d=c.rounding,m=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=o.d,o.s<0||!r||!r[0]||o.eq(1))return new c(r&&!r[0]?-1/0:o.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)i=!0;else{for(a=r[0];a%10===0;)a/=10;i=a!==1}if(st=!1,u=f+m,s=Qi(o,u),n=e?Dm(c,u+10):Qi(t,u),l=tr(s,n,u,1),kc(l.d,a=f,d))do if(u+=10,s=Qi(o,u),n=e?Dm(c,u+10):Qi(t,u),l=tr(s,n,u,1),!i){+en(l.d).slice(a+1,a+15)+1==1e14&&(l=Ke(l,f+1,0));break}while(kc(l.d,a+=10,d));return st=!0,Ke(l,f,d)};Ae.minus=Ae.sub=function(t){var e,r,n,a,i,s,u,l,o,c,f,d,m=this,h=m.constructor;if(t=new h(t),!m.d||!t.d)return!m.s||!t.s?t=new h(NaN):m.d?t.s=-t.s:t=new h(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(o=m.d,d=t.d,u=h.precision,l=h.rounding,!o[0]||!d[0]){if(d[0])t.s=-t.s;else if(o[0])t=new h(m);else return new h(l===3?-0:0);return st?Ke(t,u,l):t}if(r=yn(t.e/et),c=yn(m.e/et),o=o.slice(),i=c-r,i){for(f=i<0,f?(e=o,i=-i,s=d.length):(e=d,r=c,s=o.length),n=Math.max(Math.ceil(u/et),s)+2,i>n&&(i=n,e.length=1),e.reverse(),n=i;n--;)e.push(0);e.reverse()}else{for(n=o.length,s=d.length,f=n<s,f&&(s=n),n=0;n<s;n++)if(o[n]!=d[n]){f=o[n]<d[n];break}i=0}for(f&&(e=o,o=d,d=e,t.s=-t.s),s=o.length,n=d.length-s;n>0;--n)o[s++]=0;for(n=d.length;n>i;){if(o[--n]<d[n]){for(a=n;a&&o[--a]===0;)o[a]=Ca-1;--o[a],o[n]+=Ca}o[n]-=d[n]}for(;o[--s]===0;)o.pop();for(;o[0]===0;o.shift())--r;return o[0]?(t.d=o,t.e=Fh(o,r),st?Ke(t,u,l):t):new h(l===3?-0:0)};Ae.modulo=Ae.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Ke(new n(r),n.precision,n.rounding):(st=!1,n.modulo==9?(e=tr(r,t.abs(),0,3,1),e.s*=t.s):e=tr(r,t,0,n.modulo,1),e=e.times(t),st=!0,r.minus(e))};Ae.naturalExponential=Ae.exp=function(){return _g(this)};Ae.naturalLogarithm=Ae.ln=function(){return Qi(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ke(t)};Ae.plus=Ae.add=function(t){var e,r,n,a,i,s,u,l,o,c,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return!f.s||!t.s?t=new d(NaN):f.d||(t=new d(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(o=f.d,c=t.d,u=d.precision,l=d.rounding,!o[0]||!c[0])return c[0]||(t=new d(f)),st?Ke(t,u,l):t;if(i=yn(f.e/et),n=yn(t.e/et),o=o.slice(),a=i-n,a){for(a<0?(r=o,a=-a,s=c.length):(r=c,n=i,s=o.length),i=Math.ceil(u/et),s=i>s?i+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=o.length,a=c.length,s-a<0&&(a=s,r=c,c=o,o=r),e=0;a;)e=(o[--a]=o[a]+c[a]+e)/Ca|0,o[a]%=Ca;for(e&&(o.unshift(e),++n),s=o.length;o[--s]==0;)o.pop();return t.d=o,t.e=Fh(o,n),st?Ke(t,u,l):t};Ae.precision=Ae.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xs+t);return r.d?(e=G3(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Ae.round=function(){var t=this,e=t.constructor;return Ke(new e(t),t.e+1,e.rounding)};Ae.sine=Ae.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+et,n.rounding=1,r=t7(n,K3(n,r)),n.precision=t,n.rounding=e,Ke(fi>2?r.neg():r,t,e,!0)):new n(NaN)};Ae.squareRoot=Ae.sqrt=function(){var t,e,r,n,a,i,s=this,u=s.d,l=s.e,o=s.s,c=s.constructor;if(o!==1||!u||!u[0])return new c(!o||o<0&&(!u||u[0])?NaN:u?s:1/0);for(st=!1,o=Math.sqrt(+s),o==0||o==1/0?(e=en(u),(e.length+l)%2==0&&(e+="0"),o=Math.sqrt(e),l=yn((l+1)/2)-(l<0||l%2),o==1/0?e="5e"+l:(e=o.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(o.toString()),r=(l=c.precision)+3;;)if(i=n,n=i.plus(tr(s,i,r+2,1)).times(.5),en(i.d).slice(0,r)===(e=en(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!a&&e=="4999"){if(!a&&(Ke(i,l+1,0),i.times(i).eq(s))){n=i;break}r+=4,a=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Ke(n,l+1,1),t=!n.times(n).eq(s));break}return st=!0,Ke(n,l,c.rounding,t)};Ae.tangent=Ae.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=tr(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Ke(fi==2||fi==4?r.neg():r,t,e,!0)):new n(NaN)};Ae.times=Ae.mul=function(t){var e,r,n,a,i,s,u,l,o,c=this,f=c.constructor,d=c.d,m=(t=new f(t)).d;if(t.s*=c.s,!d||!d[0]||!m||!m[0])return new f(!t.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:!d||!m?t.s/0:t.s*0);for(r=yn(c.e/et)+yn(t.e/et),l=d.length,o=m.length,l<o&&(i=d,d=m,m=i,s=l,l=o,o=s),i=[],s=l+o,n=s;n--;)i.push(0);for(n=o;--n>=0;){for(e=0,a=l+n;a>n;)u=i[a]+m[n]*d[a-n-1]+e,i[a--]=u%Ca|0,e=u/Ca|0;i[a]=(i[a]+e)%Ca|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=Fh(i,r),st?Ke(t,f.precision,f.rounding):t};Ae.toBinary=function(t,e){return Cy(this,2,t,e)};Ae.toDecimalPlaces=Ae.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(zn(t,0,As),e===void 0?e=n.rounding:zn(e,0,8),Ke(r,t+r.e+1,e))};Ae.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Za(n,!0):(zn(t,0,As),e===void 0?e=a.rounding:zn(e,0,8),n=Ke(new a(n),t+1,e),r=Za(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Ae.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?r=Za(a):(zn(t,0,As),e===void 0?e=i.rounding:zn(e,0,8),n=Ke(new i(a),t+a.e+1,e),r=Za(n,!1,t+n.e+1)),a.isNeg()&&!a.isZero()?"-"+r:r};Ae.toFraction=function(t){var e,r,n,a,i,s,u,l,o,c,f,d,m=this,h=m.d,v=m.constructor;if(!h)return new v(m);if(o=r=new v(1),n=l=new v(0),e=new v(n),i=e.e=G3(h)-m.e-1,s=i%et,e.d[0]=Rr(10,s<0?et+s:s),t==null)t=i>0?e:o;else{if(u=new v(t),!u.isInt()||u.lt(o))throw Error(xs+u);t=u.gt(e)?i>0?e:o:u}for(st=!1,u=new v(en(h)),c=v.precision,v.precision=i=h.length*et*2;f=tr(u,e,0,1,1),a=r.plus(f.times(n)),a.cmp(t)!=1;)r=n,n=a,a=o,o=l.plus(f.times(a)),l=a,a=e,e=u.minus(f.times(a)),u=a;return a=tr(t.minus(r),n,0,1,1),l=l.plus(a.times(o)),r=r.plus(a.times(n)),l.s=o.s=m.s,d=tr(o,n,i,1).minus(m).abs().cmp(tr(l,r,i,1).minus(m).abs())<1?[o,n]:[l,r],v.precision=c,st=!0,d};Ae.toHexadecimal=Ae.toHex=function(t,e){return Cy(this,16,t,e)};Ae.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:zn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(st=!1,r=tr(r,t,0,e,1).times(t),st=!0,Ke(r)):(t.s=r.s,r=t),r};Ae.toNumber=function(){return+this};Ae.toOctal=function(t,e){return Cy(this,8,t,e)};Ae.toPower=Ae.pow=function(t){var e,r,n,a,i,s,u=this,l=u.constructor,o=+(t=new l(t));if(!u.d||!t.d||!u.d[0]||!t.d[0])return new l(Rr(+u,o));if(u=new l(u),u.eq(1))return u;if(n=l.precision,i=l.rounding,t.eq(1))return Ke(u,n,i);if(e=yn(t.e/et),e>=t.d.length-1&&(r=o<0?-o:o)<=Jk)return a=W3(l,u,r,n),t.s<0?new l(1).div(a):Ke(a,n,i);if(s=u.s,s<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(s=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=s,u}return r=Rr(+u,o),e=r==0||!isFinite(r)?yn(o*(Math.log("0."+en(u.d))/Math.LN10+u.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(st=!1,l.rounding=u.s=1,r=Math.min(12,(e+"").length),a=_g(t.times(Qi(u,n+r)),n),a.d&&(a=Ke(a,n+5,1),kc(a.d,n,i)&&(e=n+10,a=Ke(_g(t.times(Qi(u,e+r)),e),e+5,1),+en(a.d).slice(n+1,n+15)+1==1e14&&(a=Ke(a,n+1,0)))),a.s=s,st=!0,l.rounding=i,Ke(a,n,i))};Ae.toPrecision=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Za(n,n.e<=a.toExpNeg||n.e>=a.toExpPos):(zn(t,1,As),e===void 0?e=a.rounding:zn(e,0,8),n=Ke(new a(n),t,e),r=Za(n,t<=n.e||n.e<=a.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Ae.toSignificantDigits=Ae.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(zn(t,1,As),e===void 0?e=n.rounding:zn(e,0,8)),Ke(new n(r),t,e)};Ae.toString=function(){var t=this,e=t.constructor,r=Za(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Ae.truncated=Ae.trunc=function(){return Ke(new this.constructor(this),this.e+1,1)};Ae.valueOf=Ae.toJSON=function(){var t=this,e=t.constructor,r=Za(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function en(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=et-n.length,r&&(i+=$i(r)),i+=n;s=t[e],n=s+"",r=et-n.length,r&&(i+=$i(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function zn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(xs+t)}function kc(t,e,r,n){var a,i,s,u;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=et,a=0):(a=Math.ceil((e+1)/et),e%=et),i=Rr(10,et-e),u=t[a]%i|0,n==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),s=r<4&&u==99999||r>3&&u==49999||u==5e4||u==0):s=(r<4&&u+1==i||r>3&&u+1==i/2)&&(t[a+1]/i/100|0)==Rr(10,e-2)-1||(u==i/2||u==0)&&(t[a+1]/i/100|0)==0:e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),s=(n||r<4)&&u==9999||!n&&r>3&&u==4999):s=((n||r<4)&&u+1==i||!n&&r>3&&u+1==i/2)&&(t[a+1]/i/1e3|0)==Rr(10,e-3)-1,s}function Rd(t,e,r){for(var n,a=[0],i,s=0,u=t.length;s<u;){for(i=a.length;i--;)a[i]*=e;for(a[0]+=bg.indexOf(t.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(a[n+1]===void 0&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function Zk(t,e){var r,n,a;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),a=(1/Rh(4,r)).toString()):(r=16,a="2.3283064365386962890625e-10"),t.precision+=r,e=ju(t,1,e.times(a),new t(1));for(var i=r;i--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var tr=function(){function t(n,a,i){var s,u=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+u,n[l]=s%i|0,u=s/i|0;return u&&n.unshift(u),n}function e(n,a,i,s){var u,l;if(i!=s)l=i>s?1:-1;else for(u=l=0;u<i;u++)if(n[u]!=a[u]){l=n[u]>a[u]?1:-1;break}return l}function r(n,a,i,s){for(var u=0;i--;)n[i]-=u,u=n[i]<a[i]?1:0,n[i]=u*s+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s,u,l){var o,c,f,d,m,h,v,T,S,C,N,M,y,x,w,g,_,E,b,A,I=n.constructor,F=n.s==a.s?1:-1,B=n.d,P=a.d;if(!B||!B[0]||!P||!P[0])return new I(!n.s||!a.s||(B?P&&B[0]==P[0]:!P)?NaN:B&&B[0]==0||!P?F*0:F/0);for(l?(m=1,c=n.e-a.e):(l=Ca,m=et,c=yn(n.e/m)-yn(a.e/m)),b=P.length,_=B.length,S=new I(F),C=S.d=[],f=0;P[f]==(B[f]||0);f++);if(P[f]>(B[f]||0)&&c--,i==null?(x=i=I.precision,s=I.rounding):u?x=i+(n.e-a.e)+1:x=i,x<0)C.push(1),h=!0;else{if(x=x/m+2|0,f=0,b==1){for(d=0,P=P[0],x++;(f<_||d)&&x--;f++)w=d*l+(B[f]||0),C[f]=w/P|0,d=w%P|0;h=d||f<_}else{for(d=l/(P[0]+1)|0,d>1&&(P=t(P,d,l),B=t(B,d,l),b=P.length,_=B.length),g=b,N=B.slice(0,b),M=N.length;M<b;)N[M++]=0;A=P.slice(),A.unshift(0),E=P[0],P[1]>=l/2&&++E;do d=0,o=e(P,N,b,M),o<0?(y=N[0],b!=M&&(y=y*l+(N[1]||0)),d=y/E|0,d>1?(d>=l&&(d=l-1),v=t(P,d,l),T=v.length,M=N.length,o=e(v,N,T,M),o==1&&(d--,r(v,b<T?A:P,T,l))):(d==0&&(o=d=1),v=P.slice()),T=v.length,T<M&&v.unshift(0),r(N,v,M,l),o==-1&&(M=N.length,o=e(P,N,b,M),o<1&&(d++,r(N,b<M?A:P,M,l))),M=N.length):o===0&&(d++,N=[0]),C[f++]=d,o&&N[0]?N[M++]=B[g]||0:(N=[B[g]],M=1);while((g++<_||N[0]!==void 0)&&x--);h=N[0]!==void 0}C[0]||C.shift()}if(m==1)S.e=c,z3=h;else{for(f=1,d=C[0];d>=10;d/=10)f++;S.e=f+c*m-1,Ke(S,u?i+S.e+1:i,s,h)}return S}}();function Ke(t,e,r,n){var a,i,s,u,l,o,c,f,d,m=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(a=1,u=f[0];u>=10;u/=10)a++;if(i=e-a,i<0)i+=et,s=e,c=f[d=0],l=c/Rr(10,a-s-1)%10|0;else if(d=Math.ceil((i+1)/et),u=f.length,d>=u)if(n){for(;u++<=d;)f.push(0);c=l=0,a=1,i%=et,s=i-et+1}else break e;else{for(c=u=f[d],a=1;u>=10;u/=10)a++;i%=et,s=i-et+a,l=s<0?0:c/Rr(10,a-s-1)%10|0}if(n=n||e<0||f[d+1]!==void 0||(s<0?c:c%Rr(10,a-s-1)),o=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(i>0?s>0?c/Rr(10,a-s):0:f[d-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,o?(e-=t.e+1,f[0]=Rr(10,(et-e%et)%et),t.e=-e||0):f[0]=t.e=0,t;if(i==0?(f.length=d,u=1,d--):(f.length=d+1,u=Rr(10,et-i),f[d]=s>0?(c/Rr(10,a-s)%Rr(10,s)|0)*u:0),o)for(;;)if(d==0){for(i=1,s=f[0];s>=10;s/=10)i++;for(s=f[0]+=u,u=1;s>=10;s/=10)u++;i!=u&&(t.e++,f[0]==Ca&&(f[0]=1));break}else{if(f[d]+=u,f[d]!=Ca)break;f[d--]=0,u=1}for(i=f.length;f[--i]===0;)f.pop()}return st&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function Za(t,e,r){if(!t.isFinite())return X3(t);var n,a=t.e,i=en(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+$i(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):a<0?(i="0."+$i(-a-1)+i,r&&(n=r-s)>0&&(i+=$i(n))):a>=s?(i+=$i(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+$i(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=$i(n))),i}function Fh(t,e){var r=t[0];for(e*=et;r>=10;r/=10)e++;return e}function Dm(t,e,r){if(e>Yk)throw st=!0,r&&(t.precision=r),Error(V3);return Ke(new t(Sm),e,1,!0)}function qa(t,e,r){if(e>Ng)throw Error(V3);return Ke(new t(Am),e,r,!0)}function G3(t){var e=t.length-1,r=e*et+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function $i(t){for(var e="";t--;)e+="0";return e}function W3(t,e,r,n){var a,i=new t(1),s=Math.ceil(n/et+4);for(st=!1;;){if(r%2&&(i=i.times(e),jN(i.d,s)&&(a=!0)),r=yn(r/2),r===0){r=i.d.length-1,a&&i.d[r]===0&&++i.d[r];break}e=e.times(e),jN(e.d,s)}return st=!0,i}function BN(t){return t.d[t.d.length-1]&1}function Q3(t,e,r){for(var n,a,i=new t(e[0]),s=0;++s<e.length;){if(a=new t(e[s]),!a.s){i=a;break}n=i.cmp(a),(n===r||n===0&&i.s===r)&&(i=a)}return i}function _g(t,e){var r,n,a,i,s,u,l,o=0,c=0,f=0,d=t.constructor,m=d.rounding,h=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(st=!1,l=h):l=e,u=new d(.03125);t.e>-2;)t=t.times(u),f+=5;for(n=Math.log(Rr(2,f))/Math.LN10*2+5|0,l+=n,r=i=s=new d(1),d.precision=l;;){if(i=Ke(i.times(t),l,1),r=r.times(++c),u=s.plus(tr(i,r,l,1)),en(u.d).slice(0,l)===en(s.d).slice(0,l)){for(a=f;a--;)s=Ke(s.times(s),l,1);if(e==null)if(o<3&&kc(s.d,l-n,m,o))d.precision=l+=10,r=i=u=new d(1),c=0,o++;else return Ke(s,d.precision=h,m,st=!0);else return d.precision=h,s}s=u}}function Qi(t,e){var r,n,a,i,s,u,l,o,c,f,d,m=1,h=10,v=t,T=v.d,S=v.constructor,C=S.rounding,N=S.precision;if(v.s<0||!T||!T[0]||!v.e&&T[0]==1&&T.length==1)return new S(T&&!T[0]?-1/0:v.s!=1?NaN:T?0:v);if(e==null?(st=!1,c=N):c=e,S.precision=c+=h,r=en(T),n=r.charAt(0),Math.abs(i=v.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=en(v.d),n=r.charAt(0),m++;i=v.e,n>1?(v=new S("0."+r),i++):v=new S(n+"."+r.slice(1))}else return o=Dm(S,c+2,N).times(i+""),v=Qi(new S(n+"."+r.slice(1)),c-h).plus(o),S.precision=N,e==null?Ke(v,N,C,st=!0):v;for(f=v,l=s=v=tr(v.minus(1),v.plus(1),c,1),d=Ke(v.times(v),c,1),a=3;;){if(s=Ke(s.times(d),c,1),o=l.plus(tr(s,new S(a),c,1)),en(o.d).slice(0,c)===en(l.d).slice(0,c))if(l=l.times(2),i!==0&&(l=l.plus(Dm(S,c+2,N).times(i+""))),l=tr(l,new S(m),c,1),e==null)if(kc(l.d,c-h,C,u))S.precision=c+=h,o=s=v=tr(f.minus(1),f.plus(1),c,1),d=Ke(v.times(v),c,1),a=u=1;else return Ke(l,S.precision=N,C,st=!0);else return S.precision=N,l;l=o,a+=2}}function X3(t){return String(t.s*t.s/0)}function Od(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(a=e.length;e.charCodeAt(a-1)===48;--a);if(e=e.slice(n,a),e){if(a-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%et,r<0&&(n+=et),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=et;n<a;)t.d.push(+e.slice(n,n+=et));e=e.slice(n),n=et-e.length}else n-=a;for(;n--;)e+="0";t.d.push(+e),st&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function e7(t,e){var r,n,a,i,s,u,l,o,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),H3.test(e))return Od(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Xk.test(e))r=16,e=e.toLowerCase();else if(Qk.test(e))r=2;else if(Kk.test(e))r=8;else throw Error(xs+e);for(i=e.search(/p/i),i>0?(l=+e.slice(i+1),e=e.substring(2,i)):e=e.slice(2),i=e.indexOf("."),s=i>=0,n=t.constructor,s&&(e=e.replace(".",""),u=e.length,i=u-i,a=W3(n,new n(r),i,i*2)),o=Rd(e,r,Ca),c=o.length-1,i=c;o[i]===0;--i)o.pop();return i<0?new n(t.s*0):(t.e=Fh(o,c),t.d=o,st=!1,s&&(t=tr(t,a,u*4)),l&&(t=t.times(Math.abs(l)<54?Rr(2,l):bs.pow(2,l))),st=!0,t)}function t7(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:ju(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Rh(5,r)),e=ju(t,2,e,e);for(var a,i=new t(5),s=new t(16),u=new t(20);r--;)a=e.times(e),e=e.times(i.plus(a.times(s.times(a).minus(u))));return e}function ju(t,e,r,n,a){var i,s,u,l,o=t.precision,c=Math.ceil(o/et);for(st=!1,l=r.times(r),u=new t(n);;){if(s=tr(u.times(l),new t(e++*e++),o,1),u=a?n.plus(s):n.minus(s),n=tr(s.times(l),new t(e++*e++),o,1),s=u.plus(n),s.d[c]!==void 0){for(i=c;s.d[i]===u.d[i]&&i--;);if(i==-1)break}i=u,u=n,n=s,s=i}return st=!0,s.d.length=c+1,s}function Rh(t,e){for(var r=t;--e;)r*=t;return r}function K3(t,e){var r,n=e.s<0,a=qa(t,t.precision,1),i=a.times(.5);if(e=e.abs(),e.lte(i))return fi=n?4:1,e;if(r=e.divToInt(a),r.isZero())fi=n?3:2;else{if(e=e.minus(r.times(a)),e.lte(i))return fi=BN(r)?n?2:3:n?4:1,e;fi=BN(r)?n?1:4:n?3:2}return e.minus(a).abs()}function Cy(t,e,r,n){var a,i,s,u,l,o,c,f,d,m=t.constructor,h=r!==void 0;if(h?(zn(r,1,As),n===void 0?n=m.rounding:zn(n,0,8)):(r=m.precision,n=m.rounding),!t.isFinite())c=X3(t);else{for(c=Za(t),s=c.indexOf("."),h?(a=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):a=e,s>=0&&(c=c.replace(".",""),d=new m(1),d.e=c.length-s,d.d=Rd(Za(d),10,a),d.e=d.d.length),f=Rd(c,10,a),i=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(s<0?i--:(t=new m(t),t.d=f,t.e=i,t=tr(t,d,r,n,0,a),f=t.d,i=t.e,o=z3),s=f[r],u=a/2,o=o||f[r+1]!==void 0,o=n<4?(s!==void 0||o)&&(n===0||n===(t.s<0?3:2)):s>u||s===u&&(n===4||o||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,o)for(;++f[--r]>a-1;)f[r]=0,r||(++i,f.unshift(1));for(l=f.length;!f[l-1];--l);for(s=0,c="";s<l;s++)c+=bg.charAt(f[s]);if(h){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)c+="0";for(f=Rd(c,a,e),l=f.length;!f[l-1];--l);for(s=1,c="1.";s<l;s++)c+=bg.charAt(f[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)c="0"+c;c="0."+c}else if(++i>l)for(i-=l;i--;)c+="0";else i<l&&(c=c.slice(0,i)+"."+c.slice(i))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function jN(t,e){if(t.length>e)return t.length=e,!0}function r7(t){return new this(t).abs()}function n7(t){return new this(t).acos()}function a7(t){return new this(t).acosh()}function i7(t,e){return new this(t).plus(e)}function s7(t){return new this(t).asin()}function o7(t){return new this(t).asinh()}function u7(t){return new this(t).atan()}function l7(t){return new this(t).atanh()}function c7(t,e){t=new this(t),e=new this(e);var r,n=this.precision,a=this.rounding,i=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=qa(this,i,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?qa(this,n,a):new this(0),r.s=t.s):!t.d||e.isZero()?(r=qa(this,i,1).times(.5),r.s=t.s):e.s<0?(this.precision=i,this.rounding=1,r=this.atan(tr(t,e,i,1)),e=qa(this,i,1),this.precision=n,this.rounding=a,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(tr(t,e,i,1)),r}function f7(t){return new this(t).cbrt()}function d7(t){return Ke(t=new this(t),t.e+1,2)}function m7(t,e,r){return new this(t).clamp(e,r)}function h7(t){if(!t||typeof t!="object")throw Error(Ph+"Object expected");var e,r,n,a=t.defaults===!0,i=["precision",1,As,"rounding",0,8,"toExpNeg",-su,0,"toExpPos",0,su,"maxE",0,su,"minE",-su,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(r=i[e],a&&(this[r]=wg[r]),(n=t[r])!==void 0)if(yn(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(xs+r+": "+n);if(r="crypto",a&&(this[r]=wg[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(U3);else this[r]=!1;else throw Error(xs+r+": "+n);return this}function p7(t){return new this(t).cos()}function v7(t){return new this(t).cosh()}function J3(t){var e,r,n;function a(i){var s,u,l,o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,kN(i)){o.s=i.s,st?!i.d||i.e>a.maxE?(o.e=NaN,o.d=null):i.e<a.minE?(o.e=0,o.d=[0]):(o.e=i.e,o.d=i.d.slice()):(o.e=i.e,o.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){o.s=1/i<0?-1:1,o.e=0,o.d=[0];return}if(i<0?(i=-i,o.s=-1):o.s=1,i===~~i&&i<1e7){for(s=0,u=i;u>=10;u/=10)s++;st?s>a.maxE?(o.e=NaN,o.d=null):s<a.minE?(o.e=0,o.d=[0]):(o.e=s,o.d=[i]):(o.e=s,o.d=[i]);return}if(i*0!==0){i||(o.s=NaN),o.e=NaN,o.d=null;return}return Od(o,i.toString())}if(l==="string")return(u=i.charCodeAt(0))===45?(i=i.slice(1),o.s=-1):(u===43&&(i=i.slice(1)),o.s=1),H3.test(i)?Od(o,i):e7(o,i);if(l==="bigint")return i<0?(i=-i,o.s=-1):o.s=1,Od(o,i.toString());throw Error(xs+i)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=h7,a.clone=J3,a.isDecimal=kN,a.abs=r7,a.acos=n7,a.acosh=a7,a.add=i7,a.asin=s7,a.asinh=o7,a.atan=u7,a.atanh=l7,a.atan2=c7,a.cbrt=f7,a.ceil=d7,a.clamp=m7,a.cos=p7,a.cosh=v7,a.div=g7,a.exp=y7,a.floor=x7,a.hypot=b7,a.ln=w7,a.log=N7,a.log10=E7,a.log2=_7,a.max=S7,a.min=A7,a.mod=D7,a.mul=C7,a.pow=T7,a.random=M7,a.round=I7,a.sign=P7,a.sin=F7,a.sinh=R7,a.sqrt=O7,a.sub=B7,a.sum=j7,a.tan=k7,a.tanh=$7,a.trunc=L7,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function g7(t,e){return new this(t).div(e)}function y7(t){return new this(t).exp()}function x7(t){return Ke(t=new this(t),t.e+1,3)}function b7(){var t,e,r=new this(0);for(st=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return st=!0,new this(1/0);r=e}return st=!0,r.sqrt()}function kN(t){return t instanceof bs||t&&t.toStringTag===q3||!1}function w7(t){return new this(t).ln()}function N7(t,e){return new this(t).log(e)}function _7(t){return new this(t).log(2)}function E7(t){return new this(t).log(10)}function S7(){return Q3(this,arguments,-1)}function A7(){return Q3(this,arguments,1)}function D7(t,e){return new this(t).mod(e)}function C7(t,e){return new this(t).mul(e)}function T7(t,e){return new this(t).pow(e)}function M7(t){var e,r,n,a,i=0,s=new this(1),u=[];if(t===void 0?t=this.precision:zn(t,1,As),n=Math.ceil(t/et),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));i<n;)a=e[i],a>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:u[i++]=a%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);i<n;)a=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((e[i+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(e,i):(u.push(a%1e7),i+=4);i=n/4}else throw Error(U3);else for(;i<n;)u[i++]=Math.random()*1e7|0;for(n=u[--i],t%=et,n&&t&&(a=Rr(10,et-t),u[i]=(n/a|0)*a);u[i]===0;i--)u.pop();if(i<0)r=0,u=[0];else{for(r=-1;u[0]===0;r-=et)u.shift();for(n=1,a=u[0];a>=10;a/=10)n++;n<et&&(r-=et-n)}return s.e=r,s.d=u,s}function I7(t){return Ke(t=new this(t),t.e+1,this.rounding)}function P7(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function F7(t){return new this(t).sin()}function R7(t){return new this(t).sinh()}function O7(t){return new this(t).sqrt()}function B7(t,e){return new this(t).sub(e)}function j7(){var t=0,e=arguments,r=new this(e[t]);for(st=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return st=!0,Ke(r,this.precision,this.rounding)}function k7(t){return new this(t).tan()}function $7(t){return new this(t).tanh()}function L7(t){return Ke(t=new this(t),t.e+1,1)}Ae[Symbol.for("nodejs.util.inspect.custom")]=Ae.toString;Ae[Symbol.toStringTag]="Decimal";var bs=Ae.constructor=J3(wg);Sm=new bs(Sm);Am=new bs(Am);var z7="BigNumber",V7=["?on","config"],U7=Q(z7,V7,t=>{var{on:e,config:r}=t,n=bs.clone({precision:r.precision,modulo:bs.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(a){return new n(a.value)},e&&e("config",function(a,i){a.precision!==i.precision&&n.config({precision:a.precision})}),n},{isClass:!0});const dn=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},ra=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},q7=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Wp=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},$o=function(){throw SyntaxError("Invalid Param")};function Qp(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const H7={re:0,im:0},qs=function(t,e){const r=H7;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return xe.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return xe.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):$o();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let a=1,i=0;n===null&&$o();for(let s=0;s<n.length;s++){const u=n[s];u===" "||u==="	"||u===`
`||(u==="+"?a++:u==="-"?i++:u==="i"||u==="I"?(a+i===0&&$o(),n[s+1]!==" "&&!isNaN(n[s+1])?(r.im+=parseFloat((i%2?"-":"")+n[s+1]),s++):r.im+=parseFloat((i%2?"-":"")+"1"),a=i=0):((a+i===0||isNaN(u))&&$o(),n[s+1]==="i"||n[s+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+u),s++):r.re+=parseFloat((i%2?"-":"")+u),a=i=0))}a+i>0&&$o();break;case"number":r.im=0,r.re=t;break;default:$o()}return isNaN(r.re)||isNaN(r.im),r};function xe(t,e){if(!(this instanceof xe))return new xe(t,e);const r=qs(t,e);this.re=r.re,this.im=r.im}xe.prototype={re:0,im:0,sign:function(){const t=Wp(this.re,this.im);return new xe(this.re/t,this.im/t)},add:function(t,e){const r=qs(t,e),n=this.isInfinite(),a=!(isFinite(r.re)&&isFinite(r.im));return n||a?n&&a?xe.NAN:xe.INFINITY:new xe(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=qs(t,e),n=this.isInfinite(),a=!(isFinite(r.re)&&isFinite(r.im));return n||a?n&&a?xe.NAN:xe.INFINITY:new xe(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=qs(t,e),n=this.isInfinite(),a=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,s=r.re===0&&r.im===0;return n&&s||a&&i?xe.NAN:n||a?xe.INFINITY:r.im===0&&this.im===0?new xe(this.re*r.re,0):new xe(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=qs(t,e),n=this.isInfinite(),a=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,s=r.re===0&&r.im===0;if(i&&s||n&&a)return xe.NAN;if(s||n)return xe.INFINITY;if(i||a)return xe.ZERO;if(r.im===0)return new xe(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const u=r.re/r.im,l=r.re*u+r.im;return new xe((this.re*u+this.im)/l,(this.im*u-this.re)/l)}else{const u=r.im/r.re,l=r.im*u+r.re;return new xe((this.re+this.im*u)/l,(this.im-this.re*u)/l)}},pow:function(t,e){const r=qs(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return xe.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new xe(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new xe(Math.pow(this.im,r.re),0);case 1:return new xe(0,Math.pow(this.im,r.re));case 2:return new xe(-Math.pow(this.im,r.re),0);case 3:return new xe(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return xe.ZERO;const i=Math.atan2(this.im,this.re),s=Qp(this.re,this.im);let u=Math.exp(r.re*s-r.im*i),l=r.im*s+r.re*i;return new xe(u*Math.cos(l),u*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new xe(Math.sqrt(t),0):new xe(0,Math.sqrt(-t));const r=Wp(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),a=Math.abs(e)/(2*n);return t>=0?new xe(n,e<0?-a:a):new xe(a,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new xe(t,0):new xe(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new xe(Math.expm1(t)*Math.cos(e)+q7(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new xe(Math.log(t),0):new xe(Qp(t,e),Math.atan2(e,t))},abs:function(){return Wp(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new xe(Math.sin(t)*dn(e),Math.cos(t)*ra(e))},cos:function(){const t=this.re,e=this.im;return new xe(Math.cos(t)*dn(e),-Math.sin(t)*ra(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+dn(e);return new xe(Math.sin(t)/r,ra(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-dn(e);return new xe(-Math.sin(t)/r,ra(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*dn(2*e)+.5*Math.cos(2*t);return new xe(Math.cos(t)*dn(e)/r,Math.sin(t)*ra(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*dn(2*e)-.5*Math.cos(2*t);return new xe(Math.sin(t)*dn(e)/r,-Math.cos(t)*ra(e)/r)},asin:function(){const t=this.re,e=this.im,r=new xe(e*e-t*t+1,-2*t*e).sqrt(),n=new xe(r.re-e,r.im+t).log();return new xe(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new xe(e*e-t*t+1,-2*t*e).sqrt(),n=new xe(r.re-e,r.im+t).log();return new xe(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new xe(0,1/0);if(e===-1)return new xe(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new xe((1-e*e-t*t)/r,-2*t/r).log();return new xe(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new xe(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).atan():new xe(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(0,1/0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).acos():new xe(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).asin():new xe(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new xe(ra(t)*Math.cos(e),dn(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new xe(dn(t)*Math.cos(e),ra(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=dn(t)+Math.cos(e);return new xe(ra(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=dn(t)-Math.cos(e);return new xe(ra(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-dn(2*t);return new xe(-2*ra(t)*Math.cos(e)/r,2*dn(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+dn(2*t);return new xe(2*dn(t)*Math.cos(e)/r,-2*ra(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,a=1+t,i=n*n+e*e,s=i!==0?new xe((a*n-e*e)/i,(e*n+a*e)/i):new xe(t!==-1?t/0:0,e!==0?e/0:0),u=s.re;return s.re=Qp(s.re,s.im)/2,s.im=Math.atan2(s.im,u)/2,r&&(s.im=-s.im),s},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(0,Math.PI/2);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).atanh():new xe(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new xe(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).asinh():new xe(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return xe.INFINITY;const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).acosh():new xe(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return xe.INFINITY;if(this.isInfinite())return xe.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new xe(t/r,-e/r)},conjugate:function(){return new xe(this.re,-this.im)},neg:function(){return new xe(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new xe(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new xe(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new xe(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=qs(t,e);return Math.abs(r.re-this.re)<=xe.EPSILON&&Math.abs(r.im-this.im)<=xe.EPSILON},clone:function(){return new xe(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<xe.EPSILON&&(t=0),Math.abs(e)<xe.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};xe.ZERO=new xe(0,0);xe.ONE=new xe(1,0);xe.I=new xe(0,1);xe.PI=new xe(Math.PI,0);xe.E=new xe(Math.E,0);xe.INFINITY=new xe(1/0,1/0);xe.NAN=new xe(NaN,NaN);xe.EPSILON=1e-15;var G7="Complex",W7=[],Q7=Q(G7,W7,()=>(Object.defineProperty(xe,"name",{value:"Complex"}),xe.prototype.constructor=xe,xe.prototype.type="Complex",xe.prototype.isComplex=!0,xe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},xe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},xe.prototype.format=function(t){var e="",r=this.im,n=this.re,a=eo(this.re,t),i=eo(this.im,t),s=Xe(t)?t:t?t.precision:null;if(s!==null){var u=Math.pow(10,-s);Math.abs(n/r)<u&&(n=0),Math.abs(r/n)<u&&(r=0)}return r===0?e=a:n===0?r===1?e="i":r===-1?e="-i":e=i+"i":r<0?r===-1?e=a+" - i":e=a+" - "+i.substring(1)+"i":r===1?e=a+" + i":e=a+" + "+i+"i",e},xe.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return xe(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Xe(r)){if(Gn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Xe(n))return new xe({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},xe.prototype.valueOf=xe.prototype.toString,xe.fromJSON=function(t){return new xe(t)},xe.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},xe),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const Qe=BigInt(0),xt=BigInt(1),qr=BigInt(2),sc=BigInt(3),ou=BigInt(5),Fn=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const X7=2e3,$e={s:xt,n:Qe,d:xt};function ii(t,e){try{t=BigInt(t)}catch{throw Bi()}return t*e}function ba(t){return typeof t=="bigint"?t:Math.floor(t)}function lr(t,e){if(e===Qe)throw Ty();const r=Object.create(na.prototype);r.s=t<Qe?-xt:xt,t=t<Qe?-t:t;const n=Hs(t,e);return r.n=t/n,r.d=e/n,r}const K7=[qr*qr,qr,qr*qr,qr,qr*qr,qr*sc,qr,qr*sc];function Lo(t){const e=Object.create(null);if(t<=xt)return e[t]=xt,e;const r=n=>{e[n]=(e[n]||Qe)+xt};for(;t%qr===Qe;)r(qr),t/=qr;for(;t%sc===Qe;)r(sc),t/=sc;for(;t%ou===Qe;)r(ou),t/=ou;for(let n=0,a=qr+ou;a*a<=t;){for(;t%a===Qe;)r(a),t/=a;a+=K7[n],n=n+1&7}return t>xt&&r(t),e}const Ur=function(t,e){let r=Qe,n=xt,a=xt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw Bi();if(t%1!==0)throw $N();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Bi();if(e%1!==0)throw $N();n=BigInt(e)}a=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw Bi();a=r*n}else if(typeof t=="number"){if(isNaN(t))throw Bi();if(t<0&&(a=-xt,t=-t),t%1===0)r=BigInt(t);else{let i=1,s=0,u=1,l=1,o=1,c=1e7;for(t>=1&&(i=10**Math.floor(1+Math.log10(t)),t/=i);u<=c&&o<=c;){let f=(s+l)/(u+o);if(t===f){u+o<=c?(r=s+l,n=u+o):o>u?(r=l,n=o):(r=s,n=u);break}else t>f?(s+=l,u+=o):(l+=s,o+=u),u>c?(r=l,n=o):(r=s,n=u)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof t=="string"){let i=0,s=Qe,u=Qe,l=Qe,o=xt,c=xt,f=t.replace(/_/g,"").match(/\d+|./g);if(f===null)throw Bi();if(f[i]==="-"?(a=-xt,i++):f[i]==="+"&&i++,f.length===i+1?u=ii(f[i++],a):f[i+1]==="."||f[i]==="."?(f[i]!=="."&&(s=ii(f[i++],a)),i++,(i+1===f.length||f[i+1]==="("&&f[i+3]===")"||f[i+1]==="'"&&f[i+3]==="'")&&(u=ii(f[i],a),o=Fn**BigInt(f[i].length),i++),(f[i]==="("&&f[i+2]===")"||f[i]==="'"&&f[i+2]==="'")&&(l=ii(f[i+1],a),c=Fn**BigInt(f[i+1].length)-xt,i+=3)):f[i+1]==="/"||f[i+1]===":"?(u=ii(f[i],a),o=ii(f[i+2],xt),i+=3):f[i+3]==="/"&&f[i+1]===" "&&(s=ii(f[i],a),u=ii(f[i+2],a),o=ii(f[i+4],xt),i+=5),f.length<=i)n=o*c,a=r=l+n*s+c*u;else throw Bi()}else if(typeof t=="bigint")r=t,a=t,n=xt;else throw Bi();if(n===Qe)throw Ty();$e.s=a<Qe?-xt:xt,$e.n=r<Qe?-r:r,$e.d=n<Qe?-n:n};function J7(t,e,r){let n=xt;for(;e>Qe;t=t*t%r,e>>=xt)e&xt&&(n=n*t%r);return n}function Y7(t,e){for(;e%qr===Qe;e/=qr);for(;e%ou===Qe;e/=ou);if(e===xt)return Qe;let r=Fn%e,n=1;for(;r!==xt;n++)if(r=r*Fn%e,n>X7)return Qe;return BigInt(n)}function Z7(t,e,r){let n=xt,a=J7(Fn,r,e);for(let i=0;i<300;i++){if(n===a)return BigInt(i);n=n*Fn%e,a=a*Fn%e}return 0}function Hs(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function na(t,e){if(Ur(t,e),this instanceof na)t=Hs($e.d,$e.n),this.s=$e.s,this.n=$e.n/t,this.d=$e.d/t;else return lr($e.s*$e.n,$e.d)}const Ty=function(){return new Error("Division by Zero")},Bi=function(){return new Error("Invalid argument")},$N=function(){return new Error("Parameters must be integer")};na.prototype={s:xt,n:Qe,d:xt,abs:function(){return lr(this.n,this.d)},neg:function(){return lr(-this.s*this.n,this.d)},add:function(t,e){return Ur(t,e),lr(this.s*this.n*$e.d+$e.s*this.d*$e.n,this.d*$e.d)},sub:function(t,e){return Ur(t,e),lr(this.s*this.n*$e.d-$e.s*this.d*$e.n,this.d*$e.d)},mul:function(t,e){return Ur(t,e),lr(this.s*$e.s*this.n*$e.n,this.d*$e.d)},div:function(t,e){return Ur(t,e),lr(this.s*$e.s*this.n*$e.d,this.d*$e.n)},clone:function(){return lr(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return lr(this.s*this.n%this.d,xt);if(Ur(t,e),Qe===$e.n*this.d)throw Ty();return lr(this.s*($e.d*this.n)%($e.n*this.d),$e.d*this.d)},gcd:function(t,e){return Ur(t,e),lr(Hs($e.n,this.n)*Hs($e.d,this.d),$e.d*this.d)},lcm:function(t,e){return Ur(t,e),$e.n===Qe&&this.n===Qe?lr(Qe,xt):lr($e.n*this.n,Hs($e.n,this.n)*Hs($e.d,this.d))},inverse:function(){return lr(this.s*this.d,this.n)},pow:function(t,e){if(Ur(t,e),$e.d===xt)return $e.s<Qe?lr((this.s*this.d)**$e.n,this.n**$e.n):lr((this.s*this.n)**$e.n,this.d**$e.n);if(this.s<Qe)return null;let r=Lo(this.n),n=Lo(this.d),a=xt,i=xt;for(let s in r)if(s!=="1"){if(s==="0"){a=Qe;break}if(r[s]*=$e.n,r[s]%$e.d===Qe)r[s]/=$e.d;else return null;a*=BigInt(s)**r[s]}for(let s in n)if(s!=="1"){if(n[s]*=$e.n,n[s]%$e.d===Qe)n[s]/=$e.d;else return null;i*=BigInt(s)**n[s]}return $e.s<Qe?lr(i,a):lr(a,i)},log:function(t,e){if(Ur(t,e),this.s<=Qe||$e.s<=Qe)return null;const r=Object.create(null),n=Lo($e.n),a=Lo($e.d),i=Lo(this.n),s=Lo(this.d);for(const o in a)n[o]=(n[o]||Qe)-a[o];for(const o in s)i[o]=(i[o]||Qe)-s[o];for(const o in n)o!=="1"&&(r[o]=!0);for(const o in i)o!=="1"&&(r[o]=!0);let u=null,l=null;for(const o in r){const c=n[o]||Qe,f=i[o]||Qe;if(c===Qe){if(f!==Qe)return null;continue}let d=f,m=c;const h=Hs(d,m);if(d/=h,m/=h,u===null&&l===null)u=d,l=m;else if(d*l!==u*m)return null}return u!==null&&l!==null?lr(u,l):null},equals:function(t,e){return Ur(t,e),this.s*this.n*$e.d===$e.s*$e.n*this.d},lt:function(t,e){return Ur(t,e),this.s*this.n*$e.d<$e.s*$e.n*this.d},lte:function(t,e){return Ur(t,e),this.s*this.n*$e.d<=$e.s*$e.n*this.d},gt:function(t,e){return Ur(t,e),this.s*this.n*$e.d>$e.s*$e.n*this.d},gte:function(t,e){return Ur(t,e),this.s*this.n*$e.d>=$e.s*$e.n*this.d},compare:function(t,e){Ur(t,e);let r=this.s*this.n*$e.d-$e.s*$e.n*this.d;return(Qe<r)-(r<Qe)},ceil:function(t){return t=Fn**BigInt(t||0),lr(ba(this.s*t*this.n/this.d)+(t*this.n%this.d>Qe&&this.s>=Qe?xt:Qe),t)},floor:function(t){return t=Fn**BigInt(t||0),lr(ba(this.s*t*this.n/this.d)-(t*this.n%this.d>Qe&&this.s<Qe?xt:Qe),t)},round:function(t){return t=Fn**BigInt(t||0),lr(ba(this.s*t*this.n/this.d)+this.s*((this.s>=Qe?xt:Qe)+qr*(t*this.n%this.d)>this.d?xt:Qe),t)},roundTo:function(t,e){Ur(t,e);const r=this.n*$e.d,n=this.d*$e.n,a=r%n;let i=ba(r/n);return a+a>=n&&i++,lr(this.s*i*$e.n,$e.d)},divisible:function(t,e){return Ur(t,e),$e.n===Qe?!1:this.n*$e.d%($e.n*this.d)===Qe},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t=15){let e=this.n,r=this.d,n=Y7(e,r),a=Z7(e,r,n),i=this.s<Qe?"-":"";if(i+=ba(e/r),e%=r,e*=Fn,e&&(i+="."),n){for(let s=a;s--;)i+=ba(e/r),e%=r,e*=Fn;i+="(";for(let s=n;s--;)i+=ba(e/r),e%=r,e*=Fn;i+=")"}else for(let s=t;e&&s--;)i+=ba(e/r),e%=r,e*=Fn;return i},toFraction:function(t=!1){let e=this.n,r=this.d,n=this.s<Qe?"-":"";if(r===xt)n+=e;else{const a=ba(e/r);t&&a>Qe&&(n+=a,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t=!1){let e=this.n,r=this.d,n=this.s<Qe?"-":"";if(r===xt)n+=e;else{const a=ba(e/r);t&&a>Qe&&(n+=a,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d;const r=[];for(;e;){r.push(ba(t/e));const n=t%e;t=e,e=n}return r},simplify:function(t=.001){const e=BigInt(Math.ceil(1/t)),r=this.abs(),n=r.toContinued();for(let a=1;a<n.length;a++){let i=lr(n[a-1],xt);for(let u=a-2;u>=0;u--)i=i.inverse().add(n[u]);let s=i.sub(r);if(s.n*e<s.d)return i.mul(this.s)}return this}};var e$="Fraction",t$=[],r$=Q(e$,t$,()=>(Object.defineProperty(na,"name",{value:"Fraction"}),na.prototype.constructor=na,na.prototype.type="Fraction",na.prototype.isFraction=!0,na.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},na.fromJSON=function(t){return new na(t)},na),{isClass:!0}),n$="Range",a$=[],i$=Q(n$,a$,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var a=e!=null,i=r!=null,s=n!=null;if(a){if(ut(e))e=e.toNumber();else if(typeof e!="number"&&!ic(e))throw new TypeError("Parameter start must be a number or bigint")}if(i){if(ut(r))r=r.toNumber();else if(typeof r!="number"&&!ic(r))throw new TypeError("Parameter end must be a number or bigint")}if(s){if(ut(n))n=n.toNumber();else if(typeof n!="number"&&!ic(n))throw new TypeError("Parameter step must be a number or bigint")}if(this.start=a?parseFloat(e):0,this.end=i?parseFloat(r):0,this.step=s?parseFloat(n):1,s&&Kr(this.step,0))throw new Error("Step must not be zero")}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(i){return parseFloat(i)}),a=n.some(function(i){return isNaN(i)});if(a)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,a=this.end,i=a-r;return Wi(n)===Wi(i)?e=Math.ceil(i/n):i===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,a=this.end,i=0;if(n>0)for(;r<a;)e(r,[i],this),r+=n,i++;else if(n<0)for(;r>a;)e(r,[i],this),r+=n,i++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,a,i){r[a[0]]=e(n,a,i)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=eo(this.start,e);return this.step!==1&&(r+=":"+eo(this.step,e)),r+=":"+eo(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),s$="Matrix",o$=[],u$=Q(s$,o$,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function Xp(t,e,r){var n=t.constructor,a=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(t.greaterThan(a.pow(r-1).sub(1))||t.lessThan(a.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(a.pow(r))),i="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function l$(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:a}=j3(e);switch(r){case"fixed":return f$(t,n);case"exponential":return LN(t,n);case"engineering":return c$(t,n);case"bin":return Xp(t,2,a);case"oct":return Xp(t,8,a);case"hex":return Xp(t,16,a);case"auto":{var i=zN(e==null?void 0:e.lowerExp,-3),s=zN(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var u,l=t.toSignificantDigits(n),o=l.e;return o>=i&&o<s?u=l.toFixed():u=LN(t,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function c$(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,a=t.mul(Math.pow(10,-n)),i=a.toPrecision(e);if(i.includes("e")){var s=t.constructor;i=new s(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function LN(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function f$(t,e){return t.toFixed(e)}function zN(t,e){return Xe(t)?t:ut(t)?t.toNumber():e}function d$(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function pt(t,e){var r=m$(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function m$(t,e){if(typeof t=="number")return eo(t,e);if(ut(t))return l$(t,e);if(h$(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return Y3(t,e);if(yr(t))return uu(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>uu(n)+": "+pt(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function uu(t){for(var e=String(t),r="",n=0;n<e.length;){var a=e.charAt(n);r+=a in VN?VN[a]:a,n++}return'"'+r+'"'}var VN={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function la(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function Y3(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,a=0;a<n;a++)a!==0&&(r+=", "),r+=Y3(t[a],e);return r+="]",r}else return pt(t,e)}function h$(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function Eg(t,e){if(!yr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Xt(t)+", index: 0)");if(!yr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Xt(e)+", index: 1)");return t===e?0:t>e?1:-1}function mt(t,e,r){if(!(this instanceof mt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}mt.prototype=new RangeError;mt.prototype.constructor=RangeError;mt.prototype.name="DimensionError";mt.prototype.isDimensionError=!0;function Ia(t,e,r){if(!(this instanceof Ia))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ia.prototype=new RangeError;Ia.prototype.constructor=RangeError;Ia.prototype.name="IndexError";Ia.prototype.isIndexError=!0;function at(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Z3(t,e,r){var n,a=t.length;if(a!==e[r])throw new mt(a,e[r]);if(r<e.length-1){var i=r+1;for(n=0;n<a;n++){var s=t[n];if(!Array.isArray(s))throw new mt(e.length-1,e.length,"<");Z3(t[n],e,i)}}else for(n=0;n<a;n++)if(Array.isArray(t[n]))throw new mt(e.length+1,e.length,">")}function UN(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new mt(t.length,0)}else Z3(t,e,0)}function Cm(t,e){var r=t.isMatrix?t._size:at(t),n=e._sourceSize;n.forEach((a,i)=>{if(a!==null&&a!==r[i])throw new mt(a,r[i])})}function Yt(t,e){if(t!==void 0){if(!Xe(t)||!We(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Ia(t,e)}}function ku(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Wt(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(yr(r)&&r.length===0)return!0}return!1}function $u(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(a){if(!Xe(a)||!We(a)||a<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(e)+")")}),(Xe(t)||ut(t))&&(t=[t]);var n=r!==void 0?r:0;return Sg(t,e,0,n),t}function Sg(t,e,r,n){var a,i,s=t.length,u=e[r],l=Math.min(s,u);if(t.length=u,r<e.length-1){var o=r+1;for(a=0;a<l;a++)i=t[a],Array.isArray(i)||(i=[i],t[a]=i),Sg(i,e,o,n);for(a=l;a<u;a++)i=[],t[a]=i,Sg(i,e,o,n)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=l;a<u;a++)t[a]=n}}function My(t,e){var r=Ct(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new mt(0,n,"!=");e=Iy(e,n);var a=eM(e);if(n!==a)throw new mt(a,n,"!=");try{return p$(r,e)}catch(i){throw i instanceof mt?new mt(a,n,"!="):i}}function Iy(t,e){var r=eM(t),n=t.slice(),a=-1,i=t.indexOf(a),s=t.indexOf(a,i+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var u=i>=0,l=e%r===0;if(u)if(l)n[i]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function eM(t){return t.reduce((e,r)=>e*r,1)}function p$(t,e){for(var r=t,n,a=e.length-1;a>0;a--){var i=e[a];n=[];for(var s=r.length/i,u=0;u<s;u++)n.push(r.slice(u*i,(u+1)*i));r=n}return r}function Tm(t,e){for(var r=at(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=tM(t,n,0),r.length=n),t}function tM(t,e,r){var n,a;if(r<e){var i=r+1;for(n=0,a=t.length;n<a;n++)t[n]=tM(t[n],e,i)}else for(;Array.isArray(t);)t=t[0];return t}function rM(t,e,r,n){var a=n||at(t);if(r)for(var i=0;i<r;i++)t=[t],a.unshift(1);for(t=nM(t,e,0);a.length<e;)a.push(1);return t}function nM(t,e,r){var n,a;if(Array.isArray(t)){var i=r+1;for(n=0,a=t.length;n<a;n++)t[n]=nM(t[n],e,i)}else for(var s=r;s<e;s++)t=[t];return t}function Ct(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?a(t):n(t),r;function n(i){for(var s=0;s<i.length;s++){var u=i[s];Array.isArray(u)?n(u):r.push(u)}}function a(i){if(Array.isArray(i[0]))for(var s=0;s<i.length;s++)a(i[s]);else for(var u=0;u<i.length;u++)r.push(i[u])}}function ls(t,e){return Array.prototype.map.call(t,e)}function aM(t,e){Array.prototype.forEach.call(t,e)}function qN(t,e){if(at(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function HN(t,e){if(at(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function GN(t,e){return Array.prototype.join.call(t,e)}function Lu(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Mm(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Oh(t,e){for(var r,n=0,a=0;a<t.length;a++){var i=t[a],s=Array.isArray(i);if(a===0&&s&&(n=i.length),s&&i.length!==n)return;var u=s?Oh(i,e):e(i);if(r===void 0)r=u;else if(r!==u)return"mixed"}return r}function iM(t,e,r,n){if(n<r){if(t.length!==e.length)throw new mt(t.length,e.length);for(var a=[],i=0;i<t.length;i++)a[i]=iM(t[i],e[i],r,n+1);return a}else return t.concat(e)}function sM(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return iM(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Im(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(d=>d.length),a=Math.max(...n),i=new Array(a).fill(null),s=0;s<e.length;s++)for(var u=e[s],l=n[s],o=0;o<l;o++){var c=a-l+o;u[o]>i[c]&&(i[c]=u[o])}for(var f=0;f<e.length;f++)oM(e[f],i);return i}function oM(t,e){for(var r=e.length,n=t.length,a=0;a<n;a++){var i=r-n+a;if(t[a]<e[i]&&t[a]>1||t[a]>e[i])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[a]," to size ").concat(e[i]))}}function Js(t,e){var r=at(t);if(Ei(r,e))return t;oM(r,e);var n=Im(r,e),a=n.length,i=[...Array(a-r.length).fill(1),...r],s=g$(t);r.length<a&&(s=My(s,i),r=at(s));for(var u=0;u<a;u++)r[u]<n[u]&&(s=v$(s,n[u],u),r=at(s));return s}function v$(t,e,r){return sM(...Array(e).fill(t),r)}function Pm(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=at(t);if(e.length!==r.length)throw new mt(e.length,r.length);for(var n=0;n<e.length;n++)Yt(e[n],r[n]);return e.reduce((a,i)=>a[i],t)}function Ag(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return i(t);var n=[];return a(t,0);function a(s,u){if(Array.isArray(s)){for(var l=s.length,o=Array(l),c=0;c<l;c++)n[u]=c,o[c]=a(s[c],u+1);return o}else return e(s,n.slice(0,u),t)}function i(s){if(Array.isArray(s)){for(var u=s.length,l=Array(u),o=0;o<u;o++)l[o]=i(s[o]);return l}else return e(s)}}function uM(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){i(t);return}var n=[];a(t,0);function a(s,u){if(Array.isArray(s))for(var l=s.length,o=0;o<l;o++)n[u]=o,a(s[o],u+1);else e(s,n.slice(0,u),t)}function i(s){if(Array.isArray(s))for(var u=s.length,l=0;l<u;l++)i(s[l]);else e(s)}}function g$(t){return Nr([],t)}function lo(t,e,r,n){if(Em.isTypedFunction(t)){var a;if(n)a=1;else{var i=(e.isMatrix?e.size():at(e)).map(()=>0),s=e.isMatrix?e.get(i):Pm(e,i);a=b$(t,s,i,e)}var u;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=y$(t,a);u=l!==void 0?l:t}else u=t;return a>=1&&a<=3?{isUnary:a===1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return WN(u,f.slice(0,a),r,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return WN(u,f,r,t.name)}}}return n===void 0?{isUnary:x$(t),fn:t}:{isUnary:n,fn:t}}function y$(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[a,i]=n;a.split(",").length===e&&r.push(i)}),r.length===1)return r[0]}function x$(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function b$(t,e,r,n){for(var a=[e,r,n],i=3;i>0;i--){var s=a.slice(0,i);if(Em.resolve(t,s)!==null)return i}}function WN(t,e,r,n){try{return t(...e)}catch(a){w$(a,e,r,n)}}function w$(t,e,r,n){var a;if(t instanceof TypeError&&((a=t.data)===null||a===void 0?void 0:a.category)==="wrongType"){var i=[];throw i.push("value: ".concat(Xt(e[0]))),e.length>=2&&i.push("index: ".concat(Xt(e[1]))),e.length>=3&&i.push("array: ".concat(Xt(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var N$="DenseMatrix",_$=["Matrix","config"],E$=Q(N$,_$,t=>{var{Matrix:e,config:r}=t;function n(f,d){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!yr(d))throw new Error("Invalid datatype: "+d);if(Ye(f))f.type==="DenseMatrix"?(this._data=nt(f._data),this._size=nt(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Wt(f.data)&&Wt(f.size))this._data=f.data,this._size=f.size,UN(this._data,this._size),this._datatype=d||f.datatype;else if(Wt(f))this._data=c(f),this._size=at(this._data),UN(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+Xt(f)+")");this._data=[],this._size=[0],this._datatype=d}}n.prototype=new e,n.prototype.createDenseMatrix=function(f,d){return new n(f,d)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Oh(this._data,Xt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,d){return new n(f,d)},n.prototype.subset=function(f,d,m){switch(arguments.length){case 1:return a(this,f);case 2:case 3:return s(this,f,d,m);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(f){return Pm(this._data,f)},n.prototype.set=function(f,d,m){if(!Wt(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new mt(f.length,this._size.length,"<");var h,v,T,S=f.map(function(N){return N+1});o(this,S,m);var C=this._data;for(h=0,v=f.length-1;h<v;h++)T=f[h],Yt(T,C.length),C=C[T];return T=f[f.length-1],Yt(T,C.length),C[T]=d,this};function a(f,d){if(!Ch(d))throw new TypeError("Invalid index");var m=r.legacySubset?d.size().every(y=>y===1):d.isScalar();if(m)return f.get(d.min());var h=d.size();if(h.length!==f._size.length)throw new mt(h.length,f._size.length);for(var v=d.min(),T=d.max(),S=0,C=f._size.length;S<C;S++)Yt(v[S],f._size[S]),Yt(T[S],f._size[S]);var N=new n,M=i(f._data,d);return N._size=M.size,N._datatype=f._datatype,N._data=M.data,r.legacySubset?N.reshape(d.size()):N}function i(f,d){var m=d.size().length-1,h=Array(m);return{data:v(f),size:h.filter(T=>T!==null)};function v(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=d.dimension(S);function N(M,y){return Xe(M)?y(M):M.map(y).valueOf()}return Xe(C)?h[S]=null:h[S]=C.size()[0],S<m?N(C,M=>(Yt(M,T.length),v(T[M],S+1))):N(C,M=>(Yt(M,T.length),T[M]))}}function s(f,d,m,h){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var v=d.size(),T=d.isScalar(),S;if(Ye(m)?(S=m.size(),m=m.valueOf()):S=at(m),T){if(S.length!==0)throw new TypeError("Scalar expected");f.set(d.min(),m,h)}else{if(!Ei(S,v)){if(S.length===0)m=Js([m],v);else try{m=Js(m,v)}catch{}S=at(m)}if(v.length<f._size.length)throw new mt(v.length,f._size.length,"<");if(S.length<v.length){for(var C=0,N=0;v[C]===1&&S[C]===1;)C++;for(;v[C]===1;)N++,C++;m=rM(m,v.length,N,S)}if(!Ei(v,S))throw new mt(v,S,">");var M=d.max().map(function(y){return y+1});o(f,M,h),u(f._data,d,m)}return f}function u(f,d,m){var h=d.size().length-1;v(f,m);function v(T,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,N=d.dimension(C),M=(x,w)=>{Yt(x,T.length),v(T[x],S[w[0]],C+1)},y=(x,w)=>{Yt(x,T.length),T[x]=S[w[0]]};C<h?Xe(N)?M(N,[0]):N.forEach(M):Xe(N)?y(N,[0]):N.forEach(y)}}n.prototype.resize=function(f,d,m){if(!Kn(f))throw new TypeError("Array or Matrix expected");var h=f.valueOf().map(T=>Array.isArray(T)&&T.length===1?T[0]:T),v=m?this.clone():this;return l(v,h,d)};function l(f,d,m){if(d.length===0){for(var h=f._data;Wt(h);)h=h[0];return h}return f._size=d.slice(0),f._data=$u(f._data,f._size,m),f}n.prototype.reshape=function(f,d){var m=d?this.clone():this;m._data=My(m._data,f);var h=m._size.reduce((v,T)=>v*T);return m._size=Iy(f,h),m};function o(f,d,m){for(var h=f._size.slice(0),v=!1;h.length<d.length;)h.push(0),v=!0;for(var T=0,S=d.length;T<S;T++)d[T]>h[T]&&(h[T]=d[T],v=!0);v&&l(f,h,m)}n.prototype.clone=function(){var f=new n({data:nt(this._data),size:nt(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,h=m._size.length-1;if(h<0)return m.clone();var v=lo(f,m,"map",d),T=v.fn,S=m.create(void 0,m._datatype);if(S._size=m._size,d||v.isUnary)return S._data=w(m._data),S;if(h===0){for(var C=m.valueOf(),N=Array(C.length),M=0;M<C.length;M++)N[M]=T(C[M],[M],m);return S._data=N,S}var y=[];return S._data=x(m._data),S;function x(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=Array(g.length);if(_<h)for(var b=0;b<g.length;b++)y[_]=b,E[b]=x(g[b],_+1);else for(var A=0;A<g.length;A++)y[_]=A,E[A]=T(g[A],y.slice(),m);return E}function w(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=Array(g.length);if(_<h)for(var b=0;b<g.length;b++)E[b]=w(g[b],_+1);else for(var A=0;A<g.length;A++)E[A]=T(g[A]);return E}},n.prototype.forEach=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=this,h=m._size.length-1;if(h<0)return;var v=lo(f,m,"map",d),T=v.fn;if(d||v.isUnary){M(m._data);return}if(h===0){for(var S=0;S<m._data.length;S++)T(m._data[S],[S],m);return}var C=[];N(m._data);function N(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<h)for(var w=0;w<y.length;w++)C[x]=w,N(y[w],x+1);else for(var g=0;g<y.length;g++)C[x]=g,T(y[g],C.slice(),m)}function M(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<h)for(var w=0;w<y.length;w++)M(y[w],x+1);else for(var g=0;g<y.length;g++)T(y[g])}},n.prototype[Symbol.iterator]=function*(){var f=this._size.length-1;if(!(f<0)){if(f===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var m=Array(f+1).fill(0),h=this._size.reduce((N,M)=>N*M,1),v=0;v<h;v++){for(var T=this._data,S=0;S<f;S++)T=T[m[S]];yield{value:T[m[f]],index:m.slice()};for(var C=f;C>=0&&(m[C]++,!(m[C]<this._size[C]));C--)m[C]=0}}},n.prototype.rows=function(){var f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var h of m)f.push(new n([h],this._datatype));return f},n.prototype.columns=function(){var f=this,d=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,v=function(C){var N=h.map(M=>[M[C]]);d.push(new n(N,f._datatype))},T=0;T<m[1];T++)v(T);return d},n.prototype.toArray=function(){return nt(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(f){return pt(this._data,f)},n.prototype.toString=function(){return pt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(ut(f)&&(f=f.toNumber()),!Xe(f)||!We(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,m=f<0?-f:0,h=this._size[0],v=this._size[1],T=Math.min(h-m,v-d),S=[],C=0;C<T;C++)S[C]=this._data[C+m][C+d];return new n({data:S,size:[T],datatype:this._datatype})},n.diagonal=function(f,d,m,h){if(!Wt(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(g){if(ut(g)&&(g=g.toNumber()),!Xe(g)||!We(g)||g<1)throw new Error("Size values must be positive integers");return g}),m){if(ut(m)&&(m=m.toNumber()),!Xe(m)||!We(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var v=m>0?m:0,T=m<0?-m:0,S=f[0],C=f[1],N=Math.min(S-T,C-v),M;if(Wt(d)){if(d.length!==N)throw new Error("Invalid value array length");M=function(_){return d[_]}}else if(Ye(d)){var y=d.size();if(y.length!==1||y[0]!==N)throw new Error("Invalid matrix length");M=function(_){return d.get([_])}}else M=function(){return d};h||(h=ut(M(0))?M(0).mul(0):0);var x=[];if(f.length>0){x=$u(x,f,h);for(var w=0;w<N;w++)x[w+T][w+v]=M(w)}return new n({data:x,size:[S,C]})},n.fromJSON=function(f){return new n(f)},n.prototype.swapRows=function(f,d){if(!Xe(f)||!We(f)||!Xe(d)||!We(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(f,this._size[0]),Yt(d,this._size[0]),n._swapRows(f,d,this._data),this},n._swapRows=function(f,d,m){var h=m[f];m[f]=m[d],m[d]=h};function c(f){return Ye(f)?c(f.valueOf()):Wt(f)?f.map(c):f}return n},{isClass:!0}),QN="clone",S$=["typed"],A$=Q(QN,S$,t=>{var{typed:e}=t;return e(QN,{any:nt})});function lM(t){var e=t.length,r=t[0].length,n,a,i=[];for(a=0;a<r;a++){var s=[];for(n=0;n<e;n++)s.push(t[n][a]);i.push(s)}return i}function tl(t){for(var e=0;e<t.length;e++)if(Kn(t[e]))return!0;return!1}function ws(t,e){Ye(t)?t.forEach(r=>e(r),!1,!0):uM(t,e,!0)}function lt(t,e,r){if(!r)return Ye(t)?t.map(a=>e(a),!1,!0):Ag(t,e,!0);var n=a=>a===0?a:e(a);return Ye(t)?t.map(a=>n(a),!1,!0):Ag(t,n,!0)}function Bh(t,e,r){var n=Array.isArray(t)?at(t):t.size();if(e<0||e>=n.length)throw new Ia(e,n.length);return Ye(t)?t.create(Fm(t.valueOf(),e,r),t.datatype()):Fm(t,e,r)}function Fm(t,e,r){var n,a,i,s;if(e<=0)if(Array.isArray(t[0])){for(s=lM(t),a=[],n=0;n<s.length;n++)a[n]=Fm(s[n],e-1,r);return a}else{for(i=t[0],n=1;n<t.length;n++)i=r(i,t[n]);return i}else{for(a=[],n=0;n<t.length;n++)a[n]=Fm(t[n],e-1,r);return a}}function XN(t,e,r,n,a,i,s,u,l,o,c){var f=t._values,d=t._index,m=t._ptr,h,v,T,S;if(n)for(v=m[e],T=m[e+1],h=v;h<T;h++)S=d[h],r[S]!==i?(r[S]=i,s.push(S),n[S]=f[h]):(n[S]=u(n[S],f[h]),a[S]=i);else for(v=m[e],T=m[e+1],h=v;h<T;h++)S=d[h],r[S]!==i?(r[S]=i,s.push(S)):a[S]=i}var KN="isInteger",D$=["typed"],C$=Q(KN,D$,t=>{var{typed:e}=t;return e(KN,{number:We,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),Pa="number",rl="number, number";function cM(t){return Math.abs(t)}cM.signature=Pa;function fM(t,e){return t+e}fM.signature=rl;function dM(t,e){return t-e}dM.signature=rl;function mM(t,e){return t*e}mM.signature=rl;function hM(t){return-t}hM.signature=Pa;function pM(t){return t}pM.signature=Pa;function Ul(t){return Mk(t)}Ul.signature=Pa;function vM(t){return t*t*t}vM.signature=Pa;function gM(t){return Math.exp(t)}gM.signature=Pa;function yM(t){return Ik(t)}yM.signature=Pa;function xM(t,e){if(!We(t)||!We(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}xM.signature=rl;function JN(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function Rm(t){return Ck(t)}Rm.signature=Pa;function Dg(t){return Dk(t)}Dg.signature=Pa;function YN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Cg(t){return Wi(t)}Cg.signature=Pa;function bM(t){return t*t}bM.signature=Pa;function wM(t,e){var r,n,a,i=0,s=1,u=1,l=0;if(!We(t)||!We(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),a=t-n*e,r=i,i=s-n*i,s=r,r=u,u=l-n*u,l=r,t=e,e=a;var o;return t<0?o=[-t,-s,-l]:o=[t,t?s:0,l],o}wM.signature=rl;function NM(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}NM.signature=rl;function Rl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!We(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(k3(t,e))}var T$="number",nl="number, number";function _M(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitAnd");return t&e}_M.signature=nl;function EM(t){if(!We(t))throw new Error("Integer expected in function bitNot");return~t}EM.signature=T$;function SM(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitOr");return t|e}SM.signature=nl;function AM(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitXor");return t^e}AM.signature=nl;function DM(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function leftShift");return t<<e}DM.signature=nl;function CM(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function rightArithShift");return t>>e}CM.signature=nl;function TM(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}TM.signature=nl;function di(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return di(t,r)*di(r+1,e)}function MM(t,e){if(!We(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!We(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,a=e<r?r+1:e+1,i=2,s=e<r?e:r,u=a;u<=t;++u)for(n*=u;i<=s&&n%i===0;)n/=i,++i;return i<=s&&(n/=di(i,s)),n}MM.signature="number, number";var M$=Math.PI,I$=2*Math.PI,P$=Math.E,F$=1.618033988749895,R$="number",Py="number, number";function IM(t){return!t}IM.signature=R$;function Tg(t,e){return!!(t||e)}Tg.signature=Py;function Mg(t,e){return!!t!=!!e}Mg.signature=Py;function Ig(t,e){return!!(t&&e)}Ig.signature=Py;function Om(t){var e;if(We(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:di(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Om(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,a=n*t,i=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*a)+163879/(209018880*i)+5246819/(75246796800*i*t))}--t,e=wu[0];for(var s=1;s<wu.length;++s)e+=wu[s]/(t+s);var u=t+PM+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*e}Om.signature="number";var PM=4.7421875,wu=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],FM=.9189385332046728,O$=5,B$=7,ZN=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Bm(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Bm(1-t);t=t-1;for(var e=t+O$+.5,r=ZN[0],n=B$-1;n>=1;n--)r+=ZN[n]/(t+n);return FM+(t+.5)*Math.log(e)-e+Math.log(r)}Bm.signature="number";var xn="number";function RM(t){return Ok(t)}RM.signature=xn;function OM(t){return Math.atan(1/t)}OM.signature=xn;function BM(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}BM.signature=xn;function jM(t){return Math.asin(1/t)}jM.signature=xn;function kM(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}kM.signature=xn;function $M(t){return Math.acos(1/t)}$M.signature=xn;function LM(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}LM.signature=xn;function zM(t){return Bk(t)}zM.signature=xn;function VM(t){return jk(t)}VM.signature=xn;function UM(t){return 1/Math.tan(t)}UM.signature=xn;function qM(t){var e=Math.exp(2*t);return(e+1)/(e-1)}qM.signature=xn;function HM(t){return 1/Math.sin(t)}HM.signature=xn;function GM(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Wi(t)}GM.signature=xn;function WM(t){return 1/Math.cos(t)}WM.signature=xn;function QM(t){return 2/(Math.exp(t)+Math.exp(-t))}QM.signature=xn;function XM(t){return $k(t)}XM.signature=xn;var Fy="number";function KM(t){return t<0}KM.signature=Fy;function JM(t){return t>0}JM.signature=Fy;function YM(t){return Number.isNaN(t)}YM.signature=Fy;function pa(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}var e2="isNegative",j$=["typed","config"],k$=Q(e2,j$,t=>{var{typed:e,config:r}=t;return e(e2,{number:n=>Kr(n,0,r.relTol,r.absTol)?!1:KM(n),BigNumber:n=>pa(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),t2="isNumeric",$$=["typed"],L$=Q(t2,$$,t=>{var{typed:e}=t;return e(t2,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),r2="hasNumericValue",z$=["typed","isNumeric"],V$=Q(r2,z$,t=>{var{typed:e,isNumeric:r}=t;return e(r2,{boolean:()=>!0,string:function(a){return a.trim().length>0&&!isNaN(Number(a))},any:function(a){return r(a)}})}),n2="isPositive",U$=["typed","config"],q$=Q(n2,U$,t=>{var{typed:e,config:r}=t;return e(n2,{number:n=>Kr(n,0,r.relTol,r.absTol)?!1:JM(n),BigNumber:n=>pa(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),a2="isZero",H$=["typed","equalScalar"],G$=Q(a2,H$,t=>{var{typed:e,equalScalar:r}=t;return e(a2,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),i2="isNaN",W$=["typed"],Q$=Q(i2,W$,t=>{var{typed:e}=t;return e(i2,{number:YM,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),s2="typeOf",X$=["typed"],K$=Q(s2,X$,t=>{var{typed:e}=t;return e(s2,{any:Xt})});function J$(t,e,r,n){return Kr(t.re,e.re,r,n)&&Kr(t.im,e.im,r,n)}var al=Q("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,a)=>{if(!n.equalBase(a))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),a.valueType()])(n.value,a.value)})}}),jm="equalScalar",Y$=["typed","config"],Z$=Q(jm,Y$,t=>{var{typed:e,config:r}=t,n=al({typed:e});return e(jm,{"boolean, boolean":function(i,s){return i===s},"number, number":function(i,s){return Kr(i,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,s){return i.eq(s)||pa(i,s,r.relTol,r.absTol)},"bigint, bigint":function(i,s){return i===s},"Fraction, Fraction":function(i,s){return i.equals(s)},"Complex, Complex":function(i,s){return J$(i,s,r.relTol,r.absTol)}},n)});Q(jm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(jm,{"number, number":function(a,i){return Kr(a,i,r.relTol,r.absTol)}})});var eL="SparseMatrix",tL=["typed","equalScalar","Matrix"],rL=Q(eL,tL,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function a(v,T){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(T&&!yr(T))throw new Error("Invalid datatype: "+T);if(Ye(v))i(this,v,T);else if(v&&Wt(v.index)&&Wt(v.ptr)&&Wt(v.size))this._values=v.values,this._index=v.index,this._ptr=v.ptr,this._size=v.size,this._datatype=T||v.datatype;else if(Wt(v))s(this,v,T);else{if(v)throw new TypeError("Unsupported type of data ("+Xt(v)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=T}}function i(v,T,S){T.type==="SparseMatrix"?(v._values=T._values?nt(T._values):void 0,v._index=nt(T._index),v._ptr=nt(T._ptr),v._size=nt(T._size),v._datatype=S||T._datatype):s(v,T.valueOf(),S||T._datatype)}function s(v,T,S){v._values=[],v._index=[],v._ptr=[],v._datatype=S;var C=T.length,N=0,M=r,y=0;if(yr(S)&&(M=e.find(r,[S,S])||r,y=e.convert(0,S)),C>0){var x=0;do{v._ptr.push(v._index.length);for(var w=0;w<C;w++){var g=T[w];if(Wt(g)){if(x===0&&N<g.length&&(N=g.length),x<g.length){var _=g[x];M(_,y)||(v._values.push(_),v._index.push(w))}}else x===0&&N<1&&(N=1),M(g,y)||(v._values.push(g),v._index.push(w))}x++}while(x<N)}v._ptr.push(v._index.length),v._size=[C,N]}a.prototype=new n,a.prototype.createSparseMatrix=function(v,T){return new a(v,T)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return Oh(this._values,Xt)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(v,T){return new a(v,T)},a.prototype.density=function(){var v=this._size[0],T=this._size[1];return v!==0&&T!==0?this._index.length/(v*T):0},a.prototype.subset=function(v,T,S){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,v);case 2:case 3:return l(this,v,T,S);default:throw new SyntaxError("Wrong number of arguments")}};function u(v,T){if(!Ch(T))throw new TypeError("Invalid index");var S=T.isScalar();if(S)return v.get(T.min());var C=T.size();if(C.length!==v._size.length)throw new mt(C.length,v._size.length);var N,M,y,x,w=T.min(),g=T.max();for(N=0,M=v._size.length;N<M;N++)Yt(w[N],v._size[N]),Yt(g[N],v._size[N]);var _=v._values,E=v._index,b=v._ptr,A=T.dimension(0),I=T.dimension(1),F=[],B=[];function P(ee,j){B[ee]=j[0],F[ee]=!0}Number.isInteger(A)?P(A,[0]):A.forEach(P);var L=_?[]:void 0,$=[],k=[];function V(ee){for(k.push($.length),y=b[ee],x=b[ee+1];y<x;y++)N=E[y],F[N]===!0&&($.push(B[N]),L&&L.push(_[y]))}return Number.isInteger(I)?V(I):I.forEach(V),k.push($.length),new a({values:L,index:$,ptr:k,size:C,datatype:v._datatype})}function l(v,T,S,C){if(!T||T.isIndex!==!0)throw new TypeError("Invalid index");var N=T.size(),M=T.isScalar(),y;if(Ye(S)?(y=S.size(),S=S.toArray()):y=at(S),M){if(y.length!==0)throw new TypeError("Scalar expected");v.set(T.min(),S,C)}else{if(N.length!==1&&N.length!==2)throw new mt(N.length,v._size.length,"<");if(y.length<N.length){for(var x=0,w=0;N[x]===1&&y[x]===1;)x++;for(;N[x]===1;)w++,x++;S=rM(S,N.length,w,y)}if(!Ei(N,y))throw new mt(N,y,">");if(N.length===1){var g=T.dimension(0);b(g,(A,I)=>{Yt(A),v.set([A,0],S[I[0]],C)})}else{var _=T.dimension(0),E=T.dimension(1);b(_,(A,I)=>{Yt(A),b(E,(F,B)=>{Yt(F),v.set([A,F],S[I[0]][B[0]],C)})})}}return v;function b(A,I){Xe(A)?I(A,[0]):A.forEach(I)}}a.prototype.get=function(v){if(!Wt(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new mt(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var T=v[0],S=v[1];Yt(T,this._size[0]),Yt(S,this._size[1]);var C=o(T,this._ptr[S],this._ptr[S+1],this._index);return C<this._ptr[S+1]&&this._index[C]===T?this._values[C]:0},a.prototype.set=function(v,T,S){if(!Wt(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new mt(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=v[0],N=v[1],M=this._size[0],y=this._size[1],x=r,w=0;yr(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,w=e.convert(0,this._datatype)),(C>M-1||N>y-1)&&(d(this,Math.max(C+1,M),Math.max(N+1,y),S),M=this._size[0],y=this._size[1]),Yt(C,M),Yt(N,y);var g=o(C,this._ptr[N],this._ptr[N+1],this._index);return g<this._ptr[N+1]&&this._index[g]===C?x(T,w)?c(g,N,this._values,this._index,this._ptr):this._values[g]=T:x(T,w)||f(g,C,N,T,this._values,this._index,this._ptr),this};function o(v,T,S,C){if(S-T===0)return S;for(var N=T;N<S;N++)if(C[N]===v)return N;return T}function c(v,T,S,C,N){S.splice(v,1),C.splice(v,1);for(var M=T+1;M<N.length;M++)N[M]--}function f(v,T,S,C,N,M,y){N.splice(v,0,C),M.splice(v,0,T);for(var x=S+1;x<y.length;x++)y[x]++}a.prototype.resize=function(v,T,S){if(!Kn(v))throw new TypeError("Array or Matrix expected");var C=v.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(M){if(!Xe(M)||!We(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(C)+")")});var N=S?this.clone():this;return d(N,C[0],C[1],T)};function d(v,T,S,C){var N=C||0,M=r,y=0;yr(v._datatype)&&(M=e.find(r,[v._datatype,v._datatype])||r,y=e.convert(0,v._datatype),N=e.convert(N,v._datatype));var x=!M(N,y),w=v._size[0],g=v._size[1],_,E,b;if(S>g){for(E=g;E<S;E++)if(v._ptr[E]=v._values.length,x)for(_=0;_<w;_++)v._values.push(N),v._index.push(_);v._ptr[S]=v._values.length}else S<g&&(v._ptr.splice(S+1,g-S),v._values.splice(v._ptr[S],v._values.length),v._index.splice(v._ptr[S],v._index.length));if(g=S,T>w){if(x){var A=0;for(E=0;E<g;E++){v._ptr[E]=v._ptr[E]+A,b=v._ptr[E+1]+A;var I=0;for(_=w;_<T;_++,I++)v._values.splice(b+I,0,N),v._index.splice(b+I,0,_),A++}v._ptr[g]=v._values.length}}else if(T<w){var F=0;for(E=0;E<g;E++){v._ptr[E]=v._ptr[E]-F;var B=v._ptr[E],P=v._ptr[E+1]-F;for(b=B;b<P;b++)_=v._index[b],_>T-1&&(v._values.splice(b,1),v._index.splice(b,1),F++)}v._ptr[E]=v._values.length}return v._size[0]=T,v._size[1]=S,v}a.prototype.reshape=function(v,T){if(!Wt(v))throw new TypeError("Array expected");if(v.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");v.forEach(function(k){if(!Xe(k)||!We(k)||k<=-2||k===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+pt(v)+")")});var S=this._size[0]*this._size[1];v=Iy(v,S);var C=v[0]*v[1];if(S!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var N=T?this.clone():this;if(this._size[0]===v[0]&&this._size[1]===v[1])return N;for(var M=[],y=0;y<N._ptr.length;y++)for(var x=0;x<N._ptr[y+1]-N._ptr[y];x++)M.push(y);for(var w=N._values.slice(),g=N._index.slice(),_=0;_<N._index.length;_++){var E=g[_],b=M[_],A=E*N._size[1]+b;M[_]=A%v[1],g[_]=Math.floor(A/v[1])}N._values.length=0,N._index.length=0,N._ptr.length=v[1]+1,N._size=v.slice();for(var I=0;I<N._ptr.length;I++)N._ptr[I]=0;for(var F=0;F<w.length;F++){var B=g[F],P=M[F],L=w[F],$=o(B,N._ptr[P],N._ptr[P+1],N._index);f($,B,P,L,N._values,N._index,N._ptr)}return N},a.prototype.clone=function(){var v=new a({values:this._values?nt(this._values):void 0,index:nt(this._index),ptr:nt(this._ptr),size:nt(this._size),datatype:this._datatype});return v},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(v,T){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var S=this,C=this._size[0],N=this._size[1],M=lo(v,S,"map"),y=function(w,g,_){return M.fn(w,[g,_],S)};return m(this,0,C-1,0,N-1,y,T)};function m(v,T,S,C,N,M,y){var x=[],w=[],g=[],_=r,E=0;yr(v._datatype)&&(_=e.find(r,[v._datatype,v._datatype])||r,E=e.convert(0,v._datatype));for(var b=function(X,U,de){var ue=M(X,U,de);_(ue,E)||(x.push(ue),w.push(U))},A=C;A<=N;A++){g.push(x.length);var I=v._ptr[A],F=v._ptr[A+1];if(y)for(var B=I;B<F;B++){var P=v._index[B];P>=T&&P<=S&&b(v._values[B],P-T,A-C)}else{for(var L={},$=I;$<F;$++){var k=v._index[$];L[k]=v._values[$]}for(var V=T;V<=S;V++){var ee=V in L?L[V]:0;b(ee,V-T,A-C)}}}return g.push(x.length),new a({values:x,index:w,ptr:g,size:[S-T+1,N-C+1]})}a.prototype.forEach=function(v,T){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var S=this,C=this._size[0],N=this._size[1],M=lo(v,S,"forEach"),y=0;y<N;y++){var x=this._ptr[y],w=this._ptr[y+1];if(T)for(var g=x;g<w;g++){var _=this._index[g];M.fn(this._values[g],[_,y],S)}else{for(var E={},b=x;b<w;b++){var A=this._index[b];E[A]=this._values[b]}for(var I=0;I<C;I++){var F=I in E?E[I]:0;M.fn(F,[I,y],S)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var v=this._size[1],T=0;T<v;T++)for(var S=this._ptr[T],C=this._ptr[T+1],N=S;N<C;N++){var M=this._index[N];yield{value:this._values[N],index:[M,T]}}},a.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(v,T,S,C,N){var M=C[0],y=C[1],x=[],w,g;for(w=0;w<M;w++)for(x[w]=[],g=0;g<y;g++)x[w][g]=0;for(g=0;g<y;g++)for(var _=S[g],E=S[g+1],b=_;b<E;b++)w=T[b],x[w][g]=v?N?nt(v[b]):v[b]:1;return x}return a.prototype.format=function(v){for(var T=this._size[0],S=this._size[1],C=this.density(),N="Sparse Matrix ["+pt(T,v)+" x "+pt(S,v)+"] density: "+pt(C,v)+`
`,M=0;M<S;M++)for(var y=this._ptr[M],x=this._ptr[M+1],w=y;w<x;w++){var g=this._index[w];N+=`
    (`+pt(g,v)+", "+pt(M,v)+") ==> "+(this._values?pt(this._values[w],v):"X")}return N},a.prototype.toString=function(){return pt(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(v){if(v){if(ut(v)&&(v=v.toNumber()),!Xe(v)||!We(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var T=v>0?v:0,S=v<0?-v:0,C=this._size[0],N=this._size[1],M=Math.min(C-S,N-T),y=[],x=[],w=[];w[0]=0;for(var g=T;g<N&&y.length<M;g++)for(var _=this._ptr[g],E=this._ptr[g+1],b=_;b<E;b++){var A=this._index[b];if(A===g-T+S){y.push(this._values[b]),x[y.length-1]=A-S;break}}return w.push(y.length),new a({values:y,index:x,ptr:w,size:[M,1]})},a.fromJSON=function(v){return new a(v)},a.diagonal=function(v,T,S,C,N){if(!Wt(v))throw new TypeError("Array expected, size parameter");if(v.length!==2)throw new Error("Only two dimensions matrix are supported");if(v=v.map(function(k){if(ut(k)&&(k=k.toNumber()),!Xe(k)||!We(k)||k<1)throw new Error("Size values must be positive integers");return k}),S){if(ut(S)&&(S=S.toNumber()),!Xe(S)||!We(S))throw new TypeError("The parameter k must be an integer number")}else S=0;var M=r,y=0;yr(N)&&(M=e.find(r,[N,N])||r,y=e.convert(0,N));var x=S>0?S:0,w=S<0?-S:0,g=v[0],_=v[1],E=Math.min(g-w,_-x),b;if(Wt(T)){if(T.length!==E)throw new Error("Invalid value array length");b=function(V){return T[V]}}else if(Ye(T)){var A=T.size();if(A.length!==1||A[0]!==E)throw new Error("Invalid matrix length");b=function(V){return T.get([V])}}else b=function(){return T};for(var I=[],F=[],B=[],P=0;P<_;P++){B.push(I.length);var L=P-x;if(L>=0&&L<E){var $=b(L);M($,y)||(F.push(L+w),I.push($))}}return B.push(I.length),new a({values:I,index:F,ptr:B,size:[g,_]})},a.prototype.swapRows=function(v,T){if(!Xe(v)||!We(v)||!Xe(T)||!We(T))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(v,this._size[0]),Yt(T,this._size[0]),a._swapRows(v,T,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(v,T,S,C,N){for(var M=C[v],y=C[v+1],x=M;x<y;x++)N(S[x],T[x])},a._swapRows=function(v,T,S,C,N,M){for(var y=0;y<S;y++){var x=M[y],w=M[y+1],g=o(v,x,w,N),_=o(T,x,w,N);if(g<w&&_<w&&N[g]===v&&N[_]===T){if(C){var E=C[g];C[g]=C[_],C[_]=E}continue}if(g<w&&N[g]===v&&(_>=w||N[_]!==T)){var b=C?C[g]:void 0;N.splice(_,0,T),C&&C.splice(_,0,b),N.splice(_<=g?g+1:g,1),C&&C.splice(_<=g?g+1:g,1);continue}if(_<w&&N[_]===T&&(g>=w||N[g]!==v)){var A=C?C[_]:void 0;N.splice(g,0,v),C&&C.splice(g,0,A),N.splice(g<=_?_+1:_,1),C&&C.splice(g<=_?_+1:_,1)}}},a},{isClass:!0}),nL="number",aL=["typed"];function iL(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],a=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:a}}else return null}function sL(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var a=parseInt(t.fractionalPart[n],t.radix);r+=a/Math.pow(t.radix,n+1)}var i=e+r;if(isNaN(i))throw new SyntaxError('String "'+t.input+'" is not a valid number');return i}var oL=Q(nL,aL,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(a){return a},string:function(a){if(a==="NaN")return NaN;var i=iL(a);if(i)return sL(i);var s=0,u=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(s=Number(u[2]),a=u[1]);var l=Number(a);if(isNaN(l))throw new SyntaxError('String "'+a+'" is not a valid number');if(u){if(l>2**s-1)throw new SyntaxError('String "'.concat(a,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(a){return a.toNumber()},bigint:function(a){return Number(a)},Fraction:function(a){return a.valueOf()},Unit:e.referToSelf(n=>a=>{var i=a.clone();return i.value=n(a.value),i}),null:function(a){return 0},"Unit, string | Unit":function(a,i){return a.toNumber(i)},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),uL="bigint",lL=["typed"],cL=Q(uL,lL,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(a){return a},number:function(a){return BigInt(a.toFixed())},BigNumber:function(a){return BigInt(a.round().toString())},Fraction:function(a){return BigInt(a.valueOf().toFixed())},"string | boolean":function(a){return BigInt(a)},null:function(a){return 0n},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),o2="string",fL=["typed"],dL=Q(o2,fL,t=>{var{typed:e}=t;return e(o2,{"":function(){return""},number:eo,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r)),any:function(n){return String(n)}})}),u2="boolean",mL=["typed"],hL=Q(u2,mL,t=>{var{typed:e}=t;return e(u2,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var a=n.toLowerCase();if(a==="true")return!0;if(a==="false")return!1;var i=Number(n);if(n!==""&&!isNaN(i))return!!i;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),pL="bignumber",vL=["typed","BigNumber"],gL=Q(pL,vL,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(a){return new r(a+"")},string:function(a){var i=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var s=i[2],u=r(i[1]),l=new r(2).pow(Number(s));if(u.gt(l.sub(1)))throw new SyntaxError('String "'.concat(a,'" is out of range'));var o=new r(2).pow(Number(s)-1);return u.gte(o)?u.sub(l):u}return new r(a)},BigNumber:function(a){return a},bigint:function(a){return new r(a.toString())},Unit:e.referToSelf(n=>a=>{var i=a.clone();return i.value=n(a.value),i}),Fraction:function(a){return new r(String(a.n)).div(String(a.d)).times(String(a.s))},null:function(a){return new r(0)},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),yL="complex",xL=["typed","Complex"],bL=Q(yL,xL,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(a){return new r(a,0)},"number, number":function(a,i){return new r(a,i)},"BigNumber, BigNumber":function(a,i){return new r(a.toNumber(),i.toNumber())},Fraction:function(a){return new r(a.valueOf(),0)},Complex:function(a){return a.clone()},string:function(a){return r(a)},null:function(a){return r(0)},Object:function(a){if("re"in a&&"im"in a)return new r(a.re,a.im);if("r"in a&&"phi"in a||"abs"in a&&"arg"in a)return new r(a);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),wL="fraction",NL=["typed","Fraction"],_L=Q(wL,NL,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(a){if(!isFinite(a)||isNaN(a))throw new Error(a+" cannot be represented as a fraction");return new r(a)},string:function(a){return new r(a)},"number, number":function(a,i){return new r(a,i)},"bigint, bigint":function(a,i){return new r(a,i)},null:function(a){return new r(0)},BigNumber:function(a){return new r(a.toString())},bigint:function(a){return new r(a.toString())},Fraction:function(a){return a},Unit:e.referToSelf(n=>a=>{var i=a.clone();return i.value=n(a.value),i}),Object:function(a){return new r(a)},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),l2="matrix",EL=["typed","Matrix","DenseMatrix","SparseMatrix"],SL=Q(l2,EL,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:a}=t;return e(l2,{"":function(){return i([])},string:function(u){return i([],u)},"string, string":function(u,l){return i([],u,l)},Array:function(u){return i(u)},Matrix:function(u){return i(u,u.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(s,u,l){if(u==="dense"||u==="default"||u===void 0)return new n(s,l);if(u==="sparse")return new a(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),c2="matrixFromFunction",AL=["typed","matrix","isZero"],DL=Q(c2,AL,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(c2,{"Array | Matrix, function, string, string":function(s,u,l,o){return a(s,u,l,o)},"Array | Matrix, function, string":function(s,u,l){return a(s,u,l)},"Matrix, function":function(s,u){return a(s,u,"dense")},"Array, function":function(s,u){return a(s,u,"dense").toArray()},"Array | Matrix, string, function":function(s,u,l){return a(s,l,u)},"Array | Matrix, string, string, function":function(s,u,l,o){return a(s,o,u,l)}});function a(i,s,u,l){var o;return l!==void 0?o=r(u,l):o=r(u),o.resize(i),o.forEach(function(c,f){var d=s(f);n(d)||o.set(f,d)}),o}}),f2="matrixFromRows",CL=["typed","matrix","flatten","size"],TL=Q(f2,CL,t=>{var{typed:e,matrix:r,flatten:n,size:a}=t;return e(f2,{"...Array":function(l){return i(l)},"...Matrix":function(l){return r(i(l.map(o=>o.toArray())))}});function i(u){if(u.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=s(u[0]),o=[];for(var c of u){var f=s(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));o.push(n(c))}return o}function s(u){var l=a(u);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),d2="matrixFromColumns",ML=["typed","matrix","flatten","size"],IL=Q(d2,ML,t=>{var{typed:e,matrix:r,flatten:n,size:a}=t;return e(d2,{"...Array":function(l){return i(l)},"...Matrix":function(l){return r(i(l.map(o=>o.toArray())))}});function i(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(u[0]),o=[],c=0;c<l;c++)o[c]=[];for(var f of u){var d=s(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(d|0));for(var m=n(f),h=0;h<l;h++)o[h].push(m[h])}return o}function s(u){var l=a(u);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),m2="splitUnit",PL=["typed"],FL=Q(m2,PL,t=>{var{typed:e}=t;return e(m2,{"Unit, Array":function(n,a){return n.splitUnit(a)}})}),h2="unaryMinus",RL=["typed"],OL=Q(h2,RL,t=>{var{typed:e}=t;return e(h2,{number:hM,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>n=>{var a=n.clone();return a.value=e.find(r,a.valueType())(n.value),a}),"Array | Matrix":e.referToSelf(r=>n=>lt(n,r,!0))})}),p2="unaryPlus",BL=["typed","config","numeric"],jL=Q(p2,BL,t=>{var{typed:e,config:r,numeric:n}=t;return e(p2,{number:pM,Complex:function(i){return i},BigNumber:function(i){return i},bigint:function(i){return i},Fraction:function(i){return i},Unit:function(i){return i.clone()},"Array | Matrix":e.referToSelf(a=>i=>lt(i,a,!0)),boolean:function(i){return n(i?1:0,r.number)},string:function(i){return n(i,Ss(i,r))}})}),v2="abs",kL=["typed"],$L=Q(v2,kL,t=>{var{typed:e}=t;return e(v2,{number:cM,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>n=>lt(n,r,!0))})}),g2="mapSlices",LL=["typed","isInteger"],Pg=Q(g2,LL,t=>{var{typed:e,isInteger:r}=t;return e(g2,{"Array | Matrix, number | BigNumber, function":function(a,i,s){if(!r(i))throw new TypeError("Integer number expected for dimension");var u=Array.isArray(a)?at(a):a.size();if(i<0||i>=u.length)throw new Ia(i,u.length);return Ye(a)?a.create(km(a.valueOf(),i,s),a.datatype()):km(a,i,s)}})},{formerly:"apply"});function km(t,e,r){var n,a,i;if(e<=0)if(Array.isArray(t[0])){for(i=zL(t),a=[],n=0;n<i.length;n++)a[n]=km(i[n],e-1,r);return a}else return r(t);else{for(a=[],n=0;n<t.length;n++)a[n]=km(t[n],e-1,r);return a}}function zL(t){var e=t.length,r=t[0].length,n,a,i=[];for(a=0;a<r;a++){var s=[];for(n=0;n<e;n++)s.push(t[n][a]);i.push(s)}return i}var y2="addScalar",VL=["typed"],UL=Q(y2,VL,t=>{var{typed:e}=t;return e(y2,{"number, number":fM,"Complex, Complex":function(n,a){return n.add(a)},"BigNumber, BigNumber":function(n,a){return n.plus(a)},"bigint, bigint":function(n,a){return n+a},"Fraction, Fraction":function(n,a){return n.add(a)},"Unit, Unit":e.referToSelf(r=>(n,a)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(a))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(r,[i.valueType(),a.valueType()])(i.value,a.value),i.fixPrefix=!1,i})})}),x2="subtractScalar",qL=["typed"],HL=Q(x2,qL,t=>{var{typed:e}=t;return e(x2,{"number, number":dM,"Complex, Complex":function(n,a){return n.sub(a)},"BigNumber, BigNumber":function(n,a){return n.minus(a)},"bigint, bigint":function(n,a){return n-a},"Fraction, Fraction":function(n,a){return n.sub(a)},"Unit, Unit":e.referToSelf(r=>(n,a)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(a))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(r,[i.valueType(),a.valueType()])(i.value,a.value),i.fixPrefix=!1,i})})}),b2="cbrt",GL=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],WL=Q(b2,GL,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:a,matrix:i,Complex:s,BigNumber:u,Fraction:l}=t;return r(b2,{number:Ul,Complex:o,"Complex, boolean":o,BigNumber:function(d){return d.cbrt()},Unit:c});function o(f,d){var m=f.arg()/3,h=f.abs(),v=new s(Ul(h),0).mul(new s(0,m).exp());if(d){var T=[v,new s(Ul(h),0).mul(new s(0,m+Math.PI*2/3).exp()),new s(Ul(h),0).mul(new s(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?T:i(T)}else return v}function c(f){if(f.value&&hi(f.value)){var d=f.clone();return d.value=1,d=d.pow(1/3),d.value=o(f.value),d}else{var m=n(f.value);m&&(f.value=a(f.value));var h;ut(f.value)?h=new u(1).div(3):Zc(f.value)?h=new l(1,3):h=1/3;var v=f.pow(h);return m&&(v.value=a(v.value)),v}}}),QL="matAlgo11xS0s",XL=["typed","equalScalar"],on=Q(QL,XL,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s,u){var l=a._values,o=a._index,c=a._ptr,f=a._size,d=a._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],v,T=r,S=0,C=s;typeof d=="string"&&(v=d,T=e.find(r,[v,v]),S=e.convert(0,v),i=e.convert(i,v),C=e.find(s,[v,v]));for(var N=[],M=[],y=[],x=0;x<h;x++){y[x]=M.length;for(var w=c[x],g=c[x+1],_=w;_<g;_++){var E=o[_],b=u?C(i,l[_]):C(l[_],i);T(b,S)||(M.push(E),N.push(b))}}return y[h]=M.length,a.createSparseMatrix({values:N,index:M,ptr:y,size:[m,h],datatype:v})}}),KL="matAlgo12xSfs",JL=["typed","DenseMatrix"],jr=Q(KL,JL,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,i,s,u){var l=a._values,o=a._index,c=a._ptr,f=a._size,d=a._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],v,T=s;typeof d=="string"&&(v=d,i=e.convert(i,v),T=e.find(s,[v,v]));for(var S=[],C=[],N=[],M=0;M<h;M++){for(var y=M+1,x=c[M],w=c[M+1],g=x;g<w;g++){var _=o[g];C[_]=l[g],N[_]=y}for(var E=0;E<m;E++)M===0&&(S[E]=[]),N[E]===y?S[E][M]=u?T(i,C[E]):T(C[E],i):S[E][M]=u?T(i,0):T(0,i)}return new r({data:S,size:[m,h],datatype:v})}}),YL="matAlgo14xDs",ZL=["typed"],va=Q(YL,ZL,t=>{var{typed:e}=t;return function(a,i,s,u){var l=a._data,o=a._size,c=a._datatype,f,d=s;typeof c=="string"&&(f=c,i=e.convert(i,f),d=e.find(s,[f,f]));var m=o.length>0?r(d,0,o,o[0],l,i,u):[];return a.createDenseMatrix({data:m,size:nt(o),datatype:f})};function r(n,a,i,s,u,l,o){var c=[];if(a===i.length-1)for(var f=0;f<s;f++)c[f]=o?n(l,u[f]):n(u[f],l);else for(var d=0;d<s;d++)c[d]=r(n,a+1,i,i[a+1],u[d],l,o);return c}}),Fg="ceil",ez=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],tz=new bs(10),rz=Q(Fg,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function a(i){var s=Math.ceil(i),u=n(i);return s===u?s:Kr(i,u,r.relTol,r.absTol)&&!Kr(i,s,r.relTol,r.absTol)?u:s}return e(Fg,{number:a,"number, number":function(s,u){if(!We(u))throw new RangeError("number of decimals in function ceil must be an integer");if(u<0||u>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**u;return a(s*l)/l}})}),nz=Q(Fg,ez,t=>{var{typed:e,config:r,round:n,matrix:a,equalScalar:i,zeros:s,DenseMatrix:u}=t,l=on({typed:e,equalScalar:i}),o=jr({typed:e,DenseMatrix:u}),c=va({typed:e}),f=rz({typed:e,config:r,round:n});function d(m){var h=(S,C)=>pa(S,C,r.relTol,r.absTol),v=m.ceil(),T=n(m);return v.eq(T)?v:h(m,T)&&!h(m,v)?T:v}return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,v){return h.ceil(v)},"Complex, BigNumber":function(h,v){return h.ceil(v.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(h,v){var T=tz.pow(v);return d(h.mul(T)).div(T)},bigint:m=>m,"bigint, number":(m,h)=>m,"bigint, BigNumber":(m,h)=>m,Fraction:function(h){return h.ceil()},"Fraction, number":function(h,v){return h.ceil(v)},"Fraction, BigNumber":function(h,v){return h.ceil(v.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(h,v,T){var S=h.toNumeric(T);return T.multiply(m(S,v))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,v,T)=>m(h,v.toNumber(),T)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,v,T)=>lt(h,S=>m(S,v,T),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,v)=>m(h,0,v)),"Array | Matrix":e.referToSelf(m=>h=>lt(h,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(h,v)=>lt(h,T=>m(T,v),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(h,v)=>l(h,v,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(h,v)=>c(h,v,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(h,v)=>c(a(v),h,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(h,v)=>i(h,0)?s(v.size(),v.storage()):v.storage()==="dense"?c(v,h,m,!0):o(v,h,m,!0))})}),w2="cube",az=["typed"],iz=Q(w2,az,t=>{var{typed:e}=t;return e(w2,{number:vM,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),N2="exp",sz=["typed"],oz=Q(N2,sz,t=>{var{typed:e}=t;return e(N2,{number:gM,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),_2="expm1",uz=["typed","Complex"],lz=Q(_2,uz,t=>{var{typed:e,Complex:r}=t;return e(_2,{number:yM,Complex:function(a){var i=Math.exp(a.re);return new r(i*Math.cos(a.im)-1,i*Math.sin(a.im))},BigNumber:function(a){return a.exp().minus(1)}})}),Rg="fix",cz=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],fz=Q(Rg,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(Rg,{number:function(i){return i>0?n(i):r(i)},"number, number":function(i,s){return i>0?n(i,s):r(i,s)}})}),dz=Q(Rg,cz,t=>{var{typed:e,Complex:r,matrix:n,ceil:a,floor:i,equalScalar:s,zeros:u,DenseMatrix:l}=t,o=jr({typed:e,DenseMatrix:l}),c=va({typed:e}),f=fz({typed:e,ceil:a,floor:i});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new r(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new r(m.re>0?i(m.re,h):a(m.re,h),m.im>0?i(m.im,h):a(m.im,h))},"Complex, BigNumber":function(m,h){var v=h.toNumber();return new r(m.re>0?i(m.re,v):a(m.re,v),m.im>0?i(m.im,v):a(m.im,v))},BigNumber:function(m){return m.isNegative()?a(m):i(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?a(m,h):i(m,h)},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.s<0n?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0n?a(m,h):i(m,h)},"Unit, number, Unit":e.referToSelf(d=>function(m,h,v){var T=m.toNumeric(v);return v.multiply(d(T,h))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,h,v)=>d(m,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,h,v)=>lt(m,T=>d(T,h,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,h)=>d(m,0,h)),"Array | Matrix":e.referToSelf(d=>m=>lt(m,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(m,h)=>lt(m,v=>d(v,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(m,h)=>c(n(h),m,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(m,h)=>s(m,0)?u(h.size(),h.storage()):h.storage()==="dense"?c(h,m,d,!0):o(h,m,d,!0))})}),Og="floor",mz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],hz=new bs(10),pz=Q(Og,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function a(i){var s=Math.floor(i),u=n(i);return s===u?s:Kr(i,u,r.relTol,r.absTol)&&!Kr(i,s,r.relTol,r.absTol)?u:s}return e(Og,{number:a,"number, number":function(s,u){if(!We(u))throw new RangeError("number of decimals in function floor must be an integer");if(u<0||u>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**u;return a(s*l)/l}})}),ZM=Q(Og,mz,t=>{var{typed:e,config:r,round:n,matrix:a,equalScalar:i,zeros:s,DenseMatrix:u}=t,l=on({typed:e,equalScalar:i}),o=jr({typed:e,DenseMatrix:u}),c=va({typed:e}),f=pz({typed:e,config:r,round:n});function d(m){var h=(S,C)=>pa(S,C,r.relTol,r.absTol),v=m.floor(),T=n(m);return v.eq(T)?v:h(m,T)&&!h(m,v)?T:v}return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,v){return h.floor(v)},"Complex, BigNumber":function(h,v){return h.floor(v.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(h,v){var T=hz.pow(v);return d(h.mul(T)).div(T)},bigint:m=>m,"bigint, number":(m,h)=>m,"bigint, BigNumber":(m,h)=>m,Fraction:function(h){return h.floor()},"Fraction, number":function(h,v){return h.floor(v)},"Fraction, BigNumber":function(h,v){return h.floor(v.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(h,v,T){var S=h.toNumeric(T);return T.multiply(m(S,v))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(h,v,T)=>m(h,v.toNumber(),T)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(h,v,T)=>lt(h,S=>m(S,v,T),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(h,v)=>m(h,0,v)),"Array | Matrix":e.referToSelf(m=>h=>lt(h,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(h,v)=>lt(h,T=>m(T,v),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(h,v)=>l(h,v,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(h,v)=>c(h,v,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(h,v)=>c(a(v),h,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(h,v)=>i(h,0)?s(v.size(),v.storage()):v.storage()==="dense"?c(v,h,m,!0):o(v,h,m,!0))})}),vz="matAlgo02xDS0",gz=["typed","equalScalar"],Fa=Q(vz,gz,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s,u){var l=a._data,o=a._size,c=a._datatype||a.getDataType(),f=i._values,d=i._index,m=i._ptr,h=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(o.length!==h.length)throw new mt(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var T=o[0],S=o[1],C,N=r,M=0,y=s;typeof c=="string"&&c===v&&c!=="mixed"&&(C=c,N=e.find(r,[C,C]),M=e.convert(0,C),y=e.find(s,[C,C]));for(var x=[],w=[],g=[],_=0;_<S;_++){g[_]=w.length;for(var E=m[_],b=m[_+1],A=E;A<b;A++){var I=d[A],F=u?y(f[A],l[I][_]):y(l[I][_],f[A]);N(F,M)||(w.push(I),x.push(F))}}return g[S]=w.length,i.createSparseMatrix({values:x,index:w,ptr:g,size:[T,S],datatype:c===a._datatype&&v===i._datatype?C:void 0})}}),yz="matAlgo03xDSf",xz=["typed"],bn=Q(yz,xz,t=>{var{typed:e}=t;return function(n,a,i,s){var u=n._data,l=n._size,o=n._datatype||n.getDataType(),c=a._values,f=a._index,d=a._ptr,m=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==m.length)throw new mt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=l[0],T=l[1],S,C=0,N=i;typeof o=="string"&&o===h&&o!=="mixed"&&(S=o,C=e.convert(0,S),N=e.find(i,[S,S]));for(var M=[],y=0;y<v;y++)M[y]=[];for(var x=[],w=[],g=0;g<T;g++){for(var _=g+1,E=d[g],b=d[g+1],A=E;A<b;A++){var I=f[A];x[I]=s?N(c[A],u[I][g]):N(u[I][g],c[A]),w[I]=_}for(var F=0;F<v;F++)w[F]===_?M[F][g]=x[F]:M[F][g]=s?N(C,u[F][g]):N(u[F][g],C)}return n.createDenseMatrix({data:M,size:[v,T],datatype:o===n._datatype&&h===a._datatype?S:void 0})}}),bz="matAlgo05xSfSf",wz=["typed","equalScalar"],jh=Q(bz,wz,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s){var u=a._values,l=a._index,o=a._ptr,c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType(),d=i._values,m=i._index,h=i._ptr,v=i._size,T=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==v.length)throw new mt(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");var S=c[0],C=c[1],N,M=r,y=0,x=s;typeof f=="string"&&f===T&&f!=="mixed"&&(N=f,M=e.find(r,[N,N]),y=e.convert(0,N),x=e.find(s,[N,N]));var w=u&&d?[]:void 0,g=[],_=[],E=w?[]:void 0,b=w?[]:void 0,A=[],I=[],F,B,P,L;for(B=0;B<C;B++){_[B]=g.length;var $=B+1;for(P=o[B],L=o[B+1];P<L;P++)F=l[P],g.push(F),A[F]=$,E&&(E[F]=u[P]);for(P=h[B],L=h[B+1];P<L;P++)F=m[P],A[F]!==$&&g.push(F),I[F]=$,b&&(b[F]=d[P]);if(w)for(P=_[B];P<g.length;){F=g[P];var k=A[F],V=I[F];if(k===$||V===$){var ee=k===$?E[F]:y,j=V===$?b[F]:y,X=x(ee,j);M(X,y)?g.splice(P,1):(w.push(X),P++)}}}return _[C]=g.length,a.createSparseMatrix({values:w,index:g,ptr:_,size:[S,C],datatype:f===a._datatype&&T===i._datatype?N:void 0})}}),Nz="matAlgo13xDD",_z=["typed"],e4=Q(Nz,_z,t=>{var{typed:e}=t;return function(a,i,s){var u=a._data,l=a._size,o=a._datatype,c=i._data,f=i._size,d=i._datatype,m=[];if(l.length!==f.length)throw new mt(l.length,f.length);for(var h=0;h<l.length;h++){if(l[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");m[h]=l[h]}var v,T=s;typeof o=="string"&&o===d&&(v=o,T=e.find(s,[v,v]));var S=m.length>0?r(T,0,m,m[0],u,c):[];return a.createDenseMatrix({data:S,size:m,datatype:v})};function r(n,a,i,s,u,l){var o=[];if(a===i.length-1)for(var c=0;c<s;c++)o[c]=n(u[c],l[c]);else for(var f=0;f<s;f++)o[f]=r(n,a+1,i,i[a+1],u[f],l[f]);return o}});function Vr(t,e){if(Ei(t.size(),e.size()))return[t,e];var r=Im(t.size(),e.size());return[t,e].map(n=>Ez(n,r))}function Ez(t,e){return Ei(t.size(),e)?t:t.create(Js(t.valueOf(),e),t.datatype())}var Sz="matrixAlgorithmSuite",Az=["typed","matrix"],Zt=Q(Sz,Az,t=>{var{typed:e,matrix:r}=t,n=e4({typed:e}),a=va({typed:e});return function(s){var u=s.elop,l=s.SD||s.DS,o;u?(o={"DenseMatrix, DenseMatrix":(m,h)=>n(...Vr(m,h),u),"Array, Array":(m,h)=>n(...Vr(r(m),r(h)),u).valueOf(),"Array, DenseMatrix":(m,h)=>n(...Vr(r(m),h),u),"DenseMatrix, Array":(m,h)=>n(...Vr(m,r(h)),u)},s.SS&&(o["SparseMatrix, SparseMatrix"]=(m,h)=>s.SS(...Vr(m,h),u,!1)),s.DS&&(o["DenseMatrix, SparseMatrix"]=(m,h)=>s.DS(...Vr(m,h),u,!1),o["Array, SparseMatrix"]=(m,h)=>s.DS(...Vr(r(m),h),u,!1)),l&&(o["SparseMatrix, DenseMatrix"]=(m,h)=>l(...Vr(h,m),u,!0),o["SparseMatrix, Array"]=(m,h)=>l(...Vr(r(h),m),u,!0))):(o={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(h,v)=>n(...Vr(h,v),m)),"Array, Array":e.referToSelf(m=>(h,v)=>n(...Vr(r(h),r(v)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(h,v)=>n(...Vr(r(h),v),m)),"DenseMatrix, Array":e.referToSelf(m=>(h,v)=>n(...Vr(h,r(v)),m))},s.SS&&(o["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(h,v)=>s.SS(...Vr(h,v),m,!1))),s.DS&&(o["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(h,v)=>s.DS(...Vr(h,v),m,!1)),o["Array, SparseMatrix"]=e.referToSelf(m=>(h,v)=>s.DS(...Vr(r(h),v),m,!1))),l&&(o["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(h,v)=>l(...Vr(v,h),m,!0)),o["SparseMatrix, Array"]=e.referToSelf(m=>(h,v)=>l(...Vr(r(v),h),m,!0))));var c=s.scalar||"any",f=s.Ds||s.Ss;f&&(u?(o["DenseMatrix,"+c]=(m,h)=>a(m,h,u,!1),o[c+", DenseMatrix"]=(m,h)=>a(h,m,u,!0),o["Array,"+c]=(m,h)=>a(r(m),h,u,!1).valueOf(),o[c+", Array"]=(m,h)=>a(r(h),m,u,!0).valueOf()):(o["DenseMatrix,"+c]=e.referToSelf(m=>(h,v)=>a(h,v,m,!1)),o[c+", DenseMatrix"]=e.referToSelf(m=>(h,v)=>a(v,h,m,!0)),o["Array,"+c]=e.referToSelf(m=>(h,v)=>a(r(h),v,m,!1).valueOf()),o[c+", Array"]=e.referToSelf(m=>(h,v)=>a(r(v),h,m,!0).valueOf())));var d=s.sS!==void 0?s.sS:s.Ss;return u?(s.Ss&&(o["SparseMatrix,"+c]=(m,h)=>s.Ss(m,h,u,!1)),d&&(o[c+", SparseMatrix"]=(m,h)=>d(h,m,u,!0))):(s.Ss&&(o["SparseMatrix,"+c]=e.referToSelf(m=>(h,v)=>s.Ss(h,v,m,!1))),d&&(o[c+", SparseMatrix"]=e.referToSelf(m=>(h,v)=>d(v,h,m,!0)))),u&&u.signatures&&O3(o,u.signatures),o}}),E2="mod",Dz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],t4=Q(E2,Dz,t=>{var{typed:e,config:r,round:n,matrix:a,equalScalar:i,zeros:s,DenseMatrix:u,concat:l}=t,o=ZM({typed:e,config:r,round:n,matrix:a,equalScalar:i,zeros:s,DenseMatrix:u}),c=Fa({typed:e,equalScalar:i}),f=bn({typed:e}),d=jh({typed:e,equalScalar:i}),m=on({typed:e,equalScalar:i}),h=jr({typed:e,DenseMatrix:u}),v=Zt({typed:e,matrix:a,concat:l});return e(E2,{"number, number":T,"BigNumber, BigNumber":function(C,N){return N.isZero()?C:C.sub(N.mul(o(C.div(N))))},"bigint, bigint":function(C,N){if(N===0n)return C;if(C<0){var M=C%N;return M===0n?M:M+N}return C%N},"Fraction, Fraction":function(C,N){return N.equals(0)?C:C.sub(N.mul(o(C.div(N))))}},v({SS:d,DS:f,SD:c,Ss:m,sS:h}));function T(S,C){return C===0?S:S-C*o(S/C)}}),Cz="matAlgo01xDSid",Tz=["typed"],Ds=Q(Cz,Tz,t=>{var{typed:e}=t;return function(n,a,i,s){var u=n._data,l=n._size,o=n._datatype||n.getDataType(),c=a._values,f=a._index,d=a._ptr,m=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==m.length)throw new mt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=l[0],T=l[1],S=typeof o=="string"&&o!=="mixed"&&o===h?o:void 0,C=S?e.find(i,[S,S]):i,N,M,y=[];for(N=0;N<v;N++)y[N]=[];var x=[],w=[];for(M=0;M<T;M++){for(var g=M+1,_=d[M],E=d[M+1],b=_;b<E;b++)N=f[b],x[N]=s?C(c[b],u[N][M]):C(u[N][M],c[b]),w[N]=g;for(N=0;N<v;N++)w[N]===g?y[N][M]=x[N]:y[N][M]=u[N][M]}return n.createDenseMatrix({data:y,size:[v,T],datatype:o===n._datatype&&h===a._datatype?S:void 0})}}),Mz="matAlgo04xSidSid",Iz=["typed","equalScalar"],Ry=Q(Mz,Iz,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s){var u=a._values,l=a._index,o=a._ptr,c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType(),d=i._values,m=i._index,h=i._ptr,v=i._size,T=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==v.length)throw new mt(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");var S=c[0],C=c[1],N,M=r,y=0,x=s;typeof f=="string"&&f===T&&f!=="mixed"&&(N=f,M=e.find(r,[N,N]),y=e.convert(0,N),x=e.find(s,[N,N]));var w=u&&d?[]:void 0,g=[],_=[],E=u&&d?[]:void 0,b=u&&d?[]:void 0,A=[],I=[],F,B,P,L,$;for(B=0;B<C;B++){_[B]=g.length;var k=B+1;for(L=o[B],$=o[B+1],P=L;P<$;P++)F=l[P],g.push(F),A[F]=k,E&&(E[F]=u[P]);for(L=h[B],$=h[B+1],P=L;P<$;P++)if(F=m[P],A[F]===k){if(E){var V=x(E[F],d[P]);M(V,y)?A[F]=null:E[F]=V}}else g.push(F),I[F]=k,b&&(b[F]=d[P]);if(E&&b)for(P=_[B];P<g.length;)F=g[P],A[F]===k?(w[P]=E[F],P++):I[F]===k?(w[P]=b[F],P++):g.splice(P,1)}return _[C]=g.length,a.createSparseMatrix({values:w,index:g,ptr:_,size:[S,C],datatype:f===a._datatype&&T===i._datatype?N:void 0})}}),Pz="matAlgo10xSids",Fz=["typed","DenseMatrix"],wo=Q(Pz,Fz,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,i,s,u){var l=a._values,o=a._index,c=a._ptr,f=a._size,d=a._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],v,T=s;typeof d=="string"&&(v=d,i=e.convert(i,v),T=e.find(s,[v,v]));for(var S=[],C=[],N=[],M=0;M<h;M++){for(var y=M+1,x=c[M],w=c[M+1],g=x;g<w;g++){var _=o[g];C[_]=l[g],N[_]=y}for(var E=0;E<m;E++)M===0&&(S[E]=[]),N[E]===y?S[E][M]=u?T(i,C[E]):T(C[E],i):S[E][M]=i}return new r({data:S,size:[m,h],datatype:v})}});function No(t,e,r,n){if(!(this instanceof No))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}No.prototype=new Error;No.prototype.constructor=Error;No.prototype.name="ArgumentsError";No.prototype.isArgumentsError=!0;var S2="gcd",Rz=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Kp="number | BigNumber | Fraction | Matrix | Array",Oz="".concat(Kp,", ").concat(Kp,", ...").concat(Kp);function A2(t){return!t.some(e=>Array.isArray(e))}var Bz=Q(S2,Rz,t=>{var{typed:e,matrix:r,config:n,round:a,equalScalar:i,zeros:s,BigNumber:u,DenseMatrix:l,concat:o}=t,c=t4({typed:e,config:n,round:a,matrix:r,equalScalar:i,zeros:s,DenseMatrix:l,concat:o}),f=Ds({typed:e}),d=Ry({typed:e,equalScalar:i}),m=wo({typed:e,DenseMatrix:l}),h=Zt({typed:e,matrix:r,concat:o});return e(S2,{"number, number":v,"BigNumber, BigNumber":T,"Fraction, Fraction":(S,C)=>S.gcd(C)},h({SS:d,DS:f,Ss:m}),{[Oz]:e.referToSelf(S=>(C,N,M)=>{for(var y=S(C,N),x=0;x<M.length;x++)y=S(y,M[x]);return y}),Array:e.referToSelf(S=>C=>{if(C.length===1&&Array.isArray(C[0])&&A2(C[0]))return S(...C[0]);if(A2(C))return S(...C);throw new No("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(S=>C=>S(C.toArray()))});function v(S,C){if(!We(S)||!We(C))throw new Error("Parameters in function gcd must be integer numbers");for(var N;C!==0;)N=c(S,C),S=C,C=N;return S<0?-S:S}function T(S,C){if(!S.isInt()||!C.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var N=new u(0);!C.isZero();){var M=c(S,C);S=C,C=M}return S.lt(N)?S.neg():S}}),jz="matAlgo06xS0S0",kz=["typed","equalScalar"],kh=Q(jz,kz,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s){var u=a._values,l=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=i._values,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==f.length)throw new mt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var m=l[0],h=l[1],v,T=r,S=0,C=s;typeof o=="string"&&o===d&&o!=="mixed"&&(v=o,T=e.find(r,[v,v]),S=e.convert(0,v),C=e.find(s,[v,v]));for(var N=u&&c?[]:void 0,M=[],y=[],x=N?[]:void 0,w=[],g=[],_=0;_<h;_++){y[_]=M.length;var E=_+1;if(XN(a,_,w,x,g,E,M,C),XN(i,_,w,x,g,E,M,C),x)for(var b=y[_];b<M.length;){var A=M[b];if(g[A]===E){var I=x[A];T(I,S)?M.splice(b,1):(N.push(I),b++)}else M.splice(b,1)}else for(var F=y[_];F<M.length;){var B=M[F];g[B]!==E?M.splice(F,1):F++}}return y[h]=M.length,a.createSparseMatrix({values:N,index:M,ptr:y,size:[m,h],datatype:o===a._datatype&&d===i._datatype?v:void 0})}}),D2="lcm",$z=["typed","matrix","equalScalar","concat"],Lz=Q(D2,$z,t=>{var{typed:e,matrix:r,equalScalar:n,concat:a}=t,i=Fa({typed:e,equalScalar:n}),s=kh({typed:e,equalScalar:n}),u=on({typed:e,equalScalar:n}),l=Zt({typed:e,matrix:r,concat:a}),o="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(o,", ").concat(o,", ...").concat(o)]=e.referToSelf(d=>(m,h,v)=>{for(var T=d(m,h),S=0;S<v.length;S++)T=d(T,v[S]);return T}),e(D2,{"number, number":xM,"BigNumber, BigNumber":f,"Fraction, Fraction":(d,m)=>d.lcm(m)},l({SS:s,DS:i,Ss:u}),c);function f(d,m){if(!d.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(m.isZero())return m;for(var h=d.times(m);!m.isZero();){var v=m;m=d.mod(v),d=v}return h.div(d).abs()}});function Oy(t,e,r,n){return function(a){if(a>0||r.predictable){if(a<=0)return NaN;var i=a.toString(16),s=i.substring(0,15);return t*(i.length-s.length)+e(+("0x"+s))}return n(a.toNumber())}}var C2="log10",zz=["typed","config","Complex"],Vz=Rm(16),Uz=Q(C2,zz,t=>{var{typed:e,config:r,Complex:n}=t;function a(s){return s.log().div(Math.LN10)}function i(s){return a(new n(s,0))}return e(C2,{number:function(u){return u>=0||r.predictable?Rm(u):i(u)},bigint:Oy(Vz,Rm,r,i),Complex:a,BigNumber:function(u){return!u.isNegative()||r.predictable?u.log():i(u.toNumber())},"Array | Matrix":e.referToSelf(s=>u=>lt(u,s))})}),T2="log2",qz=["typed","config","Complex"],Hz=Q(T2,qz,t=>{var{typed:e,config:r,Complex:n}=t;function a(s){return i(new n(s,0))}return e(T2,{number:function(u){return u>=0||r.predictable?Dg(u):a(u)},bigint:Oy(4,Dg,r,a),Complex:i,BigNumber:function(u){return!u.isNegative()||r.predictable?u.log(2):a(u.toNumber())},"Array | Matrix":e.referToSelf(s=>u=>lt(u,s))});function i(s){var u=Math.sqrt(s.re*s.re+s.im*s.im);return new n(Math.log2?Math.log2(u):Math.log(u)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),Gz="multiplyScalar",Wz=["typed"],Qz=Q(Gz,Wz,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":mM,"Complex, Complex":function(n,a){return n.mul(a)},"BigNumber, BigNumber":function(n,a){return n.times(a)},"bigint, bigint":function(n,a){return n*a},"Fraction, Fraction":function(n,a){return n.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),M2="multiply",Xz=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Kz=Q(M2,Xz,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:a,equalScalar:i,dot:s}=t,u=on({typed:e,equalScalar:i}),l=va({typed:e});function o(y,x){switch(y.length){case 1:switch(x.length){case 1:if(y[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(y[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+x[0]+")");break;case 2:if(y[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function c(y,x,w){if(w===0)throw new Error("Cannot multiply two empty vectors");return s(y,x)}function f(y,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(y,x)}function d(y,x){var w=y._data,g=y._size,_=y._datatype||y.getDataType(),E=x._data,b=x._size,A=x._datatype||x.getDataType(),I=g[0],F=b[1],B,P=n,L=a;_&&A&&_===A&&typeof _=="string"&&_!=="mixed"&&(B=_,P=e.find(n,[B,B]),L=e.find(a,[B,B]));for(var $=[],k=0;k<F;k++){for(var V=L(w[0],E[0][k]),ee=1;ee<I;ee++)V=P(V,L(w[ee],E[ee][k]));$[k]=V}return y.createDenseMatrix({data:$,size:[F],datatype:_===y._datatype&&A===x._datatype?B:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":v,"SparseMatrix, any":C}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":T,"DenseMatrix, SparseMatrix":S,"SparseMatrix, DenseMatrix":N,"SparseMatrix, SparseMatrix":M});function v(y,x){var w=y._data,g=y._size,_=y._datatype||y.getDataType(),E=x._data,b=x._datatype||x.getDataType(),A=g[0],I=g[1],F,B=n,P=a;_&&b&&_===b&&typeof _=="string"&&_!=="mixed"&&(F=_,B=e.find(n,[F,F]),P=e.find(a,[F,F]));for(var L=[],$=0;$<A;$++){for(var k=w[$],V=P(k[0],E[0]),ee=1;ee<I;ee++)V=B(V,P(k[ee],E[ee]));L[$]=V}return y.createDenseMatrix({data:L,size:[A],datatype:_===y._datatype&&b===x._datatype?F:void 0})}function T(y,x){var w=y._data,g=y._size,_=y._datatype||y.getDataType(),E=x._data,b=x._size,A=x._datatype||x.getDataType(),I=g[0],F=g[1],B=b[1],P,L=n,$=a;_&&A&&_===A&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(P=_,L=e.find(n,[P,P]),$=e.find(a,[P,P]));for(var k=[],V=0;V<I;V++){var ee=w[V];k[V]=[];for(var j=0;j<B;j++){for(var X=$(ee[0],E[0][j]),U=1;U<F;U++)X=L(X,$(ee[U],E[U][j]));k[V][j]=X}}return y.createDenseMatrix({data:k,size:[I,B],datatype:_===y._datatype&&A===x._datatype?P:void 0})}function S(y,x){var w=y._data,g=y._size,_=y._datatype||y.getDataType(),E=x._values,b=x._index,A=x._ptr,I=x._size,F=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var B=g[0],P=I[1],L,$=n,k=a,V=i,ee=0;_&&F&&_===F&&typeof _=="string"&&_!=="mixed"&&(L=_,$=e.find(n,[L,L]),k=e.find(a,[L,L]),V=e.find(i,[L,L]),ee=e.convert(0,L));for(var j=[],X=[],U=[],de=x.createSparseMatrix({values:j,index:X,ptr:U,size:[B,P],datatype:_===y._datatype&&F===x._datatype?L:void 0}),ue=0;ue<P;ue++){U[ue]=X.length;var le=A[ue],H=A[ue+1];if(H>le)for(var J=0,re=0;re<B;re++){for(var ie=re+1,se=void 0,ve=le;ve<H;ve++){var me=b[ve];J!==ie?(se=k(w[re][me],E[ve]),J=ie):se=$(se,k(w[re][me],E[ve]))}J===ie&&!V(se,ee)&&(X.push(re),j.push(se))}}return U[P]=X.length,de}function C(y,x){var w=y._values,g=y._index,_=y._ptr,E=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=x._data,A=x._datatype||x.getDataType(),I=y._size[0],F=x._size[0],B=[],P=[],L=[],$,k=n,V=a,ee=i,j=0;E&&A&&E===A&&typeof E=="string"&&E!=="mixed"&&($=E,k=e.find(n,[$,$]),V=e.find(a,[$,$]),ee=e.find(i,[$,$]),j=e.convert(0,$));var X=[],U=[];L[0]=0;for(var de=0;de<F;de++){var ue=b[de];if(!ee(ue,j))for(var le=_[de],H=_[de+1],J=le;J<H;J++){var re=g[J];U[re]?X[re]=k(X[re],V(ue,w[J])):(U[re]=!0,P.push(re),X[re]=V(ue,w[J]))}}for(var ie=P.length,se=0;se<ie;se++){var ve=P[se];B[se]=X[ve]}return L[1]=P.length,y.createSparseMatrix({values:B,index:P,ptr:L,size:[I,1],datatype:E===y._datatype&&A===x._datatype?$:void 0})}function N(y,x){var w=y._values,g=y._index,_=y._ptr,E=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=x._data,A=x._datatype||x.getDataType(),I=y._size[0],F=x._size[0],B=x._size[1],P,L=n,$=a,k=i,V=0;E&&A&&E===A&&typeof E=="string"&&E!=="mixed"&&(P=E,L=e.find(n,[P,P]),$=e.find(a,[P,P]),k=e.find(i,[P,P]),V=e.convert(0,P));for(var ee=[],j=[],X=[],U=y.createSparseMatrix({values:ee,index:j,ptr:X,size:[I,B],datatype:E===y._datatype&&A===x._datatype?P:void 0}),de=[],ue=[],le=0;le<B;le++){X[le]=j.length;for(var H=le+1,J=0;J<F;J++){var re=b[J][le];if(!k(re,V))for(var ie=_[J],se=_[J+1],ve=ie;ve<se;ve++){var me=g[ve];ue[me]!==H?(ue[me]=H,j.push(me),de[me]=$(re,w[ve])):de[me]=L(de[me],$(re,w[ve]))}}for(var Ne=X[le],Be=j.length,Le=Ne;Le<Be;Le++){var Ee=j[Le];ee[Le]=de[Ee]}}return X[B]=j.length,U}function M(y,x){var w=y._values,g=y._index,_=y._ptr,E=y._datatype||y._data===void 0?y._datatype:y.getDataType(),b=x._values,A=x._index,I=x._ptr,F=x._datatype||x._data===void 0?x._datatype:x.getDataType(),B=y._size[0],P=x._size[1],L=w&&b,$,k=n,V=a;E&&F&&E===F&&typeof E=="string"&&E!=="mixed"&&($=E,k=e.find(n,[$,$]),V=e.find(a,[$,$]));for(var ee=L?[]:void 0,j=[],X=[],U=y.createSparseMatrix({values:ee,index:j,ptr:X,size:[B,P],datatype:E===y._datatype&&F===x._datatype?$:void 0}),de=L?[]:void 0,ue=[],le,H,J,re,ie,se,ve,me,Ne=0;Ne<P;Ne++){X[Ne]=j.length;var Be=Ne+1;for(ie=I[Ne],se=I[Ne+1],re=ie;re<se;re++)if(me=A[re],L)for(H=_[me],J=_[me+1],le=H;le<J;le++)ve=g[le],ue[ve]!==Be?(ue[ve]=Be,j.push(ve),de[ve]=V(b[re],w[le])):de[ve]=k(de[ve],V(b[re],w[le]));else for(H=_[me],J=_[me+1],le=H;le<J;le++)ve=g[le],ue[ve]!==Be&&(ue[ve]=Be,j.push(ve));if(L)for(var Le=X[Ne],Ee=j.length,De=Le;De<Ee;De++){var G=j[De];ee[De]=de[G]}}return X[P]=j.length,U}return e(M2,a,{"Array, Array":e.referTo("Matrix, Matrix",y=>(x,w)=>{o(at(x),at(w));var g=y(r(x),r(w));return Ye(g)?g.valueOf():g}),"Matrix, Matrix":function(x,w){var g=x.size(),_=w.size();return o(g,_),g.length===1?_.length===1?c(x,w,g[0]):f(x,w):_.length===1?m(x,w):h(x,w)},"Matrix, Array":e.referTo("Matrix,Matrix",y=>(x,w)=>y(x,r(w))),"Array, Matrix":e.referToSelf(y=>(x,w)=>y(r(x,w.storage()),w)),"SparseMatrix, any":function(x,w){return u(x,w,a,!1)},"DenseMatrix, any":function(x,w){return l(x,w,a,!1)},"any, SparseMatrix":function(x,w){return u(w,x,a,!0)},"any, DenseMatrix":function(x,w){return l(w,x,a,!0)},"Array, any":function(x,w){return l(r(x),w,a,!1).valueOf()},"any, Array":function(x,w){return l(r(w),x,a,!0).valueOf()},"any, any":a,"any, any, ...any":e.referToSelf(y=>(x,w,g)=>{for(var _=y(x,w),E=0;E<g.length;E++)_=y(_,g[E]);return _})})}),I2="nthRoot",Jz=["typed","matrix","equalScalar","BigNumber","concat"],Yz=Q(I2,Jz,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:a,concat:i}=t,s=Ds({typed:e}),u=Fa({typed:e,equalScalar:n}),l=kh({typed:e,equalScalar:n}),o=on({typed:e,equalScalar:n}),c=Zt({typed:e,matrix:r,concat:i});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(I2,{number:YN,"number, number":YN,BigNumber:m=>d(m,new a(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(r(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,v)=>{if(v.density()===1)return l(h,v,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,v)=>{if(v.density()===1)return s(h,v,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,v)=>m(r(h),v)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,v)=>{if(v.density()===1)return o(v,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:u,Ss:o,sS:!1}));function d(m,h){var v=a.precision,T=a.clone({precision:v+2}),S=new a(0),C=new T(1),N=h.isNegative();if(N&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return N?new T(1/0):0;if(!m.isFinite())return N?S:m;var M=m.abs().pow(C.div(h));return M=m.isNeg()?M.neg():M,new a((N?C.div(M):M).toPrecision(v))}}),P2="sign",Zz=["typed","BigNumber","Fraction","complex"],eV=Q(P2,Zz,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:a}=t;return e(P2,{number:Cg,Complex:function(s){return s.im===0?n(Cg(s.re)):s.sign()},BigNumber:function(s){return new r(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return s.n===0n?new a(0):new a(s.s)},"Array | Matrix":e.referToSelf(i=>s=>lt(s,i,!0)),Unit:e.referToSelf(i=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(i,s.valueType())(s.value)})})}),tV="sqrt",rV=["config","typed","Complex"],nV=Q(tV,rV,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:a,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():a(s.toNumber())},Unit:function(s){return s.pow(.5)}});function a(i){return isNaN(i)?NaN:i>=0||e.predictable?Math.sqrt(i):new n(i,0).sqrt()}}),F2="square",aV=["typed"],iV=Q(F2,aV,t=>{var{typed:e}=t;return e(F2,{number:bM,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),R2="subtract",sV=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],oV=Q(R2,sV,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:a,unaryMinus:i,DenseMatrix:s,concat:u}=t,l=Ds({typed:e}),o=bn({typed:e}),c=jh({typed:e,equalScalar:n}),f=wo({typed:e,DenseMatrix:s}),d=jr({typed:e,DenseMatrix:s}),m=Zt({typed:e,matrix:r,concat:u});return e(R2,{"any, any":a},m({elop:a,SS:c,DS:l,SD:o,Ss:d,sS:f}))}),O2="xgcd",uV=["typed","config","matrix","BigNumber"],lV=Q(O2,uV,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e(O2,{"number, number":function(u,l){var o=wM(u,l);return r.matrix==="Array"?o:n(o)},"BigNumber, BigNumber":i});function i(s,u){var l,o,c,f=new a(0),d=new a(1),m=f,h=d,v=d,T=f;if(!s.isInt()||!u.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!u.isZero();)o=s.div(u).floor(),c=s.mod(u),l=m,m=h.minus(o.times(m)),h=l,l=v,v=T.minus(o.times(v)),T=l,s=u,u=c;var S;return s.lt(f)?S=[s.neg(),h.neg(),T.neg()]:S=[s,s.isZero()?0:h,T],r.matrix==="Array"?S:n(S)}}),B2="invmod",cV=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],fV=Q(B2,cV,t=>{var{typed:e,config:r,BigNumber:n,xgcd:a,equal:i,smaller:s,mod:u,add:l,isInteger:o}=t;return e(B2,{"number, number":c,"BigNumber, BigNumber":c});function c(f,d){if(!o(f)||!o(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=u(f,d),i(d,0))throw new Error("Divisor must be non zero");var m=a(f,d);m=m.valueOf();var[h,v]=m;return i(h,n(1))?(v=u(v,d),s(v,n(0))&&(v=l(v,d)),v):NaN}}),dV="matAlgo09xS0Sf",mV=["typed","equalScalar"],r4=Q(dV,mV,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s){var u=a._values,l=a._index,o=a._ptr,c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType(),d=i._values,m=i._index,h=i._ptr,v=i._size,T=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==v.length)throw new mt(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");var S=c[0],C=c[1],N,M=r,y=0,x=s;typeof f=="string"&&f===T&&f!=="mixed"&&(N=f,M=e.find(r,[N,N]),y=e.convert(0,N),x=e.find(s,[N,N]));var w=u&&d?[]:void 0,g=[],_=[],E=w?[]:void 0,b=[],A,I,F,B,P;for(I=0;I<C;I++){_[I]=g.length;var L=I+1;if(E)for(B=h[I],P=h[I+1],F=B;F<P;F++)A=m[F],b[A]=L,E[A]=d[F];for(B=o[I],P=o[I+1],F=B;F<P;F++)if(A=l[F],E){var $=b[A]===L?E[A]:y,k=x(u[F],$);M(k,y)||(g.push(A),w.push(k))}else g.push(A)}return _[C]=g.length,a.createSparseMatrix({values:w,index:g,ptr:_,size:[S,C],datatype:f===a._datatype&&T===i._datatype?N:void 0})}}),j2="dotMultiply",hV=["typed","matrix","equalScalar","multiplyScalar","concat"],pV=Q(j2,hV,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:a,concat:i}=t,s=Fa({typed:e,equalScalar:n}),u=r4({typed:e,equalScalar:n}),l=on({typed:e,equalScalar:n}),o=Zt({typed:e,matrix:r,concat:i});return e(j2,o({elop:a,SS:u,DS:s,Ss:l}))});function vV(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return By(t,e,function(n,a){return n&a})}function $c(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function gV(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:By(t,e,function(a,i){return a|i})}function By(t,e,r){var n=t.constructor,a,i,s=+(t.s<0),u=+(e.s<0);if(s){a=Zf($c(t));for(var l=0;l<a.length;++l)a[l]^=1}else a=Zf(t);if(u){i=Zf($c(e));for(var o=0;o<i.length;++o)i[o]^=1}else i=Zf(e);var c,f,d;a.length<=i.length?(c=a,f=i,d=s):(c=i,f=a,d=u);var m=c.length,h=f.length,v=r(s,u)^1,T=new n(v^1),S=new n(1),C=new n(2),N=n.precision;for(n.config({precision:1e9});m>0;)r(c[--m],f[--h])===v&&(T=T.plus(S)),S=S.times(C);for(;h>0;)r(d,f[--h])===v&&(T=T.plus(S)),S=S.times(C);return n.config({precision:N}),v===0&&(T.s=-T.s),T}function Zf(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var a=e[n]+"",i=7-a.length;i--;)a="0"+a;r+=a}for(var s=r.length;r.charAt(s)==="0";)s--;var u=t.e,l=r.slice(0,s+1||1),o=l.length;if(u>0)if(++u>o)for(u-=o;u--;)l+="0";else u<o&&(l=l.slice(0,u)+"."+l.slice(u));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function yV(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?$c(e):e.eq(n)?$c(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):By(t,e,function(a,i){return a^i})}function xV(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function bV(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var k2="bitAnd",wV=["typed","matrix","equalScalar","concat"],n4=Q(k2,wV,t=>{var{typed:e,matrix:r,equalScalar:n,concat:a}=t,i=Fa({typed:e,equalScalar:n}),s=kh({typed:e,equalScalar:n}),u=on({typed:e,equalScalar:n}),l=Zt({typed:e,matrix:r,concat:a});return e(k2,{"number, number":_M,"BigNumber, BigNumber":vV,"bigint, bigint":(o,c)=>o&c},l({SS:s,DS:i,Ss:u}))}),$2="bitNot",NV=["typed"],_V=Q($2,NV,t=>{var{typed:e}=t;return e($2,{number:EM,BigNumber:$c,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),L2="bitOr",EV=["typed","matrix","equalScalar","DenseMatrix","concat"],a4=Q(L2,EV,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i}=t,s=Ds({typed:e}),u=Ry({typed:e,equalScalar:n}),l=wo({typed:e,DenseMatrix:a}),o=Zt({typed:e,matrix:r,concat:i});return e(L2,{"number, number":SM,"BigNumber, BigNumber":gV,"bigint, bigint":(c,f)=>c|f},o({SS:u,DS:s,Ss:l}))}),SV="matAlgo07xSSf",AV=["typed","SparseMatrix"],ti=Q(SV,AV,t=>{var{typed:e,SparseMatrix:r}=t;return function(i,s,u){var l=i._size,o=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==c.length)throw new mt(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var d=l[0],m=l[1],h,v=0,T=u;typeof o=="string"&&o===f&&o!=="mixed"&&(h=o,v=e.convert(0,h),T=e.find(u,[h,h]));for(var S=[],C=[],N=new Array(m+1).fill(0),M=[],y=[],x=[],w=[],g=0;g<m;g++){var _=g+1,E=0;n(i,g,x,M,_),n(s,g,w,y,_);for(var b=0;b<d;b++){var A=x[b]===_?M[b]:v,I=w[b]===_?y[b]:v,F=T(A,I);F!==0&&F!==!1&&(C.push(b),S.push(F),E++)}N[g+1]=N[g]+E}return new r({values:S,index:C,ptr:N,size:[d,m],datatype:o===i._datatype&&f===s._datatype?h:void 0})};function n(a,i,s,u,l){for(var o=a._values,c=a._index,f=a._ptr,d=f[i],m=f[i+1];d<m;d++){var h=c[d];s[h]=l,u[h]=o[d]}}}),z2="bitXor",DV=["typed","matrix","DenseMatrix","concat","SparseMatrix"],CV=Q(z2,DV,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:a,SparseMatrix:i}=t,s=bn({typed:e}),u=ti({typed:e,SparseMatrix:i}),l=jr({typed:e,DenseMatrix:n}),o=Zt({typed:e,matrix:r,concat:a});return e(z2,{"number, number":AM,"BigNumber, BigNumber":yV,"bigint, bigint":(c,f)=>c^f},o({SS:u,DS:s,Ss:l}))}),V2="arg",TV=["typed"],MV=Q(V2,TV,t=>{var{typed:e}=t;return e(V2,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),U2="conj",IV=["typed"],PV=Q(U2,IV,t=>{var{typed:e}=t;return e(U2,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:e.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),q2="im",FV=["typed"],RV=Q(q2,FV,t=>{var{typed:e}=t;return e(q2,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),H2="re",OV=["typed"],BV=Q(H2,OV,t=>{var{typed:e}=t;return e(H2,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),G2="not",jV=["typed"],kV=Q(G2,jV,t=>{var{typed:e}=t;return e(G2,{"null | undefined":()=>!0,number:IM,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),W2="nullish",$V=["typed","matrix","size","flatten","deepEqual"],i4=Q(W2,$V,t=>{var{typed:e,matrix:r,size:n,flatten:a,deepEqual:i}=t,s=bn({typed:e}),u=va({typed:e}),l=e4({typed:e});return e(W2,{"number|bigint|Complex|BigNumber|Fraction|Unit|string|boolean|SparseMatrix, any":(o,c)=>o,"null, any":(o,c)=>c,"undefined, any":(o,c)=>c,"SparseMatrix, Array | Matrix":(o,c)=>{var f=n(o),d=n(c);if(i(f,d))return o;throw new mt(f,d)},"DenseMatrix, DenseMatrix":e.referToSelf(o=>(c,f)=>l(c,f,o)),"DenseMatrix, SparseMatrix":e.referToSelf(o=>(c,f)=>s(c,f,o,!1)),"DenseMatrix, Array":e.referToSelf(o=>(c,f)=>l(c,r(f),o)),"DenseMatrix, any":e.referToSelf(o=>(c,f)=>u(c,f,o,!1)),"Array, Array":e.referToSelf(o=>(c,f)=>l(r(c),r(f),o).valueOf()),"Array, DenseMatrix":e.referToSelf(o=>(c,f)=>l(r(c),f,o)),"Array, SparseMatrix":e.referToSelf(o=>(c,f)=>s(r(c),f,o,!1)),"Array, any":e.referToSelf(o=>(c,f)=>u(r(c),f,o,!1).valueOf())})}),Q2="or",LV=["typed","matrix","equalScalar","DenseMatrix","concat"],s4=Q(Q2,LV,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i}=t,s=bn({typed:e}),u=jh({typed:e,equalScalar:n}),l=jr({typed:e,DenseMatrix:a}),o=Zt({typed:e,matrix:r,concat:i});return e(Q2,{"number, number":Tg,"Complex, Complex":function(f,d){return f.re!==0||f.im!==0||d.re!==0||d.im!==0},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":Tg,"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},o({SS:u,DS:s,Ss:l}))}),X2="xor",zV=["typed","matrix","DenseMatrix","concat","SparseMatrix"],VV=Q(X2,zV,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:a,SparseMatrix:i}=t,s=bn({typed:e}),u=ti({typed:e,SparseMatrix:i}),l=jr({typed:e,DenseMatrix:n}),o=Zt({typed:e,matrix:r,concat:a});return e(X2,{"number, number":Mg,"Complex, Complex":function(f,d){return(f.re!==0||f.im!==0)!=(d.re!==0||d.im!==0)},"bigint, bigint":Mg,"BigNumber, BigNumber":function(f,d){return(!f.isZero()&&!f.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},o({SS:u,DS:s,Ss:l}))}),K2="concat",UV=["typed","matrix","isInteger"],o4=Q(K2,UV,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(K2,{"...Array | Matrix | number | BigNumber":function(i){var s,u=i.length,l=-1,o,c=!1,f=[];for(s=0;s<u;s++){var d=i[s];if(Ye(d)&&(c=!0),Xe(d)||ut(d)){if(s!==u-1)throw new Error("Dimension must be specified as last argument");if(o=l,l=d.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>o)throw new Ia(l,o+1)}else{var m=nt(d).valueOf(),h=at(m);if(f[s]=m,o=l,l=h.length-1,s>0&&l!==o)throw new mt(o+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var v=f.shift();f.length;)v=sM(v,f.shift(),l);return c?r(v):v},"...string":function(i){return i.join("")}})}),J2="column",qV=["typed","Index","matrix","range"],u4=Q(J2,qV,t=>{var{typed:e,Index:r,matrix:n,range:a}=t;return e(J2,{"Matrix, number":i,"Array, number":function(u,l){return i(n(nt(u)),l).valueOf()}});function i(s,u){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(u,s.size()[1]);var l=a(0,s.size()[0]),o=new r(l,[u]),c=s.subset(o);return Ye(c)?c:n([[c]])}}),Y2="count",HV=["typed","size","prod"],GV=Q(Y2,HV,t=>{var{typed:e,size:r,prod:n}=t;return e(Y2,{string:function(i){return i.length},"Matrix | Array":function(i){return n(r(i))}})}),Z2="cross",WV=["typed","matrix","subtract","multiply"],QV=Q(Z2,WV,t=>{var{typed:e,matrix:r,subtract:n,multiply:a}=t;return e(Z2,{"Matrix, Matrix":function(u,l){return r(i(u.toArray(),l.toArray()))},"Matrix, Array":function(u,l){return r(i(u.toArray(),l))},"Array, Matrix":function(u,l){return r(i(u,l.toArray()))},"Array, Array":i});function i(s,u){var l=Math.max(at(s).length,at(u).length);s=Tm(s),u=Tm(u);var o=at(s),c=at(u);if(o.length!==1||c.length!==1||o[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(a(s[1],u[2]),a(s[2],u[1])),n(a(s[2],u[0]),a(s[0],u[2])),n(a(s[0],u[1]),a(s[1],u[0]))];return l>1?[f]:f}}),e_="diag",XV=["typed","matrix","DenseMatrix","SparseMatrix"],KV=Q(e_,XV,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:a}=t;return e(e_,{Array:function(o){return i(o,0,at(o),null)},"Array, number":function(o,c){return i(o,c,at(o),null)},"Array, BigNumber":function(o,c){return i(o,c.toNumber(),at(o),null)},"Array, string":function(o,c){return i(o,0,at(o),c)},"Array, number, string":function(o,c,f){return i(o,c,at(o),f)},"Array, BigNumber, string":function(o,c,f){return i(o,c.toNumber(),at(o),f)},Matrix:function(o){return i(o,0,o.size(),o.storage())},"Matrix, number":function(o,c){return i(o,c,o.size(),o.storage())},"Matrix, BigNumber":function(o,c){return i(o,c.toNumber(),o.size(),o.storage())},"Matrix, string":function(o,c){return i(o,0,o.size(),c)},"Matrix, number, string":function(o,c,f){return i(o,c,o.size(),f)},"Matrix, BigNumber, string":function(o,c,f){return i(o,c.toNumber(),o.size(),f)}});function i(l,o,c,f){if(!We(o))throw new TypeError("Second parameter in function diag must be an integer");var d=o>0?o:0,m=o<0?-o:0;switch(c.length){case 1:return s(l,o,f,c[0],m,d);case 2:return u(l,o,f,c,m,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,o,c,f,d,m){var h=[f+d,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var v=c==="sparse"?a.diagonal(h,l,o):n.diagonal(h,l,o);return c!==null?v:v.valueOf()}function u(l,o,c,f,d,m){if(Ye(l)){var h=l.diagonal(o);return c!==null?c!==h.storage()?r(h,c):h:h.valueOf()}for(var v=Math.min(f[0]-d,f[1]-m),T=[],S=0;S<v;S++)T[S]=l[S+d][S+m];return c!==null?r(T):T}}),JV="filter",YV=["typed"],l4=Q(JV,YV,t=>{var{typed:e}=t;return e("filter",{"Array, function":t_,"Matrix, function":function(n,a){return n.create(t_(n.valueOf(),a),n.datatype())},"Array, RegExp":HN,"Matrix, RegExp":function(n,a){return n.create(HN(n.valueOf(),a),n.datatype())}})});function t_(t,e){var r=lo(e,t,"filter");return r.isUnary?qN(t,r.fn):qN(t,function(n,a,i){return r.fn(n,[a],i)})}var r_="flatten",ZV=["typed"],eU=Q(r_,ZV,t=>{var{typed:e}=t;return e(r_,{Array:function(n){return Ct(n)},DenseMatrix:function(n){return n.create(Ct(n.valueOf(),!0),n.datatype())},SparseMatrix:function(n){throw new TypeError("SparseMatrix is not supported by function flatten because it does not support 1D vectors. Convert to a DenseMatrix or Array first. Example: flatten(x.toArray())")}})}),Bg="forEach",tU=["typed"],c4=Q(Bg,tU,t=>{var{typed:e}=t;return e(Bg,{"Array, function":rU,"Matrix, function":function(n,a){n.forEach(a)}})});function rU(t,e){var r=lo(e,t,Bg);uM(t,r.fn,r.isUnary)}var n_="getMatrixDataType",nU=["typed"],aU=Q(n_,nU,t=>{var{typed:e}=t;return e(n_,{Array:function(n){return Oh(n,Xt)},Matrix:function(n){return n.getDataType()}})}),a_="identity",iU=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],sU=Q(a_,iU,t=>{var{typed:e,config:r,matrix:n,BigNumber:a,DenseMatrix:i,SparseMatrix:s}=t;return e(a_,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,d){return l(c,f,d)},Array:function(c){return u(c)},"Array, string":function(c,f){return u(c,f)},Matrix:function(c){return u(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return u(c.valueOf(),f)}});function u(o,c){switch(o.length){case 0:return c?n(c):[];case 1:return l(o[0],o[0],c);case 2:return l(o[0],o[1],c);default:throw new Error("Vector containing two values expected")}}function l(o,c,f){var d=ut(o)||ut(c)?a:null;if(ut(o)&&(o=o.toNumber()),ut(c)&&(c=c.toNumber()),!We(o)||o<1)throw new Error("Parameters in function identity must be positive integers");if(!We(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=d?new a(1):1,h=d?new d(0):0,v=[o,c];if(f){if(f==="sparse")return s.diagonal(v,m,0,h);if(f==="dense")return i.diagonal(v,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var T=$u([],v,h),S=o<c?o:c,C=0;C<S;C++)T[C][C]=m;return T}}),i_="kron",oU=["typed","matrix","multiplyScalar"],uU=Q(i_,oU,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(i_,{"Matrix, Matrix":function(u,l){return r(i(u.toArray(),l.toArray()))},"Matrix, Array":function(u,l){return r(i(u.toArray(),l))},"Array, Matrix":function(u,l){return r(i(u,l.toArray()))},"Array, Array":i});function a(s,u){return s.flatMap(l=>u.map(o=>n(l,o)))}function i(s,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(l<0){var o=at(s).length,c=at(u).length;for(l=Math.max(o,c);o++<l;)s=[s];for(;c++<l;)u=[u]}return l===1?a(s,u):s.flatMap(f=>u.map(d=>i(f,d,l-1)))}}),Jp="map",lU=["typed"],f4=Q(Jp,lU,t=>{var{typed:e}=t;return e(Jp,{"Array, function":u,"Matrix, function":function(o,c){return o.map(c)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(l,o,c)=>r([l,o,...c.slice(0,c.length-1)],c[c.length-1])});function r(l,o){if(typeof o!="function")throw new Error("Last argument must be a callback function");var c=l[0].isMatrix,f=l.map(y=>y.isMatrix?y.size():at(y)),d=Im(...f),m=l.length,h=c?(y,x)=>y.get(x):Pm,v=l.map((y,x)=>{var w=f[x].map(()=>0);return y.isMatrix?y.get(w):Pm(y,w)}),T=e.isTypedFunction(o)?s(o,v,d.map(()=>0),l):i(o,m);if(T<2){var S=a(T,o,null);return n(l,S)}var C=c?l.map(y=>y.isMatrix?y.create(Js(y.toArray(),d),y.datatype()):l[0].create(Js(y.valueOf(),d))):l.map(y=>y.isMatrix?Js(y.toArray(),d):Js(y,d)),N=a(T,o,C),M=(y,x)=>N([y,...C.slice(1).map(w=>h(w,x))],x);return c?C[0].map(M):u(C[0],M)}function n(l,o){var c=l[0],f=l.map(y=>y.isMatrix?y.valueOf():y),d=l.map(y=>y.isMatrix?y.size():at(y)),m=Im(...d),h=d.map(y=>m.length-y.length),v=m.length-1,T=o.length>1,S=T?[]:null,C=M(f,0);if(c.isMatrix){var N=c.create();return N._data=C,N._size=m,N}else return C;function M(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=m[x],g=Array(w);if(x<v)for(var _=function(F){S&&(S[x]=F),g[F]=M(y.map((B,P)=>h[P]>x?B:B.length===1?B[0]:B[F]),x+1)},E=0;E<w;E++)_(E);else for(var b=function(F){S&&(S[x]=F),g[F]=o(y.map(B=>B.length===1?B[0]:B[F]),S?S.slice():void 0)},A=0;A<w;A++)b(A);return g}}function a(l,o,c){switch(l){case 0:return f=>o(...f);case 1:return(f,d)=>o(...f,d);case 2:return(f,d)=>o(...f,d,...c)}}function i(l,o){var c=l.toString();if(/arguments/.test(c))return 2;var f=c.match(/\(.*?\)/);return/\.\.\./.test(f)||l.length>o+1?2:l.length===o+1?1:0}function s(l,o,c,f){return e.resolve(l,[...o,c,...f])!==null?2:e.resolve(l,[...o,c])!==null?1:(e.resolve(l,o)!==null,0)}function u(l,o){var c=lo(o,l,Jp);return Ag(l,c.fn,c.isUnary)}}),s_="diff",cU=["typed","matrix","subtract","number"],d4=Q(s_,cU,t=>{var{typed:e,matrix:r,subtract:n,number:a}=t;return e(s_,{"Array | Matrix":function(c){return Ye(c)?r(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,f){if(!We(f))throw new RangeError("Dimension must be a whole number");return Ye(c)?r(i(c.toArray(),f)):i(c,f)},"Array, BigNumber":e.referTo("Array,number",o=>(c,f)=>o(c,a(f))),"Matrix, BigNumber":e.referTo("Matrix,number",o=>(c,f)=>o(c,a(f)))});function i(o,c){if(Ye(o)&&(o=o.toArray()),!Array.isArray(o))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return o.forEach(d=>{f.push(i(d,c-1))}),f}else{if(c===0)return s(o);throw RangeError("Cannot have negative dimension")}}function s(o){for(var c=[],f=o.length,d=1;d<f;d++)c.push(u(o[d-1],o[d]));return c}function u(o,c){Ye(o)&&(o=o.toArray()),Ye(c)&&(c=c.toArray());var f=Array.isArray(o),d=Array.isArray(c);if(f&&d)return l(o,c);if(!f&&!d)return n(c,o);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(o,c){if(o.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=o.length,m=0;m<d;m++)f.push(u(o[m],c[m]));return f}}),fU="ones",dU=["typed","config","matrix","BigNumber"],mU=Q(fU,dU,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e("ones",{"":function(){return r.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(o){var c=o[o.length-1];if(typeof c=="string"){var f=o.pop();return i(o,f)}else return r.matrix==="Array"?i(o):i(o,"default")},Array:i,Matrix:function(o){var c=o.storage();return i(o.valueOf(),c)},"Array | Matrix, string":function(o,c){return i(o.valueOf(),c)}});function i(l,o){var c=s(l),f=c?new a(1):1;if(u(l),o){var d=n(o);return l.length>0?d.resize(l,f):d}else{var m=[];return l.length>0?$u(m,l,f):m}}function s(l){var o=!1;return l.forEach(function(c,f,d){ut(c)&&(o=!0,d[f]=c.toNumber())}),o}function u(l){l.forEach(function(o){if(typeof o!="number"||!We(o)||o<0)throw new Error("Parameters in function ones must be positive integers")})}});function jy(){throw new Error('No "bignumber" implementation available')}function m4(){throw new Error('No "fraction" implementation available')}function hU(){throw new Error('No "matrix" implementation available')}var o_="range",pU=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],h4=Q(o_,pU,t=>{var{typed:e,config:r,matrix:n,bignumber:a,smaller:i,smallerEq:s,larger:u,largerEq:l,add:o,isZero:c,isPositive:f}=t;return e(o_,{string:m,"string, boolean":m,number:function(S){throw new TypeError("Too few arguments to function range(): ".concat(S))},boolean:function(S){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(S,", number|bigint|BigNumber|Fraction"))},"number, number":function(S,C){return d(h(S,C,1,!1))},"number, number, number":function(S,C,N){return d(h(S,C,N,!1))},"number, number, boolean":function(S,C,N){return d(h(S,C,1,N))},"number, number, number, boolean":function(S,C,N,M){return d(h(S,C,N,M))},"bigint, bigint|number":function(S,C){return d(h(S,C,1n,!1))},"number, bigint":function(S,C){return d(h(BigInt(S),C,1n,!1))},"bigint, bigint|number, bigint|number":function(S,C,N){return d(h(S,C,BigInt(N),!1))},"number, bigint, bigint|number":function(S,C,N){return d(h(BigInt(S),C,BigInt(N),!1))},"bigint, bigint|number, boolean":function(S,C,N){return d(h(S,C,1n,N))},"number, bigint, boolean":function(S,C,N){return d(h(BigInt(S),C,1n,N))},"bigint, bigint|number, bigint|number, boolean":function(S,C,N,M){return d(h(S,C,BigInt(N),M))},"number, bigint, bigint|number, boolean":function(S,C,N,M){return d(h(BigInt(S),C,BigInt(N),M))},"BigNumber, BigNumber":function(S,C){var N=S.constructor;return d(h(S,C,new N(1),!1))},"BigNumber, BigNumber, BigNumber":function(S,C,N){return d(h(S,C,N,!1))},"BigNumber, BigNumber, boolean":function(S,C,N){var M=S.constructor;return d(h(S,C,new M(1),N))},"BigNumber, BigNumber, BigNumber, boolean":function(S,C,N,M){return d(h(S,C,N,M))},"Fraction, Fraction":function(S,C){return d(h(S,C,1,!1))},"Fraction, Fraction, Fraction":function(S,C,N){return d(h(S,C,N,!1))},"Fraction, Fraction, boolean":function(S,C,N){return d(h(S,C,1,N))},"Fraction, Fraction, Fraction, boolean":function(S,C,N,M){return d(h(S,C,N,M))},"Unit, Unit, Unit":function(S,C,N){return d(h(S,C,N,!1))},"Unit, Unit, Unit, boolean":function(S,C,N,M){return d(h(S,C,N,M))}});function d(T){return r.matrix==="Matrix"?n?n(T):hU():T}function m(T,S){var C=v(T);if(!C)throw new SyntaxError('String "'+T+'" is no valid range');return r.number==="BigNumber"?(a===void 0&&jy(),d(h(a(C.start),a(C.end),a(C.step)))):d(h(C.start,C.end,C.step,S))}function h(T,S,C,N){var M=[];if(c(C))throw new Error("Step must be non-zero");for(var y=f(C)?N?s:i:N?l:u,x=T;y(x,S);)M.push(x),x=o(x,C);return M}function v(T){var S=T.split(":"),C=S.map(function(M){return Number(M)}),N=C.some(function(M){return isNaN(M)});if(N)return null;switch(C.length){case 2:return{start:C[0],end:C[1],step:1};case 3:return{start:C[0],end:C[2],step:C[1]};default:return null}}}),u_="reshape",vU=["typed","isInteger","matrix"],gU=Q(u_,vU,t=>{var{typed:e,isInteger:r}=t;return e(u_,{"Matrix, Array":function(a,i){return a.reshape(i,!0)},"Array, Array":function(a,i){return i.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),My(a,i)}})}),yU="resize",xU=["config","matrix"],bU=Q(yU,xU,t=>{var{config:e,matrix:r}=t;return function(i,s,u){if(arguments.length!==2&&arguments.length!==3)throw new No("resize",arguments.length,2,3);if(Ye(s)&&(s=s.valueOf()),ut(s[0])&&(s=s.map(function(c){return ut(c)?c.toNumber():c})),Ye(i))return i.resize(s,u,!0);if(typeof i=="string")return n(i,s,u);var l=Array.isArray(i)?!1:e.matrix!=="Array";if(s.length===0){for(;Array.isArray(i);)i=i[0];return nt(i)}else{Array.isArray(i)||(i=[i]),i=nt(i);var o=$u(i,s,u);return l?r(o):o}};function n(a,i,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(i.length!==1)throw new mt(i.length,1);var u=i[0];if(typeof u!="number"||!We(u))throw new TypeError("Invalid size, must contain positive integers (size: "+pt(i)+")");if(a.length>u)return a.substring(0,u);if(a.length<u){for(var l=a,o=0,c=u-a.length;o<c;o++)l+=s;return l}else return a}}),l_="rotate",wU=["typed","multiply","rotationMatrix"],NU=Q(l_,wU,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(l_,{"Array , number | BigNumber | Complex | Unit":function(s,u){a(s,2);var l=r(n(u),s);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,u){return a(s,2),r(n(u),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,u,l){a(s,3);var o=r(n(u,l),s);return o},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,u,l){return a(s,3),r(n(u,l),s)}});function a(i,s){var u=Array.isArray(i)?at(i):i.size();if(u.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(u.length===2&&u[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(u[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),c_="rotationMatrix",_U=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],EU=Q(c_,_U,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:a,unaryMinus:i,norm:s,BigNumber:u,matrix:l,DenseMatrix:o,SparseMatrix:c,cos:f,sin:d}=t;return e(c_,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(N){return l(N)},"number | BigNumber | Complex | Unit":function(N){return m(N,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(N,M){return m(N,M)},"number | BigNumber | Complex | Unit, Array":function(N,M){var y=l(M);return h(y),S(N,y,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(N,M){h(M);var y=M.storage()||(r.matrix==="Matrix"?"dense":void 0);return S(N,M,y)},"number | BigNumber | Complex | Unit, Array, string":function(N,M,y){var x=l(M);return h(x),S(N,x,y)},"number | BigNumber | Complex | Unit, Matrix, string":function(N,M,y){return h(M),S(N,M,y)}});function m(C,N){var M=ut(C),y=M?new u(-1):-1,x=f(C),w=d(C),g=[[x,n(y,w)],[w,x]];return T(g,N)}function h(C){var N=C.size();if(N.length<1||N[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function v(C){return C.reduce((N,M)=>n(N,M))}function T(C,N){if(N){if(N==="sparse")return new c(C);if(N==="dense")return new o(C);throw new TypeError('Unknown matrix type "'.concat(N,'"'))}return C}function S(C,N,M){var y=s(N);if(y===0)throw new RangeError("Rotation around zero vector");var x=ut(C)?u:null,w=x?new x(1):1,g=x?new x(-1):-1,_=x?new x(N.get([0])/y):N.get([0])/y,E=x?new x(N.get([1])/y):N.get([1])/y,b=x?new x(N.get([2])/y):N.get([2])/y,A=f(C),I=a(w,i(A)),F=d(C),B=a(A,v([_,_,I])),P=a(v([_,E,I]),v([g,b,F])),L=a(v([_,b,I]),v([E,F])),$=a(v([_,E,I]),v([b,F])),k=a(A,v([E,E,I])),V=a(v([E,b,I]),v([g,_,F])),ee=a(v([_,b,I]),v([g,E,F])),j=a(v([E,b,I]),v([_,F])),X=a(A,v([b,b,I])),U=[[B,P,L],[$,k,V],[ee,j,X]];return T(U,M)}}),f_="row",SU=["typed","Index","matrix","range"],p4=Q(f_,SU,t=>{var{typed:e,Index:r,matrix:n,range:a}=t;return e(f_,{"Matrix, number":i,"Array, number":function(u,l){return i(n(nt(u)),l).valueOf()}});function i(s,u){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(u,s.size()[0]);var l=a(0,s.size()[1]),o=new r([u],l),c=s.subset(o);return Ye(c)?c:n([[c]])}}),d_="size",AU=["typed"],DU=Q(d_,AU,t=>{var{typed:e}=t;return e(d_,{Matrix:r=>r.size(),Array:at,string:r=>[r.length],"number | Complex | BigNumber | Unit | boolean | null":r=>[]})}),m_="squeeze",CU=["typed"],TU=Q(m_,CU,t=>{var{typed:e}=t;return e(m_,{Array:function(n){return Tm(nt(n))},Matrix:function(n){var a=Tm(n.toArray());return Array.isArray(a)?n.create(a,n.datatype()):a},any:function(n){return nt(n)}})}),h_="subset",MU=["typed","matrix","zeros","add"],v4=Q(h_,MU,t=>{var{typed:e,matrix:r,zeros:n,add:a}=t;return e(h_,{"Matrix, Index":function(u,l){return ku(l)?r():(Cm(u,l),u.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(u,l){var o=s(r(u),l);return l.isScalar()?o:o.valueOf()}}),"Object, Index":PU,"string, Index":IU,"Matrix, Index, any, any":function(u,l,o,c){return ku(l)?u:(Cm(u,l),u.clone().subset(l,i(o,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(u,l,o,c){var f=s(r(u),l,o,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(u,l,o){return s(r(u),l,o,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(u,l,o){return s(u,l,o,void 0)}}),"string, Index, string":p_,"string, Index, string, string":p_,"Object, Index, any":FU});function i(s,u){if(typeof s=="string")throw new Error("can't boradcast a string");if(u.isScalar())return s;var l=u.size();if(l.every(o=>o>0))try{return a(s,n(l))}catch{return s}else return s}});function IU(t,e){if(!Ch(e))throw new TypeError("Index expected");if(ku(e))return"";if(Cm(Array.from(t),e),e.size().length!==1)throw new mt(e.size().length,1);var r=t.length;Yt(e.min()[0],r),Yt(e.max()[0],r);var n=e.dimension(0),a="";function i(s){a+=t.charAt(s)}return Number.isInteger(n)?i(n):n.forEach(i),a}function p_(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(ku(e))return t;if(Cm(Array.from(t),e),e.size().length!==1)throw new mt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=e.dimension(0),i=Number.isInteger(a)?1:a.size()[0];if(i!==r.length)throw new mt(a.size()[0],r.length);var s=t.length;Yt(e.min()[0]),Yt(e.max()[0]);for(var u=[],l=0;l<s;l++)u[l]=t.charAt(l);function o(d,m){u[d]=r.charAt(m[0])}if(Number.isInteger(a)?o(a,[0]):a.forEach(o),u.length>s)for(var c=s-1,f=u.length;c<f;c++)u[c]||(u[c]=n);return u.join("")}function PU(t,e){if(!ku(e)){if(e.size().length!==1)throw new mt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return En(t,r)}}function FU(t,e,r){if(ku(e))return t;if(e.size().length!==1)throw new mt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var a=nt(t);return Bu(a,n,r),a}var v_="transpose",RU=["typed","matrix"],OU=Q(v_,RU,t=>{var{typed:e,matrix:r}=t;return e(v_,{Array:s=>n(r(s)).valueOf(),Matrix:n,any:nt});function n(s){var u=s.size(),l;switch(u.length){case 1:l=s.clone();break;case 2:{var o=u[0],c=u[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+pt(u)+")");switch(s.storage()){case"dense":l=a(s,o,c);break;case"sparse":l=i(s,o,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+pt(u)+")")}return l}function a(s,u,l){for(var o=s._data,c=[],f,d=0;d<l;d++){f=c[d]=[];for(var m=0;m<u;m++)f[m]=nt(o[m][d])}return s.createDenseMatrix({data:c,size:[l,u],datatype:s._datatype})}function i(s,u,l){for(var o=s._values,c=s._index,f=s._ptr,d=o?[]:void 0,m=[],h=[],v=[],T=0;T<u;T++)v[T]=0;var S,C,N;for(S=0,C=c.length;S<C;S++)v[c[S]]++;for(var M=0,y=0;y<u;y++)h.push(M),M+=v[y],v[y]=h[y];for(h.push(M),N=0;N<l;N++)for(var x=f[N],w=f[N+1],g=x;g<w;g++){var _=v[c[g]]++;m[_]=N,o&&(d[_]=nt(o[g]))}return s.createSparseMatrix({values:d,index:m,ptr:h,size:[l,u],datatype:s._datatype})}}),g_="ctranspose",BU=["typed","transpose","conj"],jU=Q(g_,BU,t=>{var{typed:e,transpose:r,conj:n}=t;return e(g_,{any:function(i){return n(r(i))}})}),y_="zeros",kU=["typed","config","matrix","BigNumber"],$U=Q(y_,kU,t=>{var{typed:e,config:r,matrix:n,BigNumber:a}=t;return e(y_,{"":function(){return r.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(o){var c=o[o.length-1];if(typeof c=="string"){var f=o.pop();return i(o,f)}else return r.matrix==="Array"?i(o):i(o,"default")},Array:i,Matrix:function(o){var c=o.storage();return i(o.valueOf(),c)},"Array | Matrix, string":function(o,c){return i(o.valueOf(),c)}});function i(l,o){var c=s(l),f=c?new a(0):0;if(u(l),o){var d=n(o);return l.length>0?d.resize(l,f):d}else{var m=[];return l.length>0?$u(m,l,f):m}}function s(l){var o=!1;return l.forEach(function(c,f,d){ut(c)&&(o=!0,d[f]=c.toNumber())}),o}function u(l){l.forEach(function(o){if(typeof o!="number"||!We(o)||o<0)throw new Error("Parameters in function zeros must be positive integers")})}}),x_="fft",LU=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],zU=Q(x_,LU,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:a,divideScalar:i,exp:s,tau:u,i:l,dotDivide:o,conj:c,pow:f,ceil:d,log2:m}=t;return e(x_,{Array:h,Matrix:function(N){return N.create(h(N.valueOf()),N.datatype())}});function h(C){var N=at(C);return N.length===1?S(C,N[0]):v(C.map(M=>h(M,N.slice(1))),0)}function v(C,N){var M=at(C);if(N!==0)return new Array(M[0]).fill(0).map((x,w)=>v(C[w],N-1));if(M.length===1)return S(C);function y(x){var w=at(x);return new Array(w[1]).fill(0).map((g,_)=>new Array(w[0]).fill(0).map((E,b)=>x[b][_]))}return y(v(y(C),1))}function T(C){for(var N=C.length,M=s(i(a(-1,a(l,u)),N)),y=[],x=1-N;x<N;x++)y.push(f(M,i(f(x,2),2)));for(var w=f(2,d(m(N+N-1))),g=[...new Array(N).fill(0).map((P,L)=>a(C[L],y[N-1+L])),...new Array(w-N).fill(0)],_=[...new Array(N+N-1).fill(0).map((P,L)=>i(1,y[L])),...new Array(w-(N+N-1)).fill(0)],E=S(g),b=S(_),A=new Array(w).fill(0).map((P,L)=>a(E[L],b[L])),I=o(c(h(c(A))),w),F=[],B=N-1;B<N+N-1;B++)F.push(a(I[B],y[B]));return F}function S(C){var N=C.length;if(N===1)return[C[0]];if(N%2===0){for(var M=[...S(C.filter((g,_)=>_%2===0)),...S(C.filter((g,_)=>_%2===1))],y=0;y<N/2;y++){var x=M[y],w=a(M[y+N/2],s(a(a(u,l),i(-y,N))));M[y]=n(x,w),M[y+N/2]=n(x,a(-1,w))}return M}else return T(C)}}),b_="ifft",VU=["typed","fft","dotDivide","conj"],UU=Q(b_,VU,t=>{var{typed:e,fft:r,dotDivide:n,conj:a}=t;return e(b_,{"Array | Matrix":function(s){var u=Ye(s)?s.size():at(s);return n(a(r(a(s))),u.reduce((l,o)=>l*o,1))}})});function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function qU(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HU(t){var e=qU(t,"string");return Lc(e)=="symbol"?e:e+""}function Mr(t,e,r){return(e=HU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WU="solveODE",QU=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],XU=Q(WU,QU,t=>{var{typed:e,add:r,subtract:n,multiply:a,divide:i,max:s,map:u,abs:l,isPositive:o,isNegative:c,larger:f,smaller:d,matrix:m,bignumber:h,unaryMinus:v}=t;function T(g){return function(_,E,b,A){var I=!(E.length===2&&(E.every(x)||E.every(Gn)));if(I)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var F=E[0],B=E[1],P=f(B,F),L=A.firstStep;if(L!==void 0&&!o(L))throw new Error('"firstStep" must be positive');var $=A.maxStep;if($!==void 0&&!o($))throw new Error('"maxStep" must be positive');var k=A.minStep;if(k&&c(k))throw new Error('"minStep" must be positive or zero');var V=[F,B,L,k,$].filter(q=>q!==void 0);if(!(V.every(x)||V.every(Gn)))throw new Error('Inconsistent type of "t" dependant variables');for(var ee=1,j=A.tol?A.tol:1e-4,X=A.minDelta?A.minDelta:.2,U=A.maxDelta?A.maxDelta:5,de=A.maxIter?A.maxIter:1e4,ue=[F,B,...b,$,k].some(ut),[le,H,J,re]=ue?[h(g.a),h(g.c),h(g.b),h(g.bp)]:[g.a,g.c,g.b,g.bp],ie=L?P?L:v(L):i(n(B,F),ee),se=[F],ve=[b],me=n(J,re),Ne=0,Be=0,Le=M(P),Ee=y(P);Le(se[Ne],B);){var De=[];ie=Ee(se[Ne],B,ie),De.push(_(se[Ne],ve[Ne]));for(var G=1;G<H.length;++G)De.push(_(r(se[Ne],a(H[G],ie)),r(ve[Ne],a(ie,le[G],De))));var te=s(l(u(a(me,De),q=>Gn(q)?q.value:q)));te<j&&j/te>1/4&&(se.push(r(se[Ne],ie)),ve.push(r(ve[Ne],a(ie,J,De))),Ne++);var ce=.84*(j/te)**(1/5);if(d(ce,X)?ce=X:f(ce,U)&&(ce=U),ce=ue?h(ce):ce,ie=a(ie,ce),$&&f(l(ie),$)?ie=P?$:v($):k&&d(l(ie),k)&&(ie=P?k:v(k)),Be++,Be>de)throw new Error("Maximum number of iterations reached, try changing options")}return{t:se,y:ve}}}function S(g,_,E,b){var A=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],I=[null,1/2,3/4,1],F=[2/9,1/3,4/9,0],B=[7/24,1/4,1/3,1/8],P={a:A,c:I,b:F,bp:B};return T(P)(g,_,E,b)}function C(g,_,E,b){var A=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],I=[null,1/5,3/10,4/5,8/9,1,1],F=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],B=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],P={a:A,c:I,b:F,bp:B};return T(P)(g,_,E,b)}function N(g,_,E,b){var A=b.method?b.method:"RK45",I={RK23:S,RK45:C};if(A.toUpperCase()in I){var F=GU({},b);return delete F.method,I[A.toUpperCase()](g,_,E,F)}else{var B=Object.keys(I).map(L=>'"'.concat(L,'"')),P="".concat(B.slice(0,-1).join(", ")," and ").concat(B.slice(-1));throw new Error('Unavailable method "'.concat(A,'". Available methods are ').concat(P))}}function M(g){return g?d:f}function y(g){var _=g?f:d;return function(E,b,A){var I=r(E,A);return _(I,b)?n(b,E):A}}function x(g){return ut(g)||Xe(g)}function w(g,_,E,b){var A=N(g,_.toArray(),E.toArray(),b);return{t:m(A.t),y:m(A.y)}}return e("solveODE",{"function, Array, Array, Object":N,"function, Matrix, Matrix, Object":w,"function, Array, Array":(g,_,E)=>N(g,_,E,{}),"function, Matrix, Matrix":(g,_,E)=>w(g,_,E,{}),"function, Array, number | BigNumber | Unit":(g,_,E)=>{var b=N(g,_,[E],{});return{t:b.t,y:b.y.map(A=>A[0])}},"function, Matrix, number | BigNumber | Unit":(g,_,E)=>{var b=N(g,_.toArray(),[E],{});return{t:m(b.t),y:m(b.y.map(A=>A[0]))}},"function, Array, number | BigNumber | Unit, Object":(g,_,E,b)=>{var A=N(g,_,[E],b);return{t:A.t,y:A.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit, Object":(g,_,E,b)=>{var A=N(g,_.toArray(),[E],b);return{t:m(A.t),y:m(A.y.map(I=>I[0]))}}})}),KU="erf",JU=["typed"],YU=Q(KU,JU,t=>{var{typed:e}=t;return e("name",{number:function(s){var u=Math.abs(s);return u>=tq?Wi(s):u<=ZU?Wi(s)*r(u):u<=4?Wi(s)*(1-n(u)):Wi(s)*(1-a(u))},"Array | Matrix":e.referToSelf(i=>s=>lt(s,i))});function r(i){var s=i*i,u=si[0][4]*s,l=s,o;for(o=0;o<3;o+=1)u=(u+si[0][o])*s,l=(l+zo[0][o])*s;return i*(u+si[0][3])/(l+zo[0][3])}function n(i){var s=si[1][8]*i,u=i,l;for(l=0;l<7;l+=1)s=(s+si[1][l])*i,u=(u+zo[1][l])*i;var o=(s+si[1][7])/(u+zo[1][7]),c=parseInt(i*16)/16,f=(i-c)*(i+c);return Math.exp(-c*c)*Math.exp(-f)*o}function a(i){var s=1/(i*i),u=si[2][5]*s,l=s,o;for(o=0;o<4;o+=1)u=(u+si[2][o])*s,l=(l+zo[2][o])*s;var c=s*(u+si[2][4])/(l+zo[2][4]);c=(eq-c)/i,s=parseInt(i*16)/16;var f=(i-s)*(i+s);return Math.exp(-s*s)*Math.exp(-f)*c}}),ZU=.46875,eq=.5641895835477563,si=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],zo=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],tq=Math.pow(2,53),N_="zeta",rq=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],nq=Q(N_,rq,t=>{var{typed:e,config:r,multiply:n,pow:a,divide:i,factorial:s,equal:u,smallerEq:l,isNegative:o,gamma:c,sin:f,subtract:d,add:m,Complex:h,BigNumber:v,pi:T}=t;return e(N_,{number:x=>S(x,w=>w,()=>20),BigNumber:x=>S(x,w=>new v(w),()=>Math.abs(Math.log10(r.relTol))),Complex:C});function S(x,w,g){return u(x,0)?w(-.5):u(x,1)?w(NaN):isFinite(x)?N(x,w,g,_=>_):o(x)?w(NaN):w(1)}function C(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):N(x,w=>w,w=>Math.round(1.3*15+.9*Math.abs(w.im)),w=>w.re)}function N(x,w,g,_){var E=g(x);if(_(x)>-(E-1)/2)return y(x,w(E),w);var b=n(a(2,x),a(w(T),d(x,1)));return b=n(b,f(n(i(w(T),2),x))),b=n(b,c(d(1,x))),n(b,N(d(1,x),w,g,_))}function M(x,w){for(var g=x,_=x;l(_,w);_=m(_,1)){var E=i(n(s(m(w,d(_,1))),a(4,_)),n(s(d(w,_)),s(n(2,_))));g=m(g,E)}return n(w,g)}function y(x,w,g){for(var _=i(1,n(M(g(0),w),d(1,a(2,d(1,x))))),E=g(0),b=g(1);l(b,w);b=m(b,1))E=m(E,i(n((-1)**(b-1),M(b,w)),a(b,x)));return n(_,E)}}),__="mode",aq=["typed","isNaN","isNumeric"],iq=Q(__,aq,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(__,{"Array | Matrix":a,"...":function(s){return a(s)}});function a(i){i=Ct(i.valueOf());var s=i.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var u={},l=[],o=0,c=0;c<i.length;c++){var f=i[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in u||(u[f]=0),u[f]++,u[f]===o?l.push(f):u[f]>o&&(o=u[f],l=[f])}return l}});function Dn(t,e,r){var n;return String(t).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Xt(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).includes("complex numbers")?(n=arguments.length>2?" (type: "+Xt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var E_="prod",sq=["typed","config","multiplyScalar","numeric"],oq=Q(E_,sq,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:a}=t;return e(E_,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(u,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(u){return i(u)}});function i(s){var u;if(ws(s,function(l){try{u=u===void 0?l:n(u,l)}catch(o){throw Dn(o,"prod",l)}}),typeof u=="string"&&(u=a(u,Ss(u,r))),u===void 0)throw new Error("Cannot calculate prod of an empty array");return u}}),S_="format",uq=["typed"],lq=Q(S_,uq,t=>{var{typed:e}=t;return e(S_,{any:pt,"any, Object | function | number | BigNumber":pt})}),A_="bin",cq=["typed","format"],fq=Q(A_,cq,t=>{var{typed:e,format:r}=t;return e(A_,{"number | BigNumber":function(a){return r(a,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(a,i){return r(a,{notation:"bin",wordSize:i})}})}),D_="oct",dq=["typed","format"],mq=Q(D_,dq,t=>{var{typed:e,format:r}=t;return e(D_,{"number | BigNumber":function(a){return r(a,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(a,i){return r(a,{notation:"oct",wordSize:i})}})}),C_="hex",hq=["typed","format"],pq=Q(C_,hq,t=>{var{typed:e,format:r}=t;return e(C_,{"number | BigNumber":function(a){return r(a,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(a,i){return r(a,{notation:"hex",wordSize:i})}})}),g4=/\$([\w.]+)/g,T_="print",vq=["typed"],y4=Q(T_,vq,t=>{var{typed:e}=t;return e(T_,{"string, Object | Array":M_,"string, Object | Array, number | Object":M_})});function M_(t,e,r){return t.replace(g4,function(n,a){var i=a.split("."),s=e[i.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());i.length&&s!==void 0;){var u=i.shift();s=u?s[u]:s+"."}return s!==void 0?yr(s)?s:pt(s,r):n})}var I_="to",gq=["typed","matrix","concat"],yq=Q(I_,gq,t=>{var{typed:e,matrix:r,concat:n}=t,a=Zt({typed:e,matrix:r,concat:n});return e(I_,{"Unit, Unit | string":(i,s)=>i.to(s)},a({Ds:!0}))}),P_="toBest",xq=["typed"],bq=Q(P_,xq,t=>{var{typed:e}=t;return e(P_,{Unit:r=>r.toBest(),"Unit, string":(r,n)=>r.toBest(n.split(",")),"Unit, string, Object":(r,n,a)=>r.toBest(n.split(","),a),"Unit, Array":(r,n)=>r.toBest(n),"Unit, Array, Object":(r,n,a)=>r.toBest(n,a)})}),F_="isPrime",wq=["typed"],Nq=Q(F_,wq,t=>{var{typed:e}=t;return e(F_,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var a=5;a*a<=n;a+=6)if(n%a===0||n%(a+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var a=5n;a*a<=n;a+=6n)if(n%a===0n||n%(a+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var a=n.toNumber(),i=5;i*i<=a;i+=6)if(a%i===0||a%(i+2)===0)return!1;return!0}function s(C,N,M){for(var y=1;!N.eq(0);)N.mod(2).eq(0)?(N=N.div(2),C=C.mul(C).mod(M)):(N=N.sub(1),y=C.mul(y).mod(M));return y}var u=n.constructor.clone({precision:n.toFixed(0).length*2});n=new u(n);for(var l=0,o=n.sub(1);o.mod(2).eq(0);)o=o.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(C=>C<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var d=2;d<=f;d+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],v=s(n.sub(n).add(h),o,n);if(!v.eq(1)){for(var T=0,S=v;!S.eq(n.sub(1));T+=1,S=S.mul(S).mod(n))if(T===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>lt(n,r))})}),_q="numeric",Eq=["number","?bignumber","?fraction"],Sq=Q(_q,Eq,t=>{var{number:e,bignumber:r,fraction:n}=t,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:s=>e(s),BigNumber:r?s=>r(s):jy,bigint:s=>BigInt(s),Fraction:n?s=>n(s):m4};return function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",o=arguments.length>2?arguments[2]:void 0;if(o!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Xt(u);if(!(c in a))throw new TypeError("Cannot convert "+u+' of type "'+c+'"; valid input types are '+Object.keys(a).join(", "));if(!(l in i))throw new TypeError("Cannot convert "+u+' to type "'+l+'"; valid output types are '+Object.keys(i).join(", "));return l===c?u:i[l](u)}}),R_="divideScalar",Aq=["typed","numeric"],Dq=Q(R_,Aq,t=>{var{typed:e,numeric:r}=t;return e(R_,{"number, number":function(a,i){return a/i},"Complex, Complex":function(a,i){return a.div(i)},"BigNumber, BigNumber":function(a,i){return a.div(i)},"bigint, bigint":function(a,i){return a/i},"Fraction, Fraction":function(a,i){return a.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,a)=>n.divide(a),"number | Fraction | Complex | BigNumber, Unit":(n,a)=>a.divideInto(n)})}),O_="pow",Cq=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Tq=Q(O_,Cq,t=>{var{typed:e,config:r,identity:n,multiply:a,matrix:i,inv:s,number:u,fraction:l,Complex:o}=t;return e(O_,{"number, number":c,"Complex, Complex":function(h,v){return h.pow(v)},"BigNumber, BigNumber":function(h,v){return v.isInteger()||h>=0||r.predictable?h.pow(v):new o(h.toNumber(),0).pow(v.toNumber(),0)},"bigint, bigint":(m,h)=>m**h,"Fraction, Fraction":function(h,v){var T=h.pow(v);if(T!=null)return T;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),v.valueOf())},"Array, number":f,"Array, BigNumber":function(h,v){return f(h,v.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(h,v){return d(h,v.toNumber())},"Unit, number | BigNumber":function(h,v){return h.pow(v)}});function c(m,h){if(r.predictable&&!We(h)&&m<0)try{var v=l(h),T=u(v);if((h===T||Math.abs((h-T)/h)<1e-14)&&v.d%2n===1n)return(v.n%2n===0n?1:-1)*Math.pow(-m,h)}catch{}return r.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:We(h)||m>=0||r.predictable?NM(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new o(m,0).pow(h,0)}function f(m,h){if(!We(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var v=at(m);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");if(h<0)try{return f(s(m),-h)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):C}for(var T=n(v[0]).valueOf(),S=m;h>=1;)(h&1)===1&&(T=a(S,T)),h>>=1,S=a(S,S);return T}function d(m,h){return i(f(m.valueOf(),h))}}),Vo="Number of decimals in function round must be an integer",B_="round",Mq=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Iq=Q(B_,Mq,t=>{var{typed:e,config:r,matrix:n,equalScalar:a,zeros:i,BigNumber:s,DenseMatrix:u}=t,l=on({typed:e,equalScalar:a}),o=jr({typed:e,DenseMatrix:u}),c=va({typed:e});function f(d){return Math.abs(tf(d).exponent)}return e(B_,{number:function(m){var h=Rl(m,f(r.relTol)),v=Kr(m,h,r.relTol,r.absTol)?h:m;return Rl(v)},"number, number":function(m,h){var v=f(r.relTol);if(h>=v)return Rl(m,h);var T=Rl(m,v),S=Kr(m,T,r.relTol,r.absTol)?T:m;return Rl(S,h)},"number, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Vo);return new s(m).toDecimalPlaces(h.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,h){if(h%1)throw new TypeError(Vo);return m.round(h)},"Complex, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Vo);var v=h.toNumber();return m.round(v)},BigNumber:function(m){var h=new s(m).toDecimalPlaces(f(r.relTol)),v=pa(m,h,r.relTol,r.absTol)?h:m;return v.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Vo);var v=f(r.relTol);if(h>=v)return m.toDecimalPlaces(h.toNumber());var T=m.toDecimalPlaces(v),S=pa(m,T,r.relTol,r.absTol)?T:m;return S.toDecimalPlaces(h.toNumber())},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.round()},"Fraction, number":function(m,h){if(h%1)throw new TypeError(Vo);return m.round(h)},"Fraction, BigNumber":function(m,h){if(!h.isInteger())throw new TypeError(Vo);return m.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(m,h,v){var T=m.toNumeric(v);return v.multiply(d(T,h))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,h,v)=>d(m,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,h,v)=>lt(m,T=>d(T,h,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,h)=>d(m,0,h)),"Array | Matrix":e.referToSelf(d=>m=>lt(m,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,h)=>l(m,h,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,h)=>c(m,h,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(m,h)=>c(n(m),h,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(m,h)=>a(m,0)?i(h.size(),h.storage()):o(h,m,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(m,h)=>a(m,0)?i(h.size(),h.storage()):c(h,m,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(m,h)=>c(n(h),m,d,!0).valueOf())})}),j_="log",Pq=["config","typed","typeOf","divideScalar","Complex"],Fq=Math.log(16),Rq=Q(j_,Pq,t=>{var{typed:e,typeOf:r,config:n,divideScalar:a,Complex:i}=t;function s(l){return l.log()}function u(l){return s(new i(l,0))}return e(j_,{number:function(o){return o>=0||n.predictable?JN(o):u(o)},bigint:Oy(Fq,JN,n,u),Complex:s,BigNumber:function(o){return!o.isNegative()||n.predictable?o.ln():u(o.toNumber())},"any, any":e.referToSelf(l=>(o,c)=>{if(r(o)==="Fraction"&&r(c)==="Fraction"){var f=o.log(c);if(f!==null)return f}return a(l(o),l(c))})})}),k_="log1p",Oq=["typed","config","divideScalar","log","Complex"],Bq=Q(k_,Oq,t=>{var{typed:e,config:r,divideScalar:n,log:a,Complex:i}=t;return e(k_,{number:function(l){return l>=-1||r.predictable?Tk(l):s(new i(l,0))},Complex:s,BigNumber:function(l){var o=l.plus(1);return!o.isNegative()||r.predictable?o.ln():s(new i(l.toNumber(),0))},"Array | Matrix":e.referToSelf(u=>l=>lt(l,u)),"any, any":e.referToSelf(u=>(l,o)=>n(u(l),a(o)))});function s(u){var l=u.re+1;return new i(Math.log(Math.sqrt(l*l+u.im*u.im)),Math.atan2(u.im,l))}}),$_="nthRoots",jq=["config","typed","divideScalar","Complex"],kq=Q($_,jq,t=>{var{typed:e,config:r,divideScalar:n,Complex:a}=t,i=[function(l){return new a(l,0)},function(l){return new a(0,l)},function(l){return new a(-l,0)},function(l){return new a(0,-l)}];function s(u,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(u===0||u.abs()===0)return[new a(0,0)];var o=typeof u=="number",c;(o||u.re===0||u.im===0)&&(o?c=2*+(u<0):u.im===0?c=2*+(u.re<0):c=2*+(u.im<0)+1);for(var f=u.arg(),d=u.abs(),m=[],h=Math.pow(d,1/l),v=0;v<l;v++){var T=(c+4*v)/l;if(T===Math.round(T)){m.push(i[T%4](h));continue}m.push(new a({r:h,phi:(f+2*Math.PI*v)/l}))}return m}return e($_,{Complex:function(l){return s(l,2)},"Complex, number":s})}),L_="dotPow",$q=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],Lq=Q(L_,$q,t=>{var{typed:e,equalScalar:r,matrix:n,pow:a,DenseMatrix:i,concat:s,SparseMatrix:u}=t,l=bn({typed:e}),o=ti({typed:e,SparseMatrix:u}),c=on({typed:e,equalScalar:r}),f=jr({typed:e,DenseMatrix:i}),d=Zt({typed:e,matrix:n,concat:s}),m={};for(var h in a.signatures)Object.prototype.hasOwnProperty.call(a.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(m[h]=a.signatures[h]);var v=e(m);return e(L_,d({elop:v,SS:o,DS:l,Ss:c,sS:f}))}),z_="dotDivide",zq=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],Vq=Q(z_,zq,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:a,DenseMatrix:i,concat:s,SparseMatrix:u}=t,l=Fa({typed:e,equalScalar:n}),o=bn({typed:e}),c=ti({typed:e,SparseMatrix:u}),f=on({typed:e,equalScalar:n}),d=jr({typed:e,DenseMatrix:i}),m=Zt({typed:e,matrix:r,concat:s});return e(z_,m({elop:a,SS:c,DS:o,SD:l,Ss:f,sS:d}))});function rf(t){var{DenseMatrix:e}=t;return function(n,a,i){var s=n.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+pt(s)+")");var u=s[0],l=s[1];if(u!==l)throw new RangeError("Matrix must be square (size: "+pt(s)+")");var o=[];if(Ye(a)){var c=a.size(),f=a._data;if(c.length===1){if(c[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<u;d++)o[d]=[f[d]];return new e({data:o,size:[u,1],datatype:a._datatype})}if(c.length===2){if(c[0]!==u||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(_m(a)){if(i){o=[];for(var m=0;m<u;m++)o[m]=[f[m][0]];return new e({data:o,size:[u,1],datatype:a._datatype})}return a}if(Ks(a)){for(var h=0;h<u;h++)o[h]=[0];for(var v=a._values,T=a._index,S=a._ptr,C=S[1],N=S[0];N<C;N++){var M=T[N];o[M][0]=v[N]}return new e({data:o,size:[u,1],datatype:a._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Wt(a)){var y=at(a);if(y.length===1){if(y[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<u;x++)o[x]=[a[x]];return new e({data:o,size:[u,1]})}if(y.length===2){if(y[0]!==u||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<u;w++)o[w]=[a[w][0]];return new e({data:o,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var V_="lsolve",Uq=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],qq=Q(V_,Uq,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtractScalar:i,equalScalar:s,DenseMatrix:u}=t,l=rf({DenseMatrix:u});return e(V_,{"SparseMatrix, Array | Matrix":function(d,m){return c(d,m)},"DenseMatrix, Array | Matrix":function(d,m){return o(d,m)},"Array, Array | Matrix":function(d,m){var h=r(d),v=o(h,m);return v.valueOf()}});function o(f,d){d=l(f,d,!0);for(var m=d._data,h=f._size[0],v=f._size[1],T=[],S=f._data,C=0;C<v;C++){var N=m[C][0]||0,M=void 0;if(s(N,0))M=0;else{var y=S[C][C];if(s(y,0))throw new Error("Linear system cannot be solved since matrix is singular");M=n(N,y);for(var x=C+1;x<h;x++)m[x]=[i(m[x][0]||0,a(M,S[x][C]))]}T[C]=[M]}return new u({data:T,size:[h,1]})}function c(f,d){d=l(f,d,!0);for(var m=d._data,h=f._size[0],v=f._size[1],T=f._values,S=f._index,C=f._ptr,N=[],M=0;M<v;M++){var y=m[M][0]||0;if(s(y,0))N[M]=[0];else{for(var x=0,w=[],g=[],_=C[M],E=C[M+1],b=_;b<E;b++){var A=S[b];A===M?x=T[b]:A>M&&(w.push(T[b]),g.push(A))}if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=n(y,x),F=0,B=g.length;F<B;F++){var P=g[F];m[P]=[i(m[P][0]||0,a(I,w[F]))]}N[M]=[I]}}return new u({data:N,size:[h,1]})}}),U_="usolve",Hq=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Gq=Q(U_,Hq,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtractScalar:i,equalScalar:s,DenseMatrix:u}=t,l=rf({DenseMatrix:u});return e(U_,{"SparseMatrix, Array | Matrix":function(d,m){return c(d,m)},"DenseMatrix, Array | Matrix":function(d,m){return o(d,m)},"Array, Array | Matrix":function(d,m){var h=r(d),v=o(h,m);return v.valueOf()}});function o(f,d){d=l(f,d,!0);for(var m=d._data,h=f._size[0],v=f._size[1],T=[],S=f._data,C=v-1;C>=0;C--){var N=m[C][0]||0,M=void 0;if(s(N,0))M=0;else{var y=S[C][C];if(s(y,0))throw new Error("Linear system cannot be solved since matrix is singular");M=n(N,y);for(var x=C-1;x>=0;x--)m[x]=[i(m[x][0]||0,a(M,S[x][C]))]}T[C]=[M]}return new u({data:T,size:[h,1]})}function c(f,d){d=l(f,d,!0);for(var m=d._data,h=f._size[0],v=f._size[1],T=f._values,S=f._index,C=f._ptr,N=[],M=v-1;M>=0;M--){var y=m[M][0]||0;if(s(y,0))N[M]=[0];else{for(var x=0,w=[],g=[],_=C[M],E=C[M+1],b=E-1;b>=_;b--){var A=S[b];A===M?x=T[b]:A<M&&(w.push(T[b]),g.push(A))}if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=n(y,x),F=0,B=g.length;F<B;F++){var P=g[F];m[P]=[i(m[P][0],a(I,w[F]))]}N[M]=[I]}}return new u({data:N,size:[h,1]})}}),q_="lsolveAll",Wq=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Qq=Q(q_,Wq,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtractScalar:i,equalScalar:s,DenseMatrix:u}=t,l=rf({DenseMatrix:u});return e(q_,{"SparseMatrix, Array | Matrix":function(d,m){return c(d,m)},"DenseMatrix, Array | Matrix":function(d,m){return o(d,m)},"Array, Array | Matrix":function(d,m){var h=r(d),v=o(h,m);return v.map(T=>T.valueOf())}});function o(f,d){for(var m=[l(f,d,!0)._data.map(g=>g[0])],h=f._data,v=f._size[0],T=f._size[1],S=0;S<T;S++)for(var C=m.length,N=0;N<C;N++){var M=m[N];if(s(h[S][S],0))if(s(M[S],0)){if(N===0){var x=[...M];x[S]=1;for(var w=S+1;w<T;w++)x[w]=i(x[w],h[w][S]);m.push(x)}}else{if(N===0)return[];m.splice(N,1),N-=1,C-=1}else{M[S]=n(M[S],h[S][S]);for(var y=S+1;y<T;y++)M[y]=i(M[y],a(M[S],h[y][S]))}}return m.map(g=>new u({data:g.map(_=>[_]),size:[v,1]}))}function c(f,d){for(var m=[l(f,d,!0)._data.map(ee=>ee[0])],h=f._size[0],v=f._size[1],T=f._values,S=f._index,C=f._ptr,N=0;N<v;N++)for(var M=m.length,y=0;y<M;y++){for(var x=m[y],w=[],g=[],_=C[N],E=C[N+1],b=0,A=_;A<E;A++){var I=S[A];I===N?b=T[A]:I>N&&(w.push(T[A]),g.push(I))}if(s(b,0))if(s(x[N],0)){if(y===0){var L=[...x];L[N]=1;for(var $=0,k=g.length;$<k;$++){var V=g[$];L[V]=i(L[V],w[$])}m.push(L)}}else{if(y===0)return[];m.splice(y,1),y-=1,M-=1}else{x[N]=n(x[N],b);for(var F=0,B=g.length;F<B;F++){var P=g[F];x[P]=i(x[P],a(x[N],w[F]))}}}return m.map(ee=>new u({data:ee.map(j=>[j]),size:[h,1]}))}}),H_="usolveAll",Xq=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Kq=Q(H_,Xq,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:a,subtractScalar:i,equalScalar:s,DenseMatrix:u}=t,l=rf({DenseMatrix:u});return e(H_,{"SparseMatrix, Array | Matrix":function(d,m){return c(d,m)},"DenseMatrix, Array | Matrix":function(d,m){return o(d,m)},"Array, Array | Matrix":function(d,m){var h=r(d),v=o(h,m);return v.map(T=>T.valueOf())}});function o(f,d){for(var m=[l(f,d,!0)._data.map(g=>g[0])],h=f._data,v=f._size[0],T=f._size[1],S=T-1;S>=0;S--)for(var C=m.length,N=0;N<C;N++){var M=m[N];if(s(h[S][S],0))if(s(M[S],0)){if(N===0){var x=[...M];x[S]=1;for(var w=S-1;w>=0;w--)x[w]=i(x[w],h[w][S]);m.push(x)}}else{if(N===0)return[];m.splice(N,1),N-=1,C-=1}else{M[S]=n(M[S],h[S][S]);for(var y=S-1;y>=0;y--)M[y]=i(M[y],a(M[S],h[y][S]))}}return m.map(g=>new u({data:g.map(_=>[_]),size:[v,1]}))}function c(f,d){for(var m=[l(f,d,!0)._data.map(ee=>ee[0])],h=f._size[0],v=f._size[1],T=f._values,S=f._index,C=f._ptr,N=v-1;N>=0;N--)for(var M=m.length,y=0;y<M;y++){for(var x=m[y],w=[],g=[],_=C[N],E=C[N+1],b=0,A=E-1;A>=_;A--){var I=S[A];I===N?b=T[A]:I<N&&(w.push(T[A]),g.push(I))}if(s(b,0))if(s(x[N],0)){if(y===0){var L=[...x];L[N]=1;for(var $=0,k=g.length;$<k;$++){var V=g[$];L[V]=i(L[V],w[$])}m.push(L)}}else{if(y===0)return[];m.splice(y,1),y-=1,M-=1}else{x[N]=n(x[N],b);for(var F=0,B=g.length;F<B;F++){var P=g[F];x[P]=i(x[P],a(x[N],w[F]))}}}return m.map(ee=>new u({data:ee.map(j=>[j]),size:[h,1]}))}}),Jq="matAlgo08xS0Sid",Yq=["typed","equalScalar"],ky=Q(Jq,Yq,t=>{var{typed:e,equalScalar:r}=t;return function(a,i,s){var u=a._values,l=a._index,o=a._ptr,c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType(),d=i._values,m=i._index,h=i._ptr,v=i._size,T=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==v.length)throw new mt(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");if(!u||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var S=c[0],C=c[1],N,M=r,y=0,x=s;typeof f=="string"&&f===T&&f!=="mixed"&&(N=f,M=e.find(r,[N,N]),y=e.convert(0,N),x=e.find(s,[N,N]));for(var w=[],g=[],_=[],E=[],b=[],A,I,F,B,P=0;P<C;P++){_[P]=g.length;var L=P+1;for(I=o[P],F=o[P+1],A=I;A<F;A++)B=l[A],b[B]=L,E[B]=u[A],g.push(B);for(I=h[P],F=h[P+1],A=I;A<F;A++)B=m[A],b[B]===L&&(E[B]=x(E[B],d[A]));for(A=_[P];A<g.length;){B=g[A];var $=E[B];M($,y)?g.splice(A,1):(w.push($),A++)}}return _[C]=g.length,a.createSparseMatrix({values:w,index:g,ptr:_,size:[S,C],datatype:f===a._datatype&&T===i._datatype?N:void 0})}}),$y=Q("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(a,i)=>n(r(a),i).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(a,i)=>n(r(a),i).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(a,i)=>n(a,r(i)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(a,i)=>n(a,r(i)).valueOf())}}),G_="leftShift",Zq=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],eH=Q(G_,Zq,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:i,concat:s}=t,u=Ds({typed:e}),l=Fa({typed:e,equalScalar:n}),o=ky({typed:e,equalScalar:n}),c=wo({typed:e,DenseMatrix:i}),f=on({typed:e,equalScalar:n}),d=va({typed:e}),m=Zt({typed:e,matrix:r,concat:s}),h=$y({typed:e,matrix:r});return e(G_,{"number, number":DM,"BigNumber, BigNumber":xV,"bigint, bigint":(v,T)=>v<<T,"SparseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():f(T,S,v,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():d(T,S,v,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):c(S,T,v,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):d(S,T,v,!0))},h,m({SS:o,DS:u,SD:l}))}),W_="rightArithShift",tH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],rH=Q(W_,tH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:i,concat:s}=t,u=Ds({typed:e}),l=Fa({typed:e,equalScalar:n}),o=ky({typed:e,equalScalar:n}),c=wo({typed:e,DenseMatrix:i}),f=on({typed:e,equalScalar:n}),d=va({typed:e}),m=Zt({typed:e,matrix:r,concat:s}),h=$y({typed:e,matrix:r});return e(W_,{"number, number":CM,"BigNumber, BigNumber":bV,"bigint, bigint":(v,T)=>v>>T,"SparseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():f(T,S,v,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():d(T,S,v,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):c(S,T,v,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):d(S,T,v,!0))},h,m({SS:o,DS:u,SD:l}))}),Q_="rightLogShift",nH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],aH=Q(Q_,nH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,DenseMatrix:i,concat:s}=t,u=Ds({typed:e}),l=Fa({typed:e,equalScalar:n}),o=ky({typed:e,equalScalar:n}),c=wo({typed:e,DenseMatrix:i}),f=on({typed:e,equalScalar:n}),d=va({typed:e}),m=Zt({typed:e,matrix:r,concat:s}),h=$y({typed:e,matrix:r});return e(Q_,{"number, number":TM,"SparseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():f(T,S,v,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(v=>(T,S)=>n(S,0)?T.clone():d(T,S,v,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):c(S,T,v,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(v=>(T,S)=>n(T,0)?a(S.size(),S.storage()):d(S,T,v,!0))},h,m({SS:o,DS:u,SD:l}))}),X_="and",iH=["typed","matrix","equalScalar","zeros","not","concat"],x4=Q(X_,iH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,not:i,concat:s}=t,u=Fa({typed:e,equalScalar:n}),l=kh({typed:e,equalScalar:n}),o=on({typed:e,equalScalar:n}),c=va({typed:e}),f=Zt({typed:e,matrix:r,concat:s});return e(X_,{"number, number":Ig,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"bigint, bigint":Ig,"Unit, Unit":e.referToSelf(d=>(m,h)=>d(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(d=>(m,h)=>i(h)?a(m.size(),m.storage()):o(m,h,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(m,h)=>i(h)?a(m.size(),m.storage()):c(m,h,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(m,h)=>i(m)?a(m.size(),m.storage()):o(h,m,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(m,h)=>i(m)?a(m.size(),m.storage()):c(h,m,d,!0)),"Array, any":e.referToSelf(d=>(m,h)=>d(r(m),h).valueOf()),"any, Array":e.referToSelf(d=>(m,h)=>d(m,r(h)).valueOf())},f({SS:l,DS:u}))}),$m="compare",sH=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],oH=Q($m,sH,t=>{var{typed:e,config:r,equalScalar:n,matrix:a,BigNumber:i,Fraction:s,DenseMatrix:u,concat:l}=t,o=bn({typed:e}),c=jh({typed:e,equalScalar:n}),f=jr({typed:e,DenseMatrix:u}),d=Zt({typed:e,matrix:a,concat:l}),m=al({typed:e});return e($m,uH({typed:e,config:r}),{"boolean, boolean":function(v,T){return v===T?0:v>T?1:-1},"BigNumber, BigNumber":function(v,T){return pa(v,T,r.relTol,r.absTol)?new i(0):new i(v.cmp(T))},"bigint, bigint":function(v,T){return v===T?0n:v>T?1n:-1n},"Fraction, Fraction":function(v,T){return new s(v.compare(T))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,d({SS:c,DS:o,Ss:f}))}),uH=Q($m,["typed","config"],t=>{var{typed:e,config:r}=t;return e($m,{"number, number":function(a,i){return Kr(a,i,r.relTol,r.absTol)?0:a>i?1:-1}})}),lH=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,i=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,u=/^0/,l=function(N){return t.insensitive&&(""+N).toLowerCase()||""+N},o=l(e).replace(a,"")||"",c=l(r).replace(a,"")||"",f=o.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(o.match(s),16)||f.length!==1&&o.match(i)&&Date.parse(o),h=parseInt(c.match(s),16)||m&&c.match(i)&&Date.parse(c)||null,v,T;if(h){if(m<h)return-1;if(m>h)return 1}for(var S=0,C=Math.max(f.length,d.length);S<C;S++){if(v=!(f[S]||"").match(u)&&parseFloat(f[S])||f[S]||0,T=!(d[S]||"").match(u)&&parseFloat(d[S])||d[S]||0,isNaN(v)!==isNaN(T))return isNaN(v)?1:-1;if(typeof v!=typeof T&&(v+="",T+=""),v<T)return-1;if(v>T)return 1}return 0};const Uo=Qm(lH);var K_="compareNatural",cH=["typed","compare"],fH=Q(K_,cH,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(K_,{"any, any":a});function a(l,o){var c=Xt(l),f=Xt(o),d;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return d=r(l,o),d.toString()!=="0"?d>0?1:-1:Uo(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return d=i(a,l,o),d!==0?d:Uo(c,f);if(c!==f)return Uo(c,f);if(c==="Complex")return dH(l,o);if(c==="Unit")return l.equalBase(o)?a(l.value,o.value):s(a,l.formatUnits(),o.formatUnits());if(c==="boolean")return n(l,o);if(c==="string")return Uo(l,o);if(c==="Object")return u(a,l,o);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function i(l,o,c){return Ks(o)&&Ks(c)?s(l,o.toJSON().values,c.toJSON().values):Ks(o)?i(l,o.toArray(),c):Ks(c)?i(l,o,c.toArray()):_m(o)?i(l,o.toJSON().data,c):_m(c)?i(l,o,c.toJSON().data):Array.isArray(o)?Array.isArray(c)?s(l,o,c):i(l,o,[c]):i(l,[o],c)}function s(l,o,c){for(var f=0,d=Math.min(o.length,c.length);f<d;f++){var m=l(o[f],c[f]);if(m!==0)return m}return o.length>c.length?1:o.length<c.length?-1:0}function u(l,o,c){var f=Object.keys(o),d=Object.keys(c);f.sort(Uo),d.sort(Uo);var m=s(l,f,d);if(m!==0)return m;for(var h=0;h<f.length;h++){var v=l(o[f[h]],c[d[h]]);if(v!==0)return v}return 0}});function dH(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var J_="compareText",mH=["typed","matrix","concat"];Eg.signature="any, any";var hH=Q(J_,mH,t=>{var{typed:e,matrix:r,concat:n}=t,a=Zt({typed:e,matrix:r,concat:n});return e(J_,Eg,a({elop:Eg,Ds:!0}))}),Lm="equal",pH=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],vH=Q(Lm,pH,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i,SparseMatrix:s}=t,u=bn({typed:e}),l=ti({typed:e,SparseMatrix:s}),o=jr({typed:e,DenseMatrix:a}),c=Zt({typed:e,matrix:r,concat:i});return e(Lm,gH({typed:e,equalScalar:n}),c({elop:n,SS:l,DS:u,Ss:o}))}),gH=Q(Lm,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Lm,{"any, any":function(a,i){return a===null?i===null:i===null?a===null:a===void 0?i===void 0:i===void 0?a===void 0:r(a,i)}})}),Y_="equalText",yH=["typed","compareText","isZero"],xH=Q(Y_,yH,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(Y_,{"any, any":function(i,s){return n(r(i,s))}})}),zm="smaller",bH=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],wH=Q(zm,bH,t=>{var{typed:e,config:r,bignumber:n,matrix:a,DenseMatrix:i,concat:s,SparseMatrix:u}=t,l=bn({typed:e}),o=ti({typed:e,SparseMatrix:u}),c=jr({typed:e,DenseMatrix:i}),f=Zt({typed:e,matrix:a,concat:s}),d=al({typed:e});function m(h,v){return h.lt(v)&&!pa(h,v,r.relTol,r.absTol)}return e(zm,NH({typed:e,config:r}),{"boolean, boolean":(h,v)=>h<v,"BigNumber, BigNumber":m,"bigint, bigint":(h,v)=>h<v,"Fraction, Fraction":(h,v)=>h.compare(v)===-1,"Fraction, BigNumber":function(v,T){return m(n(v),T)},"BigNumber, Fraction":function(v,T){return m(v,n(T))},"Complex, Complex":function(v,T){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:o,DS:l,Ss:c}))}),NH=Q(zm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(zm,{"number, number":function(a,i){return a<i&&!Kr(a,i,r.relTol,r.absTol)}})}),Vm="smallerEq",_H=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],EH=Q(Vm,_H,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a,concat:i,SparseMatrix:s}=t,u=bn({typed:e}),l=ti({typed:e,SparseMatrix:s}),o=jr({typed:e,DenseMatrix:a}),c=Zt({typed:e,matrix:n,concat:i}),f=al({typed:e});return e(Vm,SH({typed:e,config:r}),{"boolean, boolean":(d,m)=>d<=m,"BigNumber, BigNumber":function(m,h){return m.lte(h)||pa(m,h,r.relTol,r.absTol)},"bigint, bigint":(d,m)=>d<=m,"Fraction, Fraction":(d,m)=>d.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:u,Ss:o}))}),SH=Q(Vm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Vm,{"number, number":function(a,i){return a<=i||Kr(a,i,r.relTol,r.absTol)}})}),Um="larger",AH=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],DH=Q(Um,AH,t=>{var{typed:e,config:r,bignumber:n,matrix:a,DenseMatrix:i,concat:s,SparseMatrix:u}=t,l=bn({typed:e}),o=ti({typed:e,SparseMatrix:u}),c=jr({typed:e,DenseMatrix:i}),f=Zt({typed:e,matrix:a,concat:s}),d=al({typed:e});function m(h,v){return h.gt(v)&&!pa(h,v,r.relTol,r.absTol)}return e(Um,CH({typed:e,config:r}),{"boolean, boolean":(h,v)=>h>v,"BigNumber, BigNumber":m,"bigint, bigint":(h,v)=>h>v,"Fraction, Fraction":(h,v)=>h.compare(v)===1,"Fraction, BigNumber":function(v,T){return m(n(v),T)},"BigNumber, Fraction":function(v,T){return m(v,n(T))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:o,DS:l,Ss:c}))}),CH=Q(Um,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Um,{"number, number":function(a,i){return a>i&&!Kr(a,i,r.relTol,r.absTol)}})}),qm="largerEq",TH=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],MH=Q(qm,TH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:a,concat:i,SparseMatrix:s}=t,u=bn({typed:e}),l=ti({typed:e,SparseMatrix:s}),o=jr({typed:e,DenseMatrix:a}),c=Zt({typed:e,matrix:n,concat:i}),f=al({typed:e});return e(qm,IH({typed:e,config:r}),{"boolean, boolean":(d,m)=>d>=m,"BigNumber, BigNumber":function(m,h){return m.gte(h)||pa(m,h,r.relTol,r.absTol)},"bigint, bigint":function(m,h){return m>=h},"Fraction, Fraction":(d,m)=>d.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:u,Ss:o}))}),IH=Q(qm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(qm,{"number, number":function(a,i){return a>=i||Kr(a,i,r.relTol,r.absTol)}})}),Z_="deepEqual",PH=["typed","equal"],FH=Q(Z_,PH,t=>{var{typed:e,equal:r}=t;return e(Z_,{"any, any":function(i,s){return n(i.valueOf(),s.valueOf())}});function n(a,i){if(Array.isArray(a))if(Array.isArray(i)){var s=a.length;if(s!==i.length)return!1;for(var u=0;u<s;u++)if(!n(a[u],i[u]))return!1;return!0}else return!1;else return Array.isArray(i)?!1:r(a,i)}}),Hm="unequal",RH=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],OH=Q(Hm,RH,t=>{var{typed:e,config:r,equalScalar:n,matrix:a,DenseMatrix:i,concat:s,SparseMatrix:u}=t,l=bn({typed:e}),o=ti({typed:e,SparseMatrix:u}),c=jr({typed:e,DenseMatrix:i}),f=Zt({typed:e,matrix:a,concat:s});return e(Hm,BH({typed:e,equalScalar:n}),f({elop:d,SS:o,DS:l,Ss:c}));function d(m,h){return!n(m,h)}}),BH=Q(Hm,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Hm,{"any, any":function(a,i){return a===null?i!==null:i===null?a!==null:a===void 0?i!==void 0:i===void 0?a!==void 0:!r(a,i)}})}),eE="partitionSelect",jH=["typed","isNumeric","isNaN","compare"],kH=Q(eE,jH,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:a}=t,i=a,s=(o,c)=>-a(o,c);return e(eE,{"Array | Matrix, number":function(c,f){return u(c,f,i)},"Array | Matrix, number, string":function(c,f,d){if(d==="asc")return u(c,f,i);if(d==="desc")return u(c,f,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":u});function u(o,c,f){if(!We(c)||c<0)throw new Error("k must be a non-negative integer");if(Ye(o)){var d=o.size();if(d.length>1)throw new Error("Only one dimensional matrices supported");return l(o.valueOf(),c,f)}if(Array.isArray(o))return l(o,c,f)}function l(o,c,f){if(c>=o.length)throw new Error("k out of bounds");for(var d=0;d<o.length;d++)if(r(o[d])&&n(o[d]))return o[d];for(var m=0,h=o.length-1;m<h;){for(var v=m,T=h,S=o[Math.floor(Math.random()*(h-m+1))+m];v<T;)if(f(o[v],S)>=0){var C=o[T];o[T]=o[v],o[v]=C,--T}else++v;f(o[v],S)>0&&--v,c<=v?h=v:m=v+1}return o[c]}}),tE="sort",$H=["typed","matrix","compare","compareNatural"],LH=Q(tE,$H,t=>{var{typed:e,matrix:r,compare:n,compareNatural:a}=t,i=n,s=(c,f)=>-n(c,f);return e(tE,{Array:function(f){return l(f),f.sort(i)},Matrix:function(f){return o(f),r(f.toArray().sort(i),f.storage())},"Array, function":function(f,d){return l(f),f.sort(d)},"Matrix, function":function(f,d){return o(f),r(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return l(f),f.sort(u(d))},"Matrix, string":function(f,d){return o(f),r(f.toArray().sort(u(d)),f.storage())}});function u(c){if(c==="asc")return i;if(c==="desc")return s;if(c==="natural")return a;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(at(c).length!==1)throw new Error("One dimensional array expected")}function o(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),rE="max",zH=["typed","config","numeric","larger","isNaN"],b4=Q(rE,zH,t=>{var{typed:e,config:r,numeric:n,larger:a,isNaN:i}=t;return e(rE,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(o,c){return Bh(o,c.valueOf(),s)},"...":function(o){if(tl(o))throw new TypeError("Scalar values expected in function max");return u(o)}});function s(l,o){try{return a(l,o)?l:o}catch(c){throw Dn(c,"max",o)}}function u(l){var o;if(ws(l,function(c){try{(i(c)||o===void 0||a(c,o))&&(o=c)}catch(f){throw Dn(f,"max",c)}}),o===void 0)throw new Error("Cannot calculate max of an empty array");return typeof o=="string"&&(o=n(o,Ss(o,r))),o}}),nE="min",VH=["typed","config","numeric","smaller","isNaN"],w4=Q(nE,VH,t=>{var{typed:e,config:r,numeric:n,smaller:a,isNaN:i}=t;return e(nE,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(o,c){return Bh(o,c.valueOf(),s)},"...":function(o){if(tl(o))throw new TypeError("Scalar values expected in function min");return u(o)}});function s(l,o){try{return a(l,o)?l:o}catch(c){throw Dn(c,"min",o)}}function u(l){var o;if(ws(l,function(c){try{(i(c)||o===void 0||a(c,o))&&(o=c)}catch(f){throw Dn(f,"min",c)}}),o===void 0)throw new Error("Cannot calculate min of an empty array");return typeof o=="string"&&(o=n(o,Ss(o,r))),o}}),UH="ImmutableDenseMatrix",qH=["smaller","DenseMatrix"],HH=Q(UH,qH,t=>{var{smaller:e,DenseMatrix:r}=t;function n(a,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(i&&!yr(i))throw new Error("Invalid datatype: "+i);if(Ye(a)||Wt(a)){var s=new r(a,i);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(a&&Wt(a.data)&&Wt(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min=typeof a.min<"u"?a.min:null,this._max=typeof a.max<"u"?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+Xt(a)+")");this._data=[],this._size=[0],this._datatype=i,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(a){switch(arguments.length){case 1:{var i=r.prototype.subset.call(this,a);return Ye(i)?new n({data:i._data,size:i._size,datatype:i._datatype}):i}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:nt(this._data),size:nt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var a=null;this.forEach(function(i){(a===null||e(i,a))&&(a=i)}),this._min=a!==null?a:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var a=null;this.forEach(function(i){(a===null||e(a,i))&&(a=i)}),this._max=a!==null?a:void 0}return this._max},n},{isClass:!0}),GH="Index",WH=["ImmutableDenseMatrix","getMatrixDataType"],QH=Q(GH,WH,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var i=0,s=arguments.length;i<s;i++){var u=i<0||arguments.length<=i?void 0:arguments[i],l=Wt(u),o=Ye(u),c=typeof u,f=null;if(Dy(u))this._dimensions.push(u),this._isScalar=!1;else if(l||o){var d=void 0;this._isScalar=!1,r(u)==="boolean"?(l&&(d=a(aE(u).valueOf())),o&&(d=a(aE(u._data).valueOf())),f=u.valueOf().length):d=a(u.valueOf()),this._dimensions.push(d)}else if(c==="number")this._dimensions.push(u);else if(c==="bigint")this._dimensions.push(Number(u));else if(c==="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function a(i){for(var s=0,u=i.length;s<u;s++)if(!Xe(i[s])||!We(i[s]))throw new TypeError("Index parameters must be positive integer numbers");var l=new e;return l._data=i,l._size=[i.length],l}return n.prototype.clone=function(){var i=new n;return i._dimensions=nt(this._dimensions),i._isScalar=this._isScalar,i._sourceSize=this._sourceSize,i},n.create=function(i){var s=new n;return n.apply(s,i),s},n.prototype.size=function(){for(var i=[],s=0,u=this._dimensions.length;s<u;s++){var l=this._dimensions[s];i[s]=yr(l)||Xe(l)?1:l.size()[0]}return i},n.prototype.max=function(){for(var i=[],s=0,u=this._dimensions.length;s<u;s++){var l=this._dimensions[s];i[s]=yr(l)||Xe(l)?l:l.max()}return i},n.prototype.min=function(){for(var i=[],s=0,u=this._dimensions.length;s<u;s++){var l=this._dimensions[s];i[s]=yr(l)||Xe(l)?l:l.min()}return i},n.prototype.forEach=function(i){for(var s=0,u=this._dimensions.length;s<u;s++)i(this._dimensions[s],s,this)},n.prototype.dimension=function(i){var s;return Xe(i)&&(s=this._dimensions[i])!==null&&s!==void 0?s:null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&yr(this._dimensions[0])},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var i=[],s=0,u=this._dimensions.length;s<u;s++){var l=this._dimensions[s];i.push(yr(l)||Xe(l)?l:l.toArray())}return i},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var i=[],s=0,u=this._dimensions.length;s<u;s++){var l=this._dimensions[s];yr(l)?i.push(JSON.stringify(l)):i.push(l.toString())}return"["+i.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(i){return n.create(i.dimensions)},n},{isClass:!0});function aE(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var XH="FibonacciHeap",KH=["smaller","larger"],JH=Q(XH,KH,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(c,f){var d={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;d.left=m,d.right=m.right,m.right=d,d.right.left=d,e(c,m.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return this._size===0},a.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,d=c.degree,m=c.child;d>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,d--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=o(f,this._size)),this._size--,this._minimum=f,c},a.prototype.remove=function(c){this._minimum=i(this._minimum,c,-1),this.extractMinimum()};function i(c,f,d){f.key=d;var m=f.parent;return m&&e(f.key,m.key)&&(s(c,f,m),u(c,m)),e(f.key,c.key)&&(c=f),c}function s(c,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),d.degree===0&&(d.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function u(c,f){var d=f.parent;d&&(f.mark?(s(c,f,d),u(d)):f.mark=!0)}var l=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};function o(c,f){var d=Math.floor(Math.log(f)*n)+1,m=new Array(d),h=0,v=c;if(v)for(h++,v=v.right;v!==c;)h++,v=v.right;for(var T;h>0;){for(var S=v.degree,C=v.right;T=m[S],!!T;){if(r(v.key,T.key)){var N=T;T=v,v=N}l(T,v),m[S]=null,S++}m[S]=v,v=C,h--}c=null;for(var M=0;M<d;M++)T=m[M],T&&(c?(T.left.right=T.right,T.right.left=T.left,T.left=c,T.right=c.right,c.right=T,T.right.left=T,e(T.key,c.key)&&(c=T)):c=T);return c}return a},{isClass:!0}),YH="Spa",ZH=["addScalar","equalScalar","FibonacciHeap"],eG=Q(YH,ZH,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(i,s){if(this._values[i])this._values[i].value=s;else{var u=this._heap.insert(i,s);this._values[i]=u}},a.prototype.get=function(i){var s=this._values[i];return s?s.value:0},a.prototype.accumulate=function(i,s){var u=this._values[i];u?u.value=e(u.value,s):(u=this._heap.insert(i,s),this._values[i]=u)},a.prototype.forEach=function(i,s,u){var l=this._heap,o=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=s;)f.key>=i&&(r(f.value,0)||u(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var d=0;d<c.length;d++){var m=c[d];f=l.insert(m.key,m.value),o[f.key]=f}},a.prototype.swap=function(i,s){var u=this._values[i],l=this._values[s];if(!u&&l)u=this._heap.insert(i,l.value),this._heap.remove(l),this._values[i]=u,this._values[s]=void 0;else if(u&&!l)l=this._heap.insert(s,u.value),this._heap.remove(u),this._values[s]=l,this._values[i]=void 0;else if(u&&l){var o=u.value;u.value=l.value,l.value=o}},a},{isClass:!0});function tG(t){var e=0,r=1,n=Object.create(null),a=Object.create(null),i=0,s=function(l){var o=a[l];if(o&&(delete n[o],delete a[l],--e,r===o)){if(!e){i=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var o=a[l],c=++i;if(n[c]=l,a[l]=c,!o)return++e,e<=t?void 0:(l=n[r],s(l),l);if(delete n[o],r===o)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:s,clear:function(){e=i=0,r=1,n=Object.create(null),a=Object.create(null)}}}function nf(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:tG(r||Number.POSITIVE_INFINITY)});for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var s=e(a);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var u=t.apply(t,a);return n.cache.values.set(s,u),n.cache.values.delete(n.cache.lru.hit(s)),u}}var rG=nf(function(t){return new t(1).exp()},{hasher:$h}),nG=nf(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:$h}),Ly=nf(function(t){return t.acos(-1)},{hasher:$h}),aG=nf(function(t){return Ly(t).times(2)},{hasher:$h});function $h(t){return t[0].precision}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var iG="Unit",sG=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],oG=Q(iG,sG,t=>{var{on:e,config:r,addScalar:n,subtractScalar:a,multiplyScalar:i,divideScalar:s,pow:u,abs:l,fix:o,round:c,equal:f,isNumeric:d,format:m,toBest:h,number:v,Complex:T,BigNumber:S,Fraction:C}=t,N=v;function M(G,te){if(!(this instanceof M))throw new Error("Constructor must be called with the new operator");if(!(G==null||d(G)||hi(G)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,te===void 0)this.units=[],this.dimensions=X.map(q=>0);else if(typeof te=="string"){var ce=M.parse(te);this.units=ce.units,this.dimensions=ce.dimensions}else if(Gn(te)&&te.value===null)this.fixPrefix=te.fixPrefix,this.skipAutomaticSimplification=te.skipAutomaticSimplification,this.dimensions=te.dimensions.slice(0),this.units=te.units.map(q=>Nr({},q));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(G)}Object.defineProperty(M,"name",{value:"Unit"}),M.prototype.constructor=M,M.prototype.type="Unit",M.prototype.isUnit=!0;var y,x,w;function g(){for(;w===" "||w==="	";)b()}function _(G){return G>="0"&&G<="9"||G==="."}function E(G){return G>="0"&&G<="9"}function b(){x++,w=y.charAt(x)}function A(G){x=G,w=y.charAt(x)}function I(){var G="",te=x;if(w==="+"?b():w==="-"&&(G+=w,b()),!_(w))return A(te),null;if(w==="."){if(G+=w,b(),!E(w))return A(te),null}else{for(;E(w);)G+=w,b();w==="."&&(G+=w,b())}for(;E(w);)G+=w,b();if(w==="E"||w==="e"){var ce="",q=x;if(ce+=w,b(),(w==="+"||w==="-")&&(ce+=w,b()),!E(w))return A(q),G;for(G=G+ce;E(w);)G+=w,b()}return G}function F(){for(var G="";E(w)||M.isValidAlpha(w);)G+=w,b();var te=G.charAt(0);return M.isValidAlpha(te)?G:null}function B(G){return w===G?(b(),G):null}M.parse=function(G,te){if(te=te||{},y=G,x=-1,w="",typeof y!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ce=new M;ce.units=[];var q=1,Y=!1;b(),g();var ne=I(),oe=null;if(ne){if(r.number==="BigNumber")oe=new S(ne);else if(r.number==="Fraction")try{oe=new C(ne)}catch{oe=parseFloat(ne)}else oe=parseFloat(ne);g(),B("*")?(q=1,Y=!0):B("/")&&(q=-1,Y=!0)}for(var fe=[],ge=1;;){for(g();w==="(";)fe.push(q),ge*=q,q=1,b(),g();var Se=void 0;if(w){var Ce=w;if(Se=F(),Se===null)throw new SyntaxError('Unexpected "'+Ce+'" in "'+y+'" at index '+x.toString())}else break;var Pe=P(Se);if(Pe===null)throw new SyntaxError('Unit "'+Se+'" not found.');var Te=q*ge;if(g(),B("^")){g();var ht=I();if(ht===null)throw new SyntaxError('In "'+G+'", "^" must be followed by a floating-point number');Te*=ht}ce.units.push({unit:Pe.unit,prefix:Pe.prefix,power:Te});for(var gt=0;gt<X.length;gt++)ce.dimensions[gt]+=(Pe.unit.dimensions[gt]||0)*Te;for(g();w===")";){if(fe.length===0)throw new SyntaxError('Unmatched ")" in "'+y+'" at index '+x.toString());ge/=fe.pop(),b(),g()}if(Y=!1,B("*")?(q=1,Y=!0):B("/")?(q=-1,Y=!0):q=1,Pe.unit.base){var Vt=Pe.unit.base.key;ie.auto[Vt]={unit:Pe.unit,prefix:Pe.prefix}}}if(g(),w)throw new SyntaxError('Could not parse: "'+G+'"');if(Y)throw new SyntaxError('Trailing characters: "'+G+'"');if(fe.length!==0)throw new SyntaxError('Unmatched "(" in "'+y+'"');if(ce.units.length===0&&!te.allowNoUnits)throw new SyntaxError('"'+G+'" contains no units');return ce.value=oe!==void 0?ce._normalize(oe):null,ce},M.prototype.clone=function(){var G=new M;G.fixPrefix=this.fixPrefix,G.skipAutomaticSimplification=this.skipAutomaticSimplification,G.value=nt(this.value),G.dimensions=this.dimensions.slice(0),G.units=[];for(var te=0;te<this.units.length;te++){G.units[te]={};for(var ce in this.units[te])He(this.units[te],ce)&&(G.units[te][ce]=this.units[te][ce])}return G},M.prototype.valueType=function(){return Xt(this.value)},M.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},M.prototype._normalize=function(G){if(G==null||this.units.length===0)return G;for(var te=G,ce=M._getNumberConverter(Xt(G)),q=0;q<this.units.length;q++){var Y=ce(this.units[q].unit.value),ne=ce(this.units[q].prefix.value),oe=ce(this.units[q].power);te=i(te,u(i(Y,ne),oe))}return te},M.prototype._denormalize=function(G,te){if(G==null||this.units.length===0)return G;for(var ce=G,q=M._getNumberConverter(Xt(G)),Y=0;Y<this.units.length;Y++){var ne=q(this.units[Y].unit.value),oe=q(this.units[Y].prefix.value),fe=q(this.units[Y].power);ce=s(ce,u(i(ne,oe),fe))}return ce};var P=nf(G=>{if(He(H,G)){var te=H[G],ce=te.prefixes[""];return{unit:te,prefix:ce}}for(var q in H)if(He(H,q)&&d$(G,q)){var Y=H[q],ne=G.length-q.length,oe=G.substring(0,ne),fe=He(Y.prefixes,oe)?Y.prefixes[oe]:void 0;if(fe!==void 0)return{unit:Y,prefix:fe}}return null},{hasher:G=>G[0],limit:100});M.isValuelessUnit=function(G){return P(G)!==null},M.prototype.hasBase=function(G){if(typeof G=="string"&&(G=U[G]),!G)return!1;for(var te=0;te<X.length;te++)if(Math.abs((this.dimensions[te]||0)-(G.dimensions[te]||0))>1e-12)return!1;return!0},M.prototype.equalBase=function(G){for(var te=0;te<X.length;te++)if(Math.abs((this.dimensions[te]||0)-(G.dimensions[te]||0))>1e-12)return!1;return!0},M.prototype.equals=function(G){return this.equalBase(G)&&f(this.value,G.value)},M.prototype.multiply=function(G){for(var te=this.clone(),ce=Gn(G)?G:new M(G),q=0;q<X.length;q++)te.dimensions[q]=(this.dimensions[q]||0)+(ce.dimensions[q]||0);for(var Y=0;Y<ce.units.length;Y++){var ne=Yp({},ce.units[Y]);te.units.push(ne)}if(this.value!==null||ce.value!==null){var oe=this.value===null?this._normalize($(ce.value)):this.value,fe=ce.value===null?ce._normalize($(this.value)):ce.value;te.value=i(oe,fe)}else te.value=null;return Gn(G)&&(te.skipAutomaticSimplification=!1),L(te)},M.prototype.divideInto=function(G){return new M(G).divide(this)},M.prototype.divide=function(G){for(var te=this.clone(),ce=Gn(G)?G:new M(G),q=0;q<X.length;q++)te.dimensions[q]=(this.dimensions[q]||0)-(ce.dimensions[q]||0);for(var Y=0;Y<ce.units.length;Y++){var ne=Yp(Yp({},ce.units[Y]),{},{power:-ce.units[Y].power});te.units.push(ne)}if(this.value!==null||ce.value!==null){var oe=this.value===null?this._normalize($(ce.value)):this.value,fe=ce.value===null?ce._normalize($(this.value)):ce.value;te.value=s(oe,fe)}else te.value=null;return Gn(G)&&(te.skipAutomaticSimplification=!1),L(te)},M.prototype.pow=function(G){for(var te=this.clone(),ce=0;ce<X.length;ce++)te.dimensions[ce]=(this.dimensions[ce]||0)*G;for(var q=0;q<te.units.length;q++)te.units[q].power*=G;return te.value!==null?te.value=u(te.value,G):te.value=null,te.skipAutomaticSimplification=!1,L(te)};function L(G){return G.equalBase(U.NONE)&&G.value!==null&&!r.predictable?G.value:G}function $(G){var te=M._getNumberConverter(Xt(G));return te(1)}M.prototype.abs=function(){var G=this.clone();if(G.value!==null)if(G._isDerived()||G.units.length===0||G.units[0].unit.offset===0)G.value=l(G.value);else{var te=G._numberConverter(),ce=te(G.units[0].unit.value),q=te(G.units[0].unit.offset),Y=i(ce,q);G.value=a(l(n(G.value,Y)),Y)}for(var ne in G.units)(G.units[ne].unit.name==="VA"||G.units[ne].unit.name==="VAR")&&(G.units[ne].unit=H.W);return G},M.prototype.to=function(G){var te=this.value===null?this._normalize(1):this.value,ce;if(typeof G=="string")ce=M.parse(G);else if(Gn(G))ce=G.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ce))throw new Error("Units do not match ('".concat(ce.toString(),"' != '").concat(this.toString(),"')"));if(ce.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ce.units.length===0||this.units[0].unit.offset===ce.units[0].unit.offset)ce.value=nt(te);else{var q=M._getNumberConverter(Xt(te)),Y=this.units[0].unit.value,ne=this.units[0].unit.offset,oe=i(Y,ne),fe=ce.units[0].unit.value,ge=ce.units[0].unit.offset,Se=i(fe,ge);ce.value=n(te,q(a(oe,Se)))}return ce.fixPrefix=!0,ce.skipAutomaticSimplification=!0,ce},M.prototype.toNumber=function(G){return N(this.toNumeric(G))},M.prototype.toNumeric=function(G){var te;return G?te=this.to(G):te=this.clone(),te._isDerived()||te.units.length===0?te._denormalize(te.value):te._denormalize(te.value,te.units[0].prefix.value)},M.prototype.toString=function(){return this.format()},M.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},M.fromJSON=function(G){var te,ce=new M(G.value,(te=G.unit)!==null&&te!==void 0?te:void 0);return ce.fixPrefix=G.fixPrefix||!1,ce},M.prototype.valueOf=M.prototype.toString,M.prototype.simplify=function(){var G=this.clone(),te=[],ce;for(var q in se)if(He(se,q)&&G.hasBase(U[q])){ce=q;break}if(ce==="NONE")G.units=[];else{var Y;if(ce&&He(se,ce)&&(Y=se[ce]),Y)G.units=[{unit:Y.unit,prefix:Y.prefix,power:1}];else{for(var ne=!1,oe=0;oe<X.length;oe++){var fe=X[oe];Math.abs(G.dimensions[oe]||0)>1e-12&&(He(se,fe)?te.push({unit:se[fe].unit,prefix:se[fe].prefix,power:G.dimensions[oe]||0}):ne=!0)}te.length<G.units.length&&!ne&&(G.units=te)}}return G},M.prototype.toSI=function(){for(var G=this.clone(),te=[],ce=0;ce<X.length;ce++){var q=X[ce];if(Math.abs(G.dimensions[ce]||0)>1e-12)if(He(ie.si,q))te.push({unit:ie.si[q].unit,prefix:ie.si[q].prefix,power:G.dimensions[ce]||0});else throw new Error("Cannot express custom unit "+q+" in SI units")}return G.units=te,G.fixPrefix=!0,G.skipAutomaticSimplification=!0,this.value!==null?(G.value=null,this.to(G)):G},M.prototype.formatUnits=function(){for(var G="",te="",ce=0,q=0,Y=0;Y<this.units.length;Y++)this.units[Y].power>0?(ce++,G+=" "+this.units[Y].prefix.name+this.units[Y].unit.name,Math.abs(this.units[Y].power-1)>1e-15&&(G+="^"+this.units[Y].power)):this.units[Y].power<0&&q++;if(q>0)for(var ne=0;ne<this.units.length;ne++)this.units[ne].power<0&&(ce>0?(te+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,Math.abs(this.units[ne].power+1)>1e-15&&(te+="^"+-this.units[ne].power)):(te+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,te+="^"+this.units[ne].power));G=G.substr(1),te=te.substr(1),ce>1&&q>0&&(G="("+G+")"),q>1&&ce>0&&(te="("+te+")");var oe=G;return ce>0&&q>0&&(oe+=" / "),oe+=te,oe},M.prototype.toBest=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G&&!Array.isArray(G))throw new Error("Invalid unit type. Expected string or Unit.");var ce=this.units[0].unit.prefixes;if(G&&G.length>0){var q=G.map(oe=>{var fe=null;if(typeof oe=="string"){if(fe=M.parse(oe),!fe)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!Gn(oe))throw new Error("Invalid unit type. Expected compatible string or Unit.");fe===null&&(fe=oe.clone());try{return this.to(fe.formatUnits()),fe}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),Y=q.map(oe=>oe.units[0].prefix);this.units[0].unit.prefixes=Y.reduce((oe,fe)=>(oe[fe.name]=fe,oe),{}),this.units[0].prefix=Y[0]}var ne=k(this,te).simp;return this.units[0].unit.prefixes=ce,ne.fixPrefix=!0,ne},M.prototype.format=function(G){var{simp:te,valueStr:ce,unitStr:q}=k(this,G),Y=ce;return te.value&&hi(te.value)&&(Y="("+Y+")"),q.length>0&&Y.length>0&&(Y+=" "),Y+=q,Y};function k(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=G.skipAutomaticSimplification||G.value===null?G.clone():G.simplify();V(ce),ee(ce,te.offset);var q=ce._denormalize(ce.value),Y=ce.value!==null?m(q,te||{}):"",ne=ce.formatUnits();return{simp:ce,valueStr:Y,unitStr:ne}}function V(G){var te=!1;typeof G.value<"u"&&G.value!==null&&hi(G.value)&&(te=Math.abs(G.value.re)<1e-14);for(var ce in G.units)He(G.units,ce)&&G.units[ce].unit&&(G.units[ce].unit.name==="VA"&&te?G.units[ce].unit=H.VAR:G.units[ce].unit.name==="VAR"&&!te&&(G.units[ce].unit=H.VA))}function ee(G,te){G.units.length===1&&!G.fixPrefix&&Math.abs(G.units[0].power-Math.round(G.units[0].power))<1e-14&&(G.units[0].prefix=G._bestPrefix(te))}M.prototype._bestPrefix=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var te=this.value!==null?l(this.value):0,ce=l(this.units[0].unit.value),q=this.units[0].prefix;if(te===0)return q;var Y=this.units[0].power,ne=Math.log(te/Math.pow(q.value*ce,Y))/Math.LN10-G;if(ne>-2.200001&&ne<1.800001)return q;ne=Math.abs(ne);var oe=this.units[0].unit.prefixes;for(var fe in oe)if(He(oe,fe)){var ge=oe[fe];if(ge.scientific){var Se=Math.abs(Math.log(te/Math.pow(ge.value*ce,Y))/Math.LN10-G);(Se<ne||Se===ne&&ge.name.length<q.name.length)&&(q=ge,ne=Se)}}return q},M.prototype.splitUnit=function(G){for(var te=this.clone(),ce=[],q=0;q<G.length&&(te=te.to(G[q]),q!==G.length-1);q++){var Y=te.toNumeric(),ne=c(Y),oe=void 0,fe=f(ne,Y);fe?oe=ne:oe=o(te.toNumeric());var ge=new M(oe,G[q].toString());ce.push(ge),te=a(te,ge)}for(var Se=0,Ce=0;Ce<ce.length;Ce++)Se=n(Se,ce[Ce].value);return f(Se,this.value)&&(te.value=0),ce.push(te),ce};var j={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};j.SHORTLONG=Nr({},j.SHORT,j.LONG),j.BINARY_SHORT=Nr({},j.BINARY_SHORT_SI,j.BINARY_SHORT_IEC),j.BINARY_LONG=Nr({},j.BINARY_LONG_SI,j.BINARY_LONG_IEC);var X=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],U={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var de in U)He(U,de)&&(U[de].key=de);var ue={},le={name:"",base:ue,value:1,offset:0,dimensions:X.map(G=>0)},H={meter:{name:"meter",base:U.LENGTH,prefixes:j.LONG,value:1,offset:0},inch:{name:"inch",base:U.LENGTH,prefixes:j.NONE,value:.0254,offset:0},foot:{name:"foot",base:U.LENGTH,prefixes:j.NONE,value:.3048,offset:0},yard:{name:"yard",base:U.LENGTH,prefixes:j.NONE,value:.9144,offset:0},mile:{name:"mile",base:U.LENGTH,prefixes:j.NONE,value:1609.344,offset:0},link:{name:"link",base:U.LENGTH,prefixes:j.NONE,value:.201168,offset:0},rod:{name:"rod",base:U.LENGTH,prefixes:j.NONE,value:5.0292,offset:0},chain:{name:"chain",base:U.LENGTH,prefixes:j.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:U.LENGTH,prefixes:j.NONE,value:1e-10,offset:0},m:{name:"m",base:U.LENGTH,prefixes:j.SHORT,value:1,offset:0},in:{name:"in",base:U.LENGTH,prefixes:j.NONE,value:.0254,offset:0},ft:{name:"ft",base:U.LENGTH,prefixes:j.NONE,value:.3048,offset:0},yd:{name:"yd",base:U.LENGTH,prefixes:j.NONE,value:.9144,offset:0},mi:{name:"mi",base:U.LENGTH,prefixes:j.NONE,value:1609.344,offset:0},li:{name:"li",base:U.LENGTH,prefixes:j.NONE,value:.201168,offset:0},rd:{name:"rd",base:U.LENGTH,prefixes:j.NONE,value:5.02921,offset:0},ch:{name:"ch",base:U.LENGTH,prefixes:j.NONE,value:20.1168,offset:0},mil:{name:"mil",base:U.LENGTH,prefixes:j.NONE,value:254e-7,offset:0},m2:{name:"m2",base:U.SURFACE,prefixes:j.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:U.SURFACE,prefixes:j.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:U.SURFACE,prefixes:j.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:U.SURFACE,prefixes:j.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:U.SURFACE,prefixes:j.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:U.SURFACE,prefixes:j.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:U.SURFACE,prefixes:j.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:U.SURFACE,prefixes:j.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:U.SURFACE,prefixes:j.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:U.SURFACE,prefixes:j.NONE,value:1e4,offset:0},m3:{name:"m3",base:U.VOLUME,prefixes:j.CUBIC,value:1,offset:0},L:{name:"L",base:U.VOLUME,prefixes:j.SHORT,value:.001,offset:0},l:{name:"l",base:U.VOLUME,prefixes:j.SHORT,value:.001,offset:0},litre:{name:"litre",base:U.VOLUME,prefixes:j.LONG,value:.001,offset:0},cuin:{name:"cuin",base:U.VOLUME,prefixes:j.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:U.VOLUME,prefixes:j.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:U.VOLUME,prefixes:j.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:U.VOLUME,prefixes:j.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:U.VOLUME,prefixes:j.NONE,value:15e-6,offset:0},drop:{name:"drop",base:U.VOLUME,prefixes:j.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:U.VOLUME,prefixes:j.NONE,value:5e-8,offset:0},minim:{name:"minim",base:U.VOLUME,prefixes:j.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:U.VOLUME,prefixes:j.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:U.VOLUME,prefixes:j.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:U.VOLUME,prefixes:j.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:U.VOLUME,prefixes:j.NONE,value:1e-6,offset:0},cup:{name:"cup",base:U.VOLUME,prefixes:j.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:U.VOLUME,prefixes:j.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:U.VOLUME,prefixes:j.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:U.VOLUME,prefixes:j.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:U.VOLUME,prefixes:j.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:U.VOLUME,prefixes:j.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:U.VOLUME,prefixes:j.NONE,value:.238480942392,offset:0},g:{name:"g",base:U.MASS,prefixes:j.SHORT,value:.001,offset:0},gram:{name:"gram",base:U.MASS,prefixes:j.LONG,value:.001,offset:0},ton:{name:"ton",base:U.MASS,prefixes:j.SHORT,value:907.18474,offset:0},t:{name:"t",base:U.MASS,prefixes:j.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:U.MASS,prefixes:j.LONG,value:1e3,offset:0},grain:{name:"grain",base:U.MASS,prefixes:j.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:U.MASS,prefixes:j.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:U.MASS,prefixes:j.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:U.MASS,prefixes:j.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:U.MASS,prefixes:j.NONE,value:45.359237,offset:0},stick:{name:"stick",base:U.MASS,prefixes:j.NONE,value:.115,offset:0},stone:{name:"stone",base:U.MASS,prefixes:j.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:U.MASS,prefixes:j.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:U.MASS,prefixes:j.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:U.MASS,prefixes:j.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:U.MASS,prefixes:j.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:U.MASS,prefixes:j.NONE,value:45.359237,offset:0},s:{name:"s",base:U.TIME,prefixes:j.SHORT,value:1,offset:0},min:{name:"min",base:U.TIME,prefixes:j.NONE,value:60,offset:0},h:{name:"h",base:U.TIME,prefixes:j.NONE,value:3600,offset:0},second:{name:"second",base:U.TIME,prefixes:j.LONG,value:1,offset:0},sec:{name:"sec",base:U.TIME,prefixes:j.LONG,value:1,offset:0},minute:{name:"minute",base:U.TIME,prefixes:j.NONE,value:60,offset:0},hour:{name:"hour",base:U.TIME,prefixes:j.NONE,value:3600,offset:0},day:{name:"day",base:U.TIME,prefixes:j.NONE,value:86400,offset:0},week:{name:"week",base:U.TIME,prefixes:j.NONE,value:7*86400,offset:0},month:{name:"month",base:U.TIME,prefixes:j.NONE,value:2629800,offset:0},year:{name:"year",base:U.TIME,prefixes:j.NONE,value:31557600,offset:0},decade:{name:"decade",base:U.TIME,prefixes:j.NONE,value:315576e3,offset:0},century:{name:"century",base:U.TIME,prefixes:j.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:U.TIME,prefixes:j.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:U.FREQUENCY,prefixes:j.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:U.FREQUENCY,prefixes:j.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:U.ANGLE,prefixes:j.SHORT,value:1,offset:0},radian:{name:"radian",base:U.ANGLE,prefixes:j.LONG,value:1,offset:0},deg:{name:"deg",base:U.ANGLE,prefixes:j.SHORT,value:null,offset:0},degree:{name:"degree",base:U.ANGLE,prefixes:j.LONG,value:null,offset:0},grad:{name:"grad",base:U.ANGLE,prefixes:j.SHORT,value:null,offset:0},gradian:{name:"gradian",base:U.ANGLE,prefixes:j.LONG,value:null,offset:0},cycle:{name:"cycle",base:U.ANGLE,prefixes:j.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:U.ANGLE,prefixes:j.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:U.ANGLE,prefixes:j.NONE,value:null,offset:0},A:{name:"A",base:U.CURRENT,prefixes:j.SHORT,value:1,offset:0},ampere:{name:"ampere",base:U.CURRENT,prefixes:j.LONG,value:1,offset:0},K:{name:"K",base:U.TEMPERATURE,prefixes:j.SHORT,value:1,offset:0},degC:{name:"degC",base:U.TEMPERATURE,prefixes:j.SHORT,value:1,offset:273.15},degF:{name:"degF",base:U.TEMPERATURE,prefixes:j.SHORT,value:new C(5,9),offset:459.67},degR:{name:"degR",base:U.TEMPERATURE,prefixes:j.SHORT,value:new C(5,9),offset:0},kelvin:{name:"kelvin",base:U.TEMPERATURE,prefixes:j.LONG,value:1,offset:0},celsius:{name:"celsius",base:U.TEMPERATURE,prefixes:j.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:U.TEMPERATURE,prefixes:j.LONG,value:new C(5,9),offset:459.67},rankine:{name:"rankine",base:U.TEMPERATURE,prefixes:j.LONG,value:new C(5,9),offset:0},mol:{name:"mol",base:U.AMOUNT_OF_SUBSTANCE,prefixes:j.SHORT,value:1,offset:0},mole:{name:"mole",base:U.AMOUNT_OF_SUBSTANCE,prefixes:j.LONG,value:1,offset:0},cd:{name:"cd",base:U.LUMINOUS_INTENSITY,prefixes:j.SHORT,value:1,offset:0},candela:{name:"candela",base:U.LUMINOUS_INTENSITY,prefixes:j.LONG,value:1,offset:0},N:{name:"N",base:U.FORCE,prefixes:j.SHORT,value:1,offset:0},newton:{name:"newton",base:U.FORCE,prefixes:j.LONG,value:1,offset:0},dyn:{name:"dyn",base:U.FORCE,prefixes:j.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:U.FORCE,prefixes:j.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:U.FORCE,prefixes:j.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:U.FORCE,prefixes:j.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:U.FORCE,prefixes:j.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:U.FORCE,prefixes:j.NONE,value:9.80665,offset:0},J:{name:"J",base:U.ENERGY,prefixes:j.SHORT,value:1,offset:0},joule:{name:"joule",base:U.ENERGY,prefixes:j.LONG,value:1,offset:0},erg:{name:"erg",base:U.ENERGY,prefixes:j.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:U.ENERGY,prefixes:j.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:U.ENERGY,prefixes:j.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:U.ENERGY,prefixes:j.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:U.ENERGY,prefixes:j.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:U.POWER,prefixes:j.SHORT,value:1,offset:0},watt:{name:"watt",base:U.POWER,prefixes:j.LONG,value:1,offset:0},hp:{name:"hp",base:U.POWER,prefixes:j.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:U.POWER,prefixes:j.SHORT,value:T.I,offset:0},VA:{name:"VA",base:U.POWER,prefixes:j.SHORT,value:1,offset:0},Pa:{name:"Pa",base:U.PRESSURE,prefixes:j.SHORT,value:1,offset:0},psi:{name:"psi",base:U.PRESSURE,prefixes:j.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:U.PRESSURE,prefixes:j.NONE,value:101325,offset:0},bar:{name:"bar",base:U.PRESSURE,prefixes:j.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:U.PRESSURE,prefixes:j.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:U.PRESSURE,prefixes:j.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:U.PRESSURE,prefixes:j.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:U.PRESSURE,prefixes:j.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:U.ELECTRIC_CHARGE,prefixes:j.LONG,value:1,offset:0},C:{name:"C",base:U.ELECTRIC_CHARGE,prefixes:j.SHORT,value:1,offset:0},farad:{name:"farad",base:U.ELECTRIC_CAPACITANCE,prefixes:j.LONG,value:1,offset:0},F:{name:"F",base:U.ELECTRIC_CAPACITANCE,prefixes:j.SHORT,value:1,offset:0},volt:{name:"volt",base:U.ELECTRIC_POTENTIAL,prefixes:j.LONG,value:1,offset:0},V:{name:"V",base:U.ELECTRIC_POTENTIAL,prefixes:j.SHORT,value:1,offset:0},ohm:{name:"ohm",base:U.ELECTRIC_RESISTANCE,prefixes:j.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:U.ELECTRIC_INDUCTANCE,prefixes:j.LONG,value:1,offset:0},H:{name:"H",base:U.ELECTRIC_INDUCTANCE,prefixes:j.SHORT,value:1,offset:0},siemens:{name:"siemens",base:U.ELECTRIC_CONDUCTANCE,prefixes:j.LONG,value:1,offset:0},S:{name:"S",base:U.ELECTRIC_CONDUCTANCE,prefixes:j.SHORT,value:1,offset:0},weber:{name:"weber",base:U.MAGNETIC_FLUX,prefixes:j.LONG,value:1,offset:0},Wb:{name:"Wb",base:U.MAGNETIC_FLUX,prefixes:j.SHORT,value:1,offset:0},tesla:{name:"tesla",base:U.MAGNETIC_FLUX_DENSITY,prefixes:j.LONG,value:1,offset:0},T:{name:"T",base:U.MAGNETIC_FLUX_DENSITY,prefixes:j.SHORT,value:1,offset:0},b:{name:"b",base:U.BIT,prefixes:j.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:U.BIT,prefixes:j.BINARY_LONG,value:1,offset:0},B:{name:"B",base:U.BIT,prefixes:j.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:U.BIT,prefixes:j.BINARY_LONG,value:8,offset:0}},J={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function re(G){if(G.number==="BigNumber"){var te=Ly(S);H.rad.value=new S(1),H.deg.value=te.div(180),H.grad.value=te.div(200),H.cycle.value=te.times(2),H.arcsec.value=te.div(648e3),H.arcmin.value=te.div(10800)}else H.rad.value=1,H.deg.value=Math.PI/180,H.grad.value=Math.PI/200,H.cycle.value=Math.PI*2,H.arcsec.value=Math.PI/648e3,H.arcmin.value=Math.PI/10800;H.radian.value=H.rad.value,H.degree.value=H.deg.value,H.gradian.value=H.grad.value}re(r),e&&e("config",function(G,te){G.number!==te.number&&re(G)});var ie={si:{NONE:{unit:le,prefix:j.NONE[""]},LENGTH:{unit:H.m,prefix:j.SHORT[""]},MASS:{unit:H.g,prefix:j.SHORT.k},TIME:{unit:H.s,prefix:j.SHORT[""]},CURRENT:{unit:H.A,prefix:j.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:j.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:j.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:j.SHORT[""]},ANGLE:{unit:H.rad,prefix:j.SHORT[""]},BIT:{unit:H.bits,prefix:j.SHORT[""]},FORCE:{unit:H.N,prefix:j.SHORT[""]},ENERGY:{unit:H.J,prefix:j.SHORT[""]},POWER:{unit:H.W,prefix:j.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:j.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:j.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:j.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:j.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:j.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:j.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:j.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:j.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:j.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:j.SHORT[""]}}};ie.cgs=JSON.parse(JSON.stringify(ie.si)),ie.cgs.LENGTH={unit:H.m,prefix:j.SHORT.c},ie.cgs.MASS={unit:H.g,prefix:j.SHORT[""]},ie.cgs.FORCE={unit:H.dyn,prefix:j.SHORT[""]},ie.cgs.ENERGY={unit:H.erg,prefix:j.NONE[""]},ie.us=JSON.parse(JSON.stringify(ie.si)),ie.us.LENGTH={unit:H.ft,prefix:j.NONE[""]},ie.us.MASS={unit:H.lbm,prefix:j.NONE[""]},ie.us.TEMPERATURE={unit:H.degF,prefix:j.NONE[""]},ie.us.FORCE={unit:H.lbf,prefix:j.NONE[""]},ie.us.ENERGY={unit:H.BTU,prefix:j.BTU[""]},ie.us.POWER={unit:H.hp,prefix:j.NONE[""]},ie.us.PRESSURE={unit:H.psi,prefix:j.NONE[""]},ie.auto=JSON.parse(JSON.stringify(ie.si));var se=ie.auto;M.setUnitSystem=function(G){if(He(ie,G))se=ie[G];else throw new Error("Unit system "+G+" does not exist. Choices are: "+Object.keys(ie).join(", "))},M.getUnitSystem=function(){for(var G in ie)if(He(ie,G)&&ie[G]===se)return G},M.typeConverters={BigNumber:function(te){return te!=null&&te.isFraction?new S(String(te.n)).div(String(te.d)).times(String(te.s)):new S(te+"")},Fraction:function(te){return new C(te)},Complex:function(te){return te},number:function(te){return te!=null&&te.isFraction?v(te):te}},M.prototype._numberConverter=function(){var G=M.typeConverters[this.valueType()];if(G)return G;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},M._getNumberConverter=function(G){if(!M.typeConverters[G])throw new TypeError('Unsupported type "'+G+'"');return M.typeConverters[G]};for(var ve in H)if(He(H,ve)){var me=H[ve];me.dimensions=me.base.dimensions}for(var Ne in J)if(He(J,Ne)){var Be=H[J[Ne]],Le={};for(var Ee in Be)He(Be,Ee)&&(Le[Ee]=Be[Ee]);Le.name=Ne,H[Ne]=Le}M.isValidAlpha=function(te){return/^[a-zA-Z]$/.test(te)};function De(G){for(var te=0;te<G.length;te++){if(w=G.charAt(te),te===0&&!M.isValidAlpha(w))throw new Error('Invalid unit name (must begin with alpha character): "'+G+'"');if(te>0&&!(M.isValidAlpha(w)||E(w)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+G+'"')}}return M.createUnit=function(G,te){if(typeof G!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(te&&te.override){for(var ce in G)if(He(G,ce)&&M.deleteUnit(ce),G[ce].aliases)for(var q=0;q<G[ce].aliases.length;q++)M.deleteUnit(G[ce].aliases[q])}var Y;for(var ne in G)He(G,ne)&&(Y=M.createUnitSingle(ne,G[ne]));return Y},M.createUnitSingle=function(G,te){if((typeof te>"u"||te===null)&&(te={}),typeof G!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(He(H,G))throw new Error('Cannot create unit "'+G+'": a unit with that name already exists');De(G);var ce=null,q=[],Y=0,ne,oe,fe;if(te&&te.type==="Unit")ce=te.clone();else if(typeof te=="string")te!==""&&(ne=te);else if(typeof te=="object")ne=te.definition,oe=te.prefixes,Y=te.offset,fe=te.baseName,te.aliases&&(q=te.aliases.valueOf());else throw new TypeError('Cannot create unit "'+G+'" from "'+te.toString()+'": expecting "string" or "Unit" or "Object"');if(q){for(var ge=0;ge<q.length;ge++)if(He(H,q[ge]))throw new Error('Cannot create alias "'+q[ge]+'": a unit with that name already exists')}if(ne&&typeof ne=="string"&&!ce)try{ce=M.parse(ne,{allowNoUnits:!0})}catch(Ge){throw Ge.message='Could not create unit "'+G+'" from "'+ne+'": '+Ge.message,Ge}else ne&&ne.type==="Unit"&&(ce=ne.clone());q=q||[],Y=Y||0,oe&&oe.toUpperCase?oe=j[oe.toUpperCase()]||j.NONE:oe=j.NONE;var Se={};if(ce){Se={name:G,value:ce.value,dimensions:ce.dimensions.slice(0),prefixes:oe,offset:Y};var ht=!1;for(var gt in U)if(He(U,gt)){for(var Vt=!0,Ze=0;Ze<X.length;Ze++)if(Math.abs((Se.dimensions[Ze]||0)-(U[gt].dimensions[Ze]||0))>1e-12){Vt=!1;break}if(Vt){ht=!0,Se.base=U[gt];break}}if(!ht){fe=fe||G+"_STUFF";var ur={dimensions:ce.dimensions.slice(0)};ur.key=fe,U[fe]=ur,se[fe]={unit:Se,prefix:j.NONE[""]},Se.base=U[fe]}}else{if(fe=fe||G+"_STUFF",X.indexOf(fe)>=0)throw new Error('Cannot create new base unit "'+G+'": a base unit with that name already exists (and cannot be overridden)');X.push(fe);for(var Ce in U)He(U,Ce)&&(U[Ce].dimensions[X.length-1]=0);for(var Pe={dimensions:[]},Te=0;Te<X.length;Te++)Pe.dimensions[Te]=0;Pe.dimensions[X.length-1]=1,Pe.key=fe,U[fe]=Pe,Se={name:G,value:1,dimensions:U[fe].dimensions.slice(0),prefixes:oe,offset:Y,base:U[fe]},se[fe]={unit:Se,prefix:j.NONE[""]}}M.UNITS[G]=Se;for(var O=0;O<q.length;O++){var ae=q[O],pe={};for(var Me in Se)He(Se,Me)&&(pe[Me]=Se[Me]);pe.name=ae,M.UNITS[ae]=pe}return delete P.cache,new M(null,G)},M.deleteUnit=function(G){delete M.UNITS[G],delete P.cache},M.PREFIXES=j,M.BASE_DIMENSIONS=X,M.BASE_UNITS=U,M.UNIT_SYSTEMS=ie,M.UNITS=H,M},{isClass:!0}),sE="unit",uG=["typed","Unit"],lG=Q(sE,uG,t=>{var{typed:e,Unit:r}=t;return e(sE,{Unit:function(a){return a.clone()},string:function(a){return r.isValuelessUnit(a)?new r(null,a):r.parse(a,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(a,i){return new r(a,i)},"number | BigNumber | Fraction":function(a){return new r(a)},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),oE="sparse",cG=["typed","SparseMatrix"],fG=Q(oE,cG,t=>{var{typed:e,SparseMatrix:r}=t;return e(oE,{"":function(){return new r([])},string:function(a){return new r([],a)},"Array | Matrix":function(a){return new r(a)},"Array | Matrix, string":function(a,i){return new r(a,i)}})}),uE="createUnit",dG=["typed","Unit"],mG=Q(uE,dG,t=>{var{typed:e,Unit:r}=t;return e(uE,{"Object, Object":function(a,i){return r.createUnit(a,i)},Object:function(a){return r.createUnit(a,{})},"string, Unit | string | Object, Object":function(a,i,s){var u={};return u[a]=i,r.createUnit(u,s)},"string, Unit | string | Object":function(a,i){var s={};return s[a]=i,r.createUnit(s,{})},string:function(a){var i={};return i[a]={},r.createUnit(i,{})}})}),lE="acos",hG=["typed","config","Complex"],pG=Q(lE,hG,t=>{var{typed:e,config:r,Complex:n}=t;return e(lE,{number:function(i){return i>=-1&&i<=1||r.predictable?Math.acos(i):new n(i,0).acos()},Complex:function(i){return i.acos()},BigNumber:function(i){return i.acos()}})}),cE="acosh",vG=["typed","config","Complex"],gG=Q(cE,vG,t=>{var{typed:e,config:r,Complex:n}=t;return e(cE,{number:function(i){return i>=1||r.predictable?RM(i):i<=-1?new n(Math.log(Math.sqrt(i*i-1)-i),Math.PI):new n(i,0).acosh()},Complex:function(i){return i.acosh()},BigNumber:function(i){return i.acosh()}})}),fE="acot",yG=["typed","BigNumber"],xG=Q(fE,yG,t=>{var{typed:e,BigNumber:r}=t;return e(fE,{number:OM,Complex:function(a){return a.acot()},BigNumber:function(a){return new r(1).div(a).atan()}})}),dE="acoth",bG=["typed","config","Complex","BigNumber"],wG=Q(dE,bG,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(dE,{number:function(s){return s>=1||s<=-1||r.predictable?BM(s):new n(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new a(1).div(s).atanh()}})}),mE="acsc",NG=["typed","config","Complex","BigNumber"],_G=Q(mE,NG,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(mE,{number:function(s){return s<=-1||s>=1||r.predictable?jM(s):new n(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new a(1).div(s).asin()}})}),hE="acsch",EG=["typed","BigNumber"],SG=Q(hE,EG,t=>{var{typed:e,BigNumber:r}=t;return e(hE,{number:kM,Complex:function(a){return a.acsch()},BigNumber:function(a){return new r(1).div(a).asinh()}})}),pE="asec",AG=["typed","config","Complex","BigNumber"],DG=Q(pE,AG,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(pE,{number:function(s){return s<=-1||s>=1||r.predictable?$M(s):new n(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new a(1).div(s).acos()}})}),vE="asech",CG=["typed","config","Complex","BigNumber"],TG=Q(vE,CG,t=>{var{typed:e,config:r,Complex:n,BigNumber:a}=t;return e(vE,{number:function(s){if(s<=1&&s>=-1||r.predictable){var u=1/s;if(u>0||r.predictable)return LM(s);var l=Math.sqrt(u*u-1);return new n(Math.log(l-u),Math.PI)}return new n(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new a(1).div(s).acosh()}})}),gE="asin",MG=["typed","config","Complex"],IG=Q(gE,MG,t=>{var{typed:e,config:r,Complex:n}=t;return e(gE,{number:function(i){return i>=-1&&i<=1||r.predictable?Math.asin(i):new n(i,0).asin()},Complex:function(i){return i.asin()},BigNumber:function(i){return i.asin()}})}),PG="asinh",FG=["typed"],RG=Q(PG,FG,t=>{var{typed:e}=t;return e("asinh",{number:zM,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),OG="atan",BG=["typed"],jG=Q(OG,BG,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),yE="atan2",kG=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],$G=Q(yE,kG,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:a,DenseMatrix:i,concat:s}=t,u=Fa({typed:e,equalScalar:n}),l=bn({typed:e}),o=r4({typed:e,equalScalar:n}),c=on({typed:e,equalScalar:n}),f=jr({typed:e,DenseMatrix:i}),d=Zt({typed:e,matrix:r,concat:s});return e(yE,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>a.atan2(m,h)},d({scalar:"number | BigNumber",SS:o,DS:l,SD:u,Ss:c,sS:f}))}),xE="atanh",LG=["typed","config","Complex"],zG=Q(xE,LG,t=>{var{typed:e,config:r,Complex:n}=t;return e(xE,{number:function(i){return i<=1&&i>=-1||r.predictable?VM(i):new n(i,0).atanh()},Complex:function(i){return i.atanh()},BigNumber:function(i){return i.atanh()}})}),il=Q("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),bE="cos",VG=["typed"],UG=Q(bE,VG,t=>{var{typed:e}=t,r=il({typed:e});return e(bE,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),wE="cosh",qG=["typed"],HG=Q(wE,qG,t=>{var{typed:e}=t;return e(wE,{number:kk,"Complex | BigNumber":r=>r.cosh()})}),NE="cot",GG=["typed","BigNumber"],WG=Q(NE,GG,t=>{var{typed:e,BigNumber:r}=t,n=il({typed:e});return e(NE,{number:UM,Complex:a=>a.cot(),BigNumber:a=>new r(1).div(a.tan())},n)}),_E="coth",QG=["typed","BigNumber"],XG=Q(_E,QG,t=>{var{typed:e,BigNumber:r}=t;return e(_E,{number:qM,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),EE="csc",KG=["typed","BigNumber"],JG=Q(EE,KG,t=>{var{typed:e,BigNumber:r}=t,n=il({typed:e});return e(EE,{number:HM,Complex:a=>a.csc(),BigNumber:a=>new r(1).div(a.sin())},n)}),SE="csch",YG=["typed","BigNumber"],ZG=Q(SE,YG,t=>{var{typed:e,BigNumber:r}=t;return e(SE,{number:GM,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),AE="sec",eW=["typed","BigNumber"],tW=Q(AE,eW,t=>{var{typed:e,BigNumber:r}=t,n=il({typed:e});return e(AE,{number:WM,Complex:a=>a.sec(),BigNumber:a=>new r(1).div(a.cos())},n)}),DE="sech",rW=["typed","BigNumber"],nW=Q(DE,rW,t=>{var{typed:e,BigNumber:r}=t;return e(DE,{number:QM,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),CE="sin",aW=["typed"],iW=Q(CE,aW,t=>{var{typed:e}=t,r=il({typed:e});return e(CE,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),TE="sinh",sW=["typed"],oW=Q(TE,sW,t=>{var{typed:e}=t;return e(TE,{number:XM,"Complex | BigNumber":r=>r.sinh()})}),ME="tan",uW=["typed"],lW=Q(ME,uW,t=>{var{typed:e}=t,r=il({typed:e});return e(ME,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),cW="tanh",fW=["typed"],dW=Q(cW,fW,t=>{var{typed:e}=t;return e("tanh",{number:Lk,"Complex | BigNumber":r=>r.tanh()})}),IE="setCartesian",mW=["typed","size","subset","compareNatural","Index","DenseMatrix"],hW=Q(IE,mW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i,DenseMatrix:s}=t;return e(IE,{"Array | Matrix, Array | Matrix":function(l,o){var c=[];if(n(r(l),new i(0))!==0&&n(r(o),new i(0))!==0){var f=Ct(Array.isArray(l)?l:l.toArray()).sort(a),d=Ct(Array.isArray(o)?o:o.toArray()).sort(a);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<d.length;h++)c.push([f[m],d[h]])}return Array.isArray(l)&&Array.isArray(o)?c:new s(c)}})}),PE="setDifference",pW=["typed","size","subset","compareNatural","Index","DenseMatrix"],vW=Q(PE,pW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i,DenseMatrix:s}=t;return e(PE,{"Array | Matrix, Array | Matrix":function(l,o){var c;if(n(r(l),new i(0))===0)c=[];else{if(n(r(o),new i(0))===0)return Ct(l.toArray());var f=Lu(Ct(Array.isArray(l)?l:l.toArray()).sort(a)),d=Lu(Ct(Array.isArray(o)?o:o.toArray()).sort(a));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var v=0;v<d.length;v++)if(a(f[h].value,d[v].value)===0&&f[h].identifier===d[v].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(l)&&Array.isArray(o)?Mm(c):new s(Mm(c))}})}),FE="setDistinct",gW=["typed","size","subset","compareNatural","Index","DenseMatrix"],yW=Q(FE,gW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i,DenseMatrix:s}=t;return e(FE,{"Array | Matrix":function(l){var o;if(n(r(l),new i(0))===0)o=[];else{var c=Ct(Array.isArray(l)?l:l.toArray()).sort(a);o=[],o.push(c[0]);for(var f=1;f<c.length;f++)a(c[f],c[f-1])!==0&&o.push(c[f])}return Array.isArray(l)?o:new s(o)}})}),RE="setIntersect",xW=["typed","size","subset","compareNatural","Index","DenseMatrix"],bW=Q(RE,xW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i,DenseMatrix:s}=t;return e(RE,{"Array | Matrix, Array | Matrix":function(l,o){var c;if(n(r(l),new i(0))===0||n(r(o),new i(0))===0)c=[];else{var f=Lu(Ct(Array.isArray(l)?l:l.toArray()).sort(a)),d=Lu(Ct(Array.isArray(o)?o:o.toArray()).sort(a));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<d.length;h++)if(a(f[m].value,d[h].value)===0&&f[m].identifier===d[h].identifier){c.push(f[m]);break}}return Array.isArray(l)&&Array.isArray(o)?Mm(c):new s(Mm(c))}})}),OE="setIsSubset",wW=["typed","size","subset","compareNatural","Index"],NW=Q(OE,wW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i}=t;return e(OE,{"Array | Matrix, Array | Matrix":function(u,l){if(n(r(u),new i(0))===0)return!0;if(n(r(l),new i(0))===0)return!1;for(var o=Lu(Ct(Array.isArray(u)?u:u.toArray()).sort(a)),c=Lu(Ct(Array.isArray(l)?l:l.toArray()).sort(a)),f,d=0;d<o.length;d++){f=!1;for(var m=0;m<c.length;m++)if(a(o[d].value,c[m].value)===0&&o[d].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),BE="setMultiplicity",_W=["typed","size","subset","compareNatural","Index"],EW=Q(BE,_W,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i}=t;return e(BE,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(u,l){if(n(r(l),new i(0))===0)return 0;for(var o=Ct(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<o.length;f++)a(o[f],u)===0&&c++;return c}})}),jE="setPowerset",SW=["typed","size","subset","compareNatural","Index"],AW=Q(jE,SW,t=>{var{typed:e,size:r,subset:n,compareNatural:a,Index:i}=t;return e(jE,{"Array | Matrix":function(o){if(n(r(o),new i(0))===0)return[];for(var c=Ct(Array.isArray(o)?o:o.toArray()).sort(a),f=[],d=0;d.toString(2).length<=c.length;)f.push(s(c,d.toString(2).split("").reverse())),d++;return u(f)}});function s(l,o){for(var c=[],f=0;f<o.length;f++)o[f]==="1"&&c.push(l[f]);return c}function u(l){for(var o=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(o=l[f],l[f]=l[f+1],l[f+1]=o);return l}}),kE="setSize",DW=["typed","compareNatural"],CW=Q(kE,DW,t=>{var{typed:e,compareNatural:r}=t;return e(kE,{"Array | Matrix":function(a){return Array.isArray(a)?Ct(a).length:Ct(a.toArray()).length},"Array | Matrix, boolean":function(a,i){if(i===!1||a.length===0)return Array.isArray(a)?Ct(a).length:Ct(a.toArray()).length;for(var s=Ct(Array.isArray(a)?a:a.toArray()).sort(r),u=1,l=1;l<s.length;l++)r(s[l],s[l-1])!==0&&u++;return u}})}),$E="setSymDifference",TW=["typed","size","concat","subset","setDifference","Index"],MW=Q($E,TW,t=>{var{typed:e,size:r,concat:n,subset:a,setDifference:i,Index:s}=t;return e($E,{"Array | Matrix, Array | Matrix":function(l,o){if(a(r(l),new s(0))===0)return Ct(o);if(a(r(o),new s(0))===0)return Ct(l);var c=Ct(l),f=Ct(o);return n(i(c,f),i(f,c))}})}),LE="setUnion",IW=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],PW=Q(LE,IW,t=>{var{typed:e,size:r,concat:n,subset:a,setIntersect:i,setSymDifference:s,Index:u}=t;return e(LE,{"Array | Matrix, Array | Matrix":function(o,c){if(a(r(o),new u(0))===0)return Ct(c);if(a(r(c),new u(0))===0)return Ct(o);var f=Ct(o),d=Ct(c);return n(s(f,d),i(f,d))}})}),zE="add",FW=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],RW=Q(zE,FW,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:a,DenseMatrix:i,SparseMatrix:s,concat:u}=t,l=Ds({typed:e}),o=Ry({typed:e,equalScalar:a}),c=wo({typed:e,DenseMatrix:i}),f=Zt({typed:e,matrix:r,concat:u});return e(zE,{"any, any":n,"any, any, ...any":e.referToSelf(d=>(m,h,v)=>{for(var T=d(m,h),S=0;S<v.length;S++)T=d(T,v[S]);return T})},f({elop:n,DS:l,SS:o,Ss:c}))}),VE="hypot",OW=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],BW=Q(VE,OW,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:a,multiplyScalar:i,sqrt:s,smaller:u,isPositive:l}=t;return e(VE,{"... number | BigNumber":o,Array:o,Matrix:c=>o(Ct(c.toArray(),!0))});function o(c){for(var f=0,d=0,m=0;m<c.length;m++){if(hi(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=r(c[m]);u(d,h)?(f=i(f,i(a(d,h),a(d,h))),f=n(f,1),d=h):f=n(f,l(h)?i(a(h,d),a(h,d)):h)}return i(d,s(f))}}),UE="norm",jW=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],kW=Q(UE,jW,t=>{var{typed:e,abs:r,add:n,pow:a,conj:i,sqrt:s,multiply:u,equalScalar:l,larger:o,smaller:c,matrix:f,ctranspose:d,eigs:m}=t;return e(UE,{number:Math.abs,Complex:function(g){return g.abs()},BigNumber:function(g){return g.abs()},boolean:function(g){return Math.abs(g)},Array:function(g){return x(f(g),2)},Matrix:function(g){return x(g,2)},"Array, number | BigNumber | string":function(g,_){return x(f(g),_)},"Matrix, number | BigNumber | string":function(g,_){return x(g,_)}});function h(w){var g=0;return w.forEach(function(_){var E=r(_);o(E,g)&&(g=E)},!0),g}function v(w){var g;return w.forEach(function(_){var E=r(_);(!g||c(E,g))&&(g=E)},!0),g||0}function T(w,g){if(g===Number.POSITIVE_INFINITY||g==="inf")return h(w);if(g===Number.NEGATIVE_INFINITY||g==="-inf")return v(w);if(g==="fro")return x(w,2);if(typeof g=="number"&&!isNaN(g)){if(!l(g,0)){var _=0;return w.forEach(function(E){_=n(a(r(E),g),_)},!0),a(_,1/g)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function S(w){var g=0;return w.forEach(function(_,E){g=n(g,u(_,i(_)))}),r(s(g))}function C(w){var g=[],_=0;return w.forEach(function(E,b){var A=b[1],I=n(g[A]||0,r(E));o(I,_)&&(_=I),g[A]=I},!0),_}function N(w){var g=w.size();if(g[0]!==g[1])throw new RangeError("Invalid matrix dimensions");var _=d(w),E=u(_,w),b=m(E).values.toArray(),A=b[b.length-1];return r(s(A))}function M(w){var g=[],_=0;return w.forEach(function(E,b){var A=b[0],I=n(g[A]||0,r(E));o(I,_)&&(_=I),g[A]=I},!0),_}function y(w,g){if(g===1)return C(w);if(g===Number.POSITIVE_INFINITY||g==="inf")return M(w);if(g==="fro")return S(w);if(g===2)return N(w);throw new Error("Unsupported parameter value "+g)}function x(w,g){var _=w.size();if(_.length===1)return T(w,g);if(_.length===2){if(_[0]&&_[1])return y(w,g);throw new RangeError("Invalid matrix dimensions")}}}),qE="dot",$W=["typed","addScalar","multiplyScalar","conj","size"],LW=Q(qE,$W,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:a,size:i}=t;return e(qE,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":l});function s(o,c){var f=i(o),d=i(c),m,h;if(f.length===1)m=f[0];else if(f.length===2&&f[1]===1)m=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(d.length===1)h=d[0];else if(d.length===2&&d[1]===1)h=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(m!==h)throw new RangeError("Vectors must have equal length ("+m+" != "+h+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function u(o,c){var f=s(o,c),d=Ye(o)?o._data:o,m=Ye(o)?o._datatype||o.getDataType():void 0,h=Ye(c)?c._data:c,v=Ye(c)?c._datatype||c.getDataType():void 0,T=i(o).length===2,S=i(c).length===2,C=r,N=n;if(m&&v&&m===v&&typeof m=="string"&&m!=="mixed"){var M=m;C=e.find(r,[M,M]),N=e.find(n,[M,M])}if(!T&&!S){for(var y=N(a(d[0]),h[0]),x=1;x<f;x++)y=C(y,N(a(d[x]),h[x]));return y}if(!T&&S){for(var w=N(a(d[0]),h[0][0]),g=1;g<f;g++)w=C(w,N(a(d[g]),h[g][0]));return w}if(T&&!S){for(var _=N(a(d[0][0]),h[0]),E=1;E<f;E++)_=C(_,N(a(d[E][0]),h[E]));return _}if(T&&S){for(var b=N(a(d[0][0]),h[0][0]),A=1;A<f;A++)b=C(b,N(a(d[A][0]),h[A][0]));return b}}function l(o,c){s(o,c);for(var f=o._index,d=o._values,m=c._index,h=c._values,v=0,T=r,S=n,C=0,N=0;C<f.length&&N<m.length;){var M=f[C],y=m[N];if(M<y){C++;continue}if(M>y){N++;continue}M===y&&(v=T(v,S(d[C],h[N])),C++,N++)}return v}}),zW="trace",VW=["typed","matrix","add"],UW=Q(zW,VW,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(u){return a(r(u))},SparseMatrix:i,DenseMatrix:a,any:nt});function a(s){var u=s._size,l=s._data;switch(u.length){case 1:if(u[0]===1)return nt(l[0]);throw new RangeError("Matrix must be square (size: "+pt(u)+")");case 2:{var o=u[0],c=u[1];if(o===c){for(var f=0,d=0;d<o;d++)f=n(f,l[d][d]);return f}else throw new RangeError("Matrix must be square (size: "+pt(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(u)+")")}}function i(s){var u=s._values,l=s._index,o=s._ptr,c=s._size,f=c[0],d=c[1];if(f===d){var m=0;if(u.length>0)for(var h=0;h<d;h++)for(var v=o[h],T=o[h+1],S=v;S<T;S++){var C=l[S];if(C===h){m=n(m,u[S]);break}if(C>h)break}return m}throw new RangeError("Matrix must be square (size: "+pt(c)+")")}}),HE="index",qW=["typed","Index"],HW=Q(HE,qW,t=>{var{typed:e,Index:r}=t;return e(HE,{"...number | string | BigNumber | Range | Array | Matrix":function(a){var i=a.map(function(u){return ut(u)?u.toNumber():Wt(u)||Ye(u)?u.map(function(l){return ut(l)?l.toNumber():l}):u}),s=new r;return r.apply(s,i),s}})}),N4=new Set(["end"]),GW="Node",WW=["mathWithTransform"],QW=Q(GW,WW,t=>{var{mathWithTransform:e}=t;function r(a){for(var i of[...N4])if(a.has(i))throw new Error('Scope contains an illegal symbol, "'+i+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(i){return this.compile().evaluate(i)}compile(){var i=this._compile(e,{}),s={},u=null;function l(o){var c=xu(o);return r(c),i(c,s,u)}return{evaluate:l}}_compile(i,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(i){throw new Error("Cannot run forEach on a Node interface")}map(i){throw new Error("Cannot run map on a Node interface")}_ifNode(i){if(!Ht(i))throw new TypeError("Callback function must return a Node");return i}traverse(i){i(this,null,null);function s(u,l){u.forEach(function(o,c,f){l(o,c,f),s(o,l)})}s(this,i)}transform(i){function s(u,l,o){var c=i(u,l,o);return c!==u?c:u.map(s)}return s(this,null,null)}filter(i){var s=[];return this.traverse(function(u,l,o){i(u,l,o)&&s.push(u)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(i){return i.cloneDeep()})}equals(i){return i?this.type===i.type&&Ei(this,i):!1}toString(i){var s=this._getCustomString(i);return typeof s<"u"?s:this._toString(i)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(i){var s=this._getCustomString(i);return typeof s<"u"?s:this._toHTML(i)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(i){var s=this._getCustomString(i);return typeof s<"u"?s:this._toTex(i)}_toTex(i){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(i){if(i&&typeof i=="object")switch(typeof i.handler){case"object":case"undefined":return;case"function":return i.handler(this,i);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Mn(t){return t&&t.isIndexError?new Ia(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function _4(t){var{subset:e}=t;return function(n,a){try{if(Array.isArray(n))return e(n,a);if(n&&typeof n.subset=="function")return n.subset(a);if(typeof n=="string")return e(n,a);if(typeof n=="object"){if(!a.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return En(n,a.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(i){throw Mn(i)}}}var ed="AccessorNode",XW=["subset","Node"],KW=Q(ed,XW,t=>{var{subset:e,Node:r}=t,n=_4({subset:e});function a(s){return!(uo(s)||aa(s)||Nt(s)||ys(s)||Mh(s)||_i(s)||Qr(s))}class i extends r{constructor(u,l){if(super(),!Ht(u))throw new TypeError('Node expected for parameter "object"');if(!el(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=u,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ed}get isAccessorNode(){return!0}_compile(u,l){var o=this.object._compile(u,l),c=this.index._compile(u,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,v){return En(o(m,h,v),f)}}else return function(m,h,v){var T=o(m,h,v),S=c(m,h,T);return n(T,S)}}forEach(u){u(this.object,"object",this),u(this.index,"index",this)}map(u){return new i(this._ifNode(u(this.object,"object",this)),this._ifNode(u(this.index,"index",this)))}clone(){return new i(this.object,this.index)}_toString(u){var l=this.object.toString(u);return a(this.object)&&(l="("+l+")"),l+this.index.toString(u)}_toHTML(u){var l=this.object.toHTML(u);return a(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(u)}_toTex(u){var l=this.object.toTex(u);return a(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(u)}toJSON(){return{mathjs:ed,object:this.object,index:this.index}}static fromJSON(u){return new i(u.object,u.index)}}return Mr(i,"name",ed),i},{isClass:!0,isNode:!0}),td="ArrayNode",JW=["Node"],YW=Q(td,JW,t=>{var{Node:e}=t;class r extends e{constructor(a){if(super(),this.items=a||[],!Array.isArray(this.items)||!this.items.every(Ht))throw new TypeError("Array containing Nodes expected")}get type(){return td}get isArrayNode(){return!0}_compile(a,i){var s=ls(this.items,function(o){return o._compile(a,i)}),u=a.config.matrix!=="Array";if(u){var l=a.matrix;return function(c,f,d){return l(ls(s,function(m){return m(c,f,d)}))}}else return function(c,f,d){return ls(s,function(m){return m(c,f,d)})}}forEach(a){for(var i=0;i<this.items.length;i++){var s=this.items[i];a(s,"items["+i+"]",this)}}map(a){for(var i=[],s=0;s<this.items.length;s++)i[s]=this._ifNode(a(this.items[s],"items["+s+"]",this));return new r(i)}clone(){return new r(this.items.slice(0))}_toString(a){var i=this.items.map(function(s){return s.toString(a)});return"["+i.join(", ")+"]"}toJSON(){return{mathjs:td,items:this.items}}static fromJSON(a){return new r(a.items)}_toHTML(a){var i=this.items.map(function(s){return s.toHTML(a)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){function i(s,u){var l=s.some(aa)&&!s.every(aa),o=u||l,c=o?"&":"\\\\",f=s.map(function(d){return d.items?i(d.items,!u):d.toTex(a)}).join(c);return l||!o||o&&!u?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return i(this.items,!1)}}return Mr(r,"name",td),r},{isClass:!0,isNode:!0});function ZW(t){var{subset:e,matrix:r}=t;return function(a,i,s){try{if(Array.isArray(a)){var u=r(a).subset(i,s).valueOf();return u.forEach((l,o)=>{a[o]=l}),a}else{if(a&&typeof a.subset=="function")return a.subset(i,s);if(typeof a=="string")return e(a,i,s);if(typeof a=="object"){if(!i.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Bu(a,i.getObjectProperty(),s),a}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Mn(l)}}}var Ea=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:nullish":{op:"??",associativity:"left",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function rd(t,e){if(!e||e!=="auto")return t;for(var r=t;_i(r);)r=r.content;return r}function Qt(t,e,r,n){var a=t;e!=="keep"&&(a=t.getContent());for(var i=a.getIdentifier(),s=null,u=0;u<Ea.length;u++)if(i in Ea[u]){s=u;break}if(i==="OperatorNode:multiply"&&a.implicit&&r!=="show"){var l=rd(a.args[0],e);!(Nt(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&xg(rd(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&xg(rd(l.args[0],e))&&Nt(rd(l.args[1])))&&(s+=1)}return s}function Ol(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),a=Qt(r,e);if(a===null)return null;var i=Ea[a][n];if(He(i,"associativity")){if(i.associativity==="left")return"left";if(i.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+i.associativity+"'.")}return null}function Zp(t,e,r){var n=r!=="keep"?t.getContent():t,a=r!=="keep"?t.getContent():e,i=n.getIdentifier(),s=a.getIdentifier(),u=Qt(n,r);if(u===null)return null;var l=Ea[u][i];if(He(l,"associativeWith")&&l.associativeWith instanceof Array){for(var o=0;o<l.associativeWith.length;o++)if(l.associativeWith[o]===s)return!0;return!1}return null}function eQ(t){var e="OperatorNode:"+t;for(var r of Ea)if(e in r)return r[e].op;return null}var nd="AssignmentNode",tQ=["subset","?matrix","Node"],rQ=Q(nd,tQ,t=>{var{subset:e,matrix:r,Node:n}=t,a=_4({subset:e}),i=ZW({subset:e,matrix:r});function s(l,o,c){o||(o="keep");var f=Qt(l,o,c),d=Qt(l.value,o,c);return o==="all"||d!==null&&d<=f}class u extends n{constructor(o,c,f){if(super(),this.object=o,this.index=f?c:null,this.value=f||c,!Qr(o)&&!uo(o))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Qr(o)&&o.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!el(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ht(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return nd}get isAssignmentNode(){return!0}_compile(o,c){var f=this.object._compile(o,c),d=this.index?this.index._compile(o,c):null,m=this.value._compile(o,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var v=this.index.getObjectProperty();return function(M,y,x){var w=f(M,y,x),g=m(M,y,x);return Bu(w,v,g),g}}else{if(Qr(this.object))return function(M,y,x){var w=f(M,y,x),g=m(M,y,x),_=d(M,y,w);return M.set(h,i(w,_,g)),g};var T=this.object.object._compile(o,c);if(this.object.index.isObjectProperty()){var S=this.object.index.getObjectProperty();return function(M,y,x){var w=T(M,y,x),g=En(w,S),_=d(M,y,g),E=m(M,y,x);return Bu(w,S,i(g,_,E)),E}}else{var C=this.object.index._compile(o,c);return function(M,y,x){var w=T(M,y,x),g=C(M,y,w),_=a(w,g),E=d(M,y,_),b=m(M,y,x);return i(w,g,i(_,E,b)),b}}}else{if(!Qr(this.object))throw new TypeError("SymbolNode expected as object");return function(M,y,x){var w=m(M,y,x);return M.set(h,w),w}}}forEach(o){o(this.object,"object",this),this.index&&o(this.index,"index",this),o(this.value,"value",this)}map(o){var c=this._ifNode(o(this.object,"object",this)),f=this.index?this._ifNode(o(this.index,"index",this)):null,d=this._ifNode(o(this.value,"value",this));return new u(c,f,d)}clone(){return new u(this.object,this.index,this.value)}_toString(o){var c=this.object.toString(o),f=this.index?this.index.toString(o):"",d=this.value.toString(o);return s(this,o&&o.parenthesis,o&&o.implicit)&&(d="("+d+")"),c+f+" = "+d}toJSON(){return{mathjs:nd,object:this.object,index:this.index,value:this.value}}static fromJSON(o){return new u(o.object,o.index,o.value)}_toHTML(o){var c=this.object.toHTML(o),f=this.index?this.index.toHTML(o):"",d=this.value.toHTML(o);return s(this,o&&o.parenthesis,o&&o.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(o){var c=this.object.toTex(o),f=this.index?this.index.toTex(o):"",d=this.value.toTex(o);return s(this,o&&o.parenthesis,o&&o.implicit)&&(d="\\left(".concat(d,"\\right)")),c+f+"="+d}}return Mr(u,"name",nd),u},{isClass:!0,isNode:!0}),ad="BlockNode",nQ=["ResultSet","Node"],aQ=Q(ad,nQ,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(i){if(super(),!Array.isArray(i))throw new Error("Array expected");this.blocks=i.map(function(s){var u=s&&s.node,l=s&&s.visible!==void 0?s.visible:!0;if(!Ht(u))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:u,visible:l}})}get type(){return ad}get isBlockNode(){return!0}_compile(i,s){var u=ls(this.blocks,function(l){return{evaluate:l.node._compile(i,s),visible:l.visible}});return function(o,c,f){var d=[];return aM(u,function(h){var v=h.evaluate(o,c,f);h.visible&&d.push(v)}),new e(d)}}forEach(i){for(var s=0;s<this.blocks.length;s++)i(this.blocks[s].node,"blocks["+s+"].node",this)}map(i){for(var s=[],u=0;u<this.blocks.length;u++){var l=this.blocks[u],o=this._ifNode(i(l.node,"blocks["+u+"].node",this));s[u]={node:o,visible:l.visible}}return new n(s)}clone(){var i=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new n(i)}_toString(i){return this.blocks.map(function(s){return s.node.toString(i)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:ad,blocks:this.blocks}}static fromJSON(i){return new n(i.blocks)}_toHTML(i){return this.blocks.map(function(s){return s.node.toHTML(i)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(i){return this.blocks.map(function(s){return s.node.toTex(i)+(s.visible?"":";")}).join(`\\;\\;
`)}}return Mr(n,"name",ad),n},{isClass:!0,isNode:!0}),id="ConditionalNode",iQ=["Node"],sQ=Q(id,iQ,t=>{var{Node:e}=t;function r(a){if(typeof a=="number"||typeof a=="boolean"||typeof a=="string")return!!a;if(a){if(ut(a))return!a.isZero();if(hi(a))return!!(a.re||a.im);if(Gn(a))return!!a.value}if(a==null)return!1;throw new TypeError('Unsupported type of condition "'+Xt(a)+'"')}class n extends e{constructor(i,s,u){if(super(),!Ht(i))throw new TypeError("Parameter condition must be a Node");if(!Ht(s))throw new TypeError("Parameter trueExpr must be a Node");if(!Ht(u))throw new TypeError("Parameter falseExpr must be a Node");this.condition=i,this.trueExpr=s,this.falseExpr=u}get type(){return id}get isConditionalNode(){return!0}_compile(i,s){var u=this.condition._compile(i,s),l=this.trueExpr._compile(i,s),o=this.falseExpr._compile(i,s);return function(f,d,m){return r(u(f,d,m))?l(f,d,m):o(f,d,m)}}forEach(i){i(this.condition,"condition",this),i(this.trueExpr,"trueExpr",this),i(this.falseExpr,"falseExpr",this)}map(i){return new n(this._ifNode(i(this.condition,"condition",this)),this._ifNode(i(this.trueExpr,"trueExpr",this)),this._ifNode(i(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(i){var s=i&&i.parenthesis?i.parenthesis:"keep",u=Qt(this,s,i&&i.implicit),l=this.condition.toString(i),o=Qt(this.condition,s,i&&i.implicit);(s==="all"||this.condition.type==="OperatorNode"||o!==null&&o<=u)&&(l="("+l+")");var c=this.trueExpr.toString(i),f=Qt(this.trueExpr,s,i&&i.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c="("+c+")");var d=this.falseExpr.toString(i),m=Qt(this.falseExpr,s,i&&i.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(d="("+d+")"),l+" ? "+c+" : "+d}toJSON(){return{mathjs:id,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(i){return new n(i.condition,i.trueExpr,i.falseExpr)}_toHTML(i){var s=i&&i.parenthesis?i.parenthesis:"keep",u=Qt(this,s,i&&i.implicit),l=this.condition.toHTML(i),o=Qt(this.condition,s,i&&i.implicit);(s==="all"||this.condition.type==="OperatorNode"||o!==null&&o<=u)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(i),f=Qt(this.trueExpr,s,i&&i.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=u)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(i),m=Qt(this.falseExpr,s,i&&i.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=u)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(i){return"\\begin{cases} {"+this.trueExpr.toTex(i)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(i)+"}\\\\{"+this.falseExpr.toTex(i)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Mr(n,"name",id),n},{isClass:!0,isNode:!0}),jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oQ={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},uQ={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},lQ=function(e,r){return jg({},e,r)},cQ=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,a=e.escapeMapFn,i=a===void 0?lQ:a,s=String(t),u="",l=i(jg({},oQ),n?jg({},uQ):{}),o=Object.keys(l),c=function(){var d=!1;o.forEach(function(m,h){d||s.length>=m.length&&s.slice(0,m.length)===m&&(u+=l[o[h]],s=s.slice(m.length,s.length),d=!0)}),d||(u+=s.slice(0,1),s=s.slice(1,s.length))};s;)c();return u};const fQ=Qm(cQ);var kg={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Dt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},GE={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Dt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Dt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Dt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Dt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Dt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Dt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Dt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Dt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Dt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Dt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Dt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Dt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Dt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Dt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Dt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Dt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Dt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Dt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Dt.and,"${args[1]}\\right)")},not:{1:Dt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Dt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Dt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Dt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Dt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Dt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Dt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Dt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Dt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Dt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Dt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Dt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Dt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Dt.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(kg.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},dQ="\\mathrm{${name}}\\left(${args}\\right)",WE={deg:"^\\circ"};function $g(t){return fQ(t,{preserveFormatting:!0})}function E4(t,e){return e=typeof e>"u"?!1:e,e?He(WE,t)?WE[t]:"\\mathrm{"+$g(t)+"}":He(kg,t)?kg[t]:$g(t)}var sd="ConstantNode",mQ=["Node"],hQ=Q(sd,mQ,t=>{var{Node:e}=t;class r extends e{constructor(a){super(),this.value=a}get type(){return sd}get isConstantNode(){return!0}_compile(a,i){var s=this.value;return function(){return s}}forEach(a){}map(a){return this.clone()}clone(){return new r(this.value)}_toString(a){return pt(this.value,a)}_toHTML(a){var i=this._toString(a);switch(Xt(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+i+"</span>";case"string":return'<span class="math-string">'+i+"</span>";case"boolean":return'<span class="math-boolean">'+i+"</span>";case"null":return'<span class="math-null-symbol">'+i+"</span>";case"undefined":return'<span class="math-undefined">'+i+"</span>";default:return'<span class="math-symbol">'+i+"</span>"}}toJSON(){return{mathjs:sd,value:this.value}}static fromJSON(a){return new r(a.value)}_toTex(a){var i=this._toString(a),s=Xt(this.value);switch(s){case"string":return"\\mathtt{"+$g(i)+"}";case"number":case"BigNumber":{var u=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!u)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=i.toLowerCase().indexOf("e");return l!==-1?i.substring(0,l)+"\\cdot10^{"+i.substring(l+1)+"}":i}case"bigint":return i.toString();case"Fraction":return this.value.toLatex();default:return i}}}return Mr(r,"name",sd),r},{isClass:!0,isNode:!0}),od="FunctionAssignmentNode",pQ=["typed","Node"],vQ=Q(od,pQ,t=>{var{typed:e,Node:r}=t;function n(i,s,u){var l=Qt(i,s,u),o=Qt(i.expr,s,u);return s==="all"||o!==null&&o<=l}class a extends r{constructor(s,u,l){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(u))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ht(l))throw new TypeError('Node expected for parameter "expr"');if(N4.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var o=new Set;for(var c of u){var f=typeof c=="string"?c:c.name;if(o.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));o.add(f)}this.name=s,this.params=u.map(function(d){return d&&d.name||d}),this.types=u.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return od}get isFunctionAssignmentNode(){return!0}_compile(s,u){var l=Object.create(u);aM(this.params,function(v){l[v]=!0});var o=this.expr,c=o._compile(s,l),f=this.name,d=this.params,m=GN(this.types,","),h=f+"("+GN(this.params,", ")+")";return function(T,S,C){var N={};N[m]=function(){for(var y=Object.create(S),x=0;x<d.length;x++)y[d[x]]=arguments[x];return c(T,y,C)};var M=e(f,N);return M.syntax=h,M.expr=o.toString(),T.set(f,M),M}}forEach(s){s(this.expr,"expr",this)}map(s){var u=this._ifNode(s(this.expr,"expr",this));return new a(this.name,this.params.slice(0),u)}clone(){return new a(this.name,this.params.slice(0),this.expr)}_toString(s){var u=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toString(s);return n(this,u,s&&s.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var s=this.types;return{mathjs:od,name:this.name,params:this.params.map(function(u,l){return{name:u,type:s[l]}}),expr:this.expr}}static fromJSON(s){return new a(s.name,s.params,s.expr)}_toHTML(s){for(var u=s&&s.parenthesis?s.parenthesis:"keep",l=[],o=0;o<this.params.length;o++)l.push('<span class="math-symbol math-parameter">'+la(this.params[o])+"</span>");var c=this.expr.toHTML(s);return n(this,u,s&&s.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+la(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(s){var u=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toTex(s);return n(this,u,s&&s.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(E4).join(",")+"\\right)="+l}}return Mr(a,"name",od),a},{isClass:!0,isNode:!0}),ud="IndexNode",gQ=["Node","size"],yQ=Q(ud,gQ,t=>{var{Node:e,size:r}=t;class n extends e{constructor(i,s){if(super(),this.dimensions=i,this.dotNotation=s||!1,!Array.isArray(i)||!i.every(Ht))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return ud}get isIndexNode(){return!0}_compile(i,s){var u=ls(this.dimensions,function(o,c){var f=o.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var d=Object.create(s);d.end=!0;var m=o._compile(i,d);return function(v,T,S){if(!Ye(S)&&!Wt(S)&&!yr(S))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Xt(S));var C=r(S),N=Object.create(T);return N.end=C[c],m(v,N,S)}}else return o._compile(i,s)}),l=En(i,"index");return function(c,f,d){var m=ls(u,function(h){return h(c,f,d)});return l(...m)}}forEach(i){for(var s=0;s<this.dimensions.length;s++)i(this.dimensions[s],"dimensions["+s+"]",this)}map(i){for(var s=[],u=0;u<this.dimensions.length;u++)s[u]=this._ifNode(i(this.dimensions[u],"dimensions["+u+"]",this));return new n(s,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Nt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(i){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:ud,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(i){return new n(i.dimensions,i.dotNotation)}_toHTML(i){for(var s=[],u=0;u<this.dimensions.length;u++)s[u]=this.dimensions[u].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+la(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){var s=this.dimensions.map(function(u){return u.toTex(i)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return Mr(n,"name",ud),n},{isClass:!0,isNode:!0}),ld="ObjectNode",xQ=["Node"],bQ=Q(ld,xQ,t=>{var{Node:e}=t;class r extends e{constructor(a){if(super(),this.properties=a||{},a&&(typeof a!="object"||!Object.keys(a).every(function(i){return Ht(a[i])})))throw new TypeError("Object containing Nodes expected")}get type(){return ld}get isObjectNode(){return!0}_compile(a,i){var s={};for(var u in this.properties)if(He(this.properties,u)){var l=uu(u),o=JSON.parse(l),c=En(this.properties,u);s[o]=c._compile(a,i)}return function(d,m,h){var v={};for(var T in s)He(s,T)&&(v[T]=s[T](d,m,h));return v}}forEach(a){for(var i in this.properties)He(this.properties,i)&&a(this.properties[i],"properties["+uu(i)+"]",this)}map(a){var i={};for(var s in this.properties)He(this.properties,s)&&(i[s]=this._ifNode(a(this.properties[s],"properties["+uu(s)+"]",this)));return new r(i)}clone(){var a={};for(var i in this.properties)He(this.properties,i)&&(a[i]=this.properties[i]);return new r(a)}_toString(a){var i=[];for(var s in this.properties)He(this.properties,s)&&i.push(uu(s)+": "+this.properties[s].toString(a));return"{"+i.join(", ")+"}"}toJSON(){return{mathjs:ld,properties:this.properties}}static fromJSON(a){return new r(a.properties)}_toHTML(a){var i=[];for(var s in this.properties)He(this.properties,s)&&i.push('<span class="math-symbol math-property">'+la(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(a));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(a){var i=[];for(var s in this.properties)He(this.properties,s)&&i.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(a)+"\\\\");var u="\\left\\{\\begin{array}{ll}"+i.join(`
`)+"\\end{array}\\right\\}";return u}}return Mr(r,"name",ld),r},{isClass:!0,isNode:!0});function ql(t,e){return new T3(t,new Dh(e),new Set(Object.keys(e)))}var cd="OperatorNode",wQ=["Node"],NQ=Q(cd,wQ,t=>{var{Node:e}=t;function r(i,s){var u=i;if(s==="auto")for(;_i(u);)u=u.content;return Nt(u)?!0:br(u)?r(u.args[0],s):!1}function n(i,s,u,l,o){var c=Qt(i,s,u),f=Ol(i,s);if(s==="all"||l.length>2&&i.getIdentifier()!=="OperatorNode:add"&&i.getIdentifier()!=="OperatorNode:multiply")return l.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(l.length){case 0:d=[];break;case 1:{var m=Qt(l[0],s,u,i);if(o&&m!==null){var h,v;if(s==="keep"?(h=l[0].getIdentifier(),v=i.getIdentifier()):(h=l[0].getContent().getIdentifier(),v=i.getContent().getIdentifier()),Ea[c][v].latexLeftParens===!1){d=[!1];break}if(Ea[m][h].latexParens===!1){d=[!1];break}}if(m===null){d=[!1];break}if(m<=c){d=[!0];break}d=[!1]}break;case 2:{var T,S=Qt(l[0],s,u,i),C=Zp(i,l[0],s);S===null?T=!1:S===c&&f==="right"&&!C||S<c?T=!0:T=!1;var N,M=Qt(l[1],s,u,i),y=Zp(i,l[1],s);if(M===null?N=!1:M===c&&f==="left"&&!y||M<c?N=!0:N=!1,o){var x,w,g;s==="keep"?(x=i.getIdentifier(),w=i.args[0].getIdentifier(),g=i.args[1].getIdentifier()):(x=i.getContent().getIdentifier(),w=i.args[0].getContent().getIdentifier(),g=i.args[1].getContent().getIdentifier()),S!==null&&(Ea[c][x].latexLeftParens===!1&&(T=!1),Ea[S][w].latexParens===!1&&(T=!1)),M!==null&&(Ea[c][x].latexRightParens===!1&&(N=!1),Ea[M][g].latexParens===!1&&(N=!1))}d=[T,N]}break;default:(i.getIdentifier()==="OperatorNode:add"||i.getIdentifier()==="OperatorNode:multiply")&&(d=l.map(function(E){var b=Qt(E,s,u,i),A=Zp(i,E,s),I=Ol(E,s);return b===null?!1:c===b&&f===I&&!A?!0:b<c}));break}if(l.length>=2&&i.getIdentifier()==="OperatorNode:multiply"&&i.implicit&&s!=="all"&&u==="hide")for(var _=1;_<d.length;++_)r(l[_],s)&&!d[_-1]&&(s!=="keep"||!_i(l[_-1]))&&(d[_]=!0);return d}class a extends e{constructor(s,u,l,o,c){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof u!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ht))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=o===!0,this.isPercentage=c===!0,this.op=s,this.fn=u,this.args=l||[]}get type(){return cd}get isOperatorNode(){return!0}_compile(s,u){if(typeof this.fn!="string"||!Ay(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=En(s,this.fn),o=ls(this.args,function(h){return h._compile(s,u)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(v,T,S){return l(c,s,ql(v,T))}}else if(o.length===1){var f=o[0];return function(v,T,S){return l(f(v,T,S))}}else if(o.length===2){var d=o[0],m=o[1];return function(v,T,S){return l(d(v,T,S),m(v,T,S))}}else return function(v,T,S){return l.apply(null,ls(o,function(C){return C(v,T,S)}))}}forEach(s){for(var u=0;u<this.args.length;u++)s(this.args[u],"args["+u+"]",this)}map(s){for(var u=[],l=0;l<this.args.length;l++)u[l]=this._ifNode(s(this.args[l],"args["+l+"]",this));return new a(this.op,this.fn,u,this.implicit,this.isPercentage)}clone(){return new a(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var u=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",o=this.args,c=n(this,u,l,o,!1);if(o.length===1){var f=Ol(this,u),d=o[0].toString(s);c[0]&&(d="("+d+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+d:f==="left"?d+(m?" ":"")+this.op:d+this.op}else if(o.length===2){var h=o[0].toString(s),v=o[1].toString(s);return c[0]&&(h="("+h+")"),c[1]&&(v="("+v+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h+" "+v:h+" "+this.op+" "+v}else if(o.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var T=o.map(function(S,C){return S=S.toString(s),c[C]&&(S="("+S+")"),S});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?T.join(" "):T.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:cd,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new a(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var u=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",o=this.args,c=n(this,u,l,o,!1);if(o.length===1){var f=Ol(this,u),d=o[0].toHTML(s);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+la(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+la(this.op)+"</span>"}else if(o.length===2){var m=o[0].toHTML(s),h=o[1].toHTML(s);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+la(this.op)+"</span>"+h}else{var v=o.map(function(T,S){return T=T.toHTML(s),c[S]&&(T='<span class="math-parenthesis math-round-parenthesis">(</span>'+T+'<span class="math-parenthesis math-round-parenthesis">)</span>'),T});return o.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):v.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+la(this.op)+"</span>"):'<span class="math-function">'+la(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+v.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var u=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",o=this.args,c=n(this,u,l,o,!0),f=Dt[this.fn];if(f=typeof f>"u"?this.op:f,o.length===1){var d=Ol(this,u),m=o[0].toTex(s);return c[0]&&(m="\\left(".concat(m,"\\right)")),d==="right"?f+m:m+f}else if(o.length===2){var h=o[0],v=h.toTex(s);c[0]&&(v="\\left(".concat(v,"\\right)"));var T=o[1],S=T.toTex(s);c[1]&&(S="\\left(".concat(S,"\\right)"));var C;switch(u==="keep"?C=h.getIdentifier():C=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+v+"}{"+S+"}";case"OperatorNode:pow":switch(v="{"+v+"}",S="{"+S+"}",C){case"ConditionalNode":case"OperatorNode:divide":v="\\left(".concat(v,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return v+"~"+S}return v+f+S}else if(o.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var N=o.map(function(M,y){return M=M.toTex(s),c[y]&&(M="\\left(".concat(M,"\\right)")),M});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?N.join("~"):N.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+o.map(function(M){return M.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Mr(a,"name",cd),a},{isClass:!0,isNode:!0}),fd="ParenthesisNode",_Q=["Node"],EQ=Q(fd,_Q,t=>{var{Node:e}=t;class r extends e{constructor(a){if(super(),!Ht(a))throw new TypeError('Node expected for parameter "content"');this.content=a}get type(){return fd}get isParenthesisNode(){return!0}_compile(a,i){return this.content._compile(a,i)}getContent(){return this.content.getContent()}forEach(a){a(this.content,"content",this)}map(a){var i=a(this.content,"content",this);return new r(i)}clone(){return new r(this.content)}_toString(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?"("+this.content.toString(a)+")":this.content.toString(a)}toJSON(){return{mathjs:fd,content:this.content}}static fromJSON(a){return new r(a.content)}_toHTML(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(a)}_toTex(a){return!a||a&&!a.parenthesis||a&&a.parenthesis==="keep"?"\\left(".concat(this.content.toTex(a),"\\right)"):this.content.toTex(a)}}return Mr(r,"name",fd),r},{isClass:!0,isNode:!0}),dd="RangeNode",SQ=["Node"],AQ=Q(dd,SQ,t=>{var{Node:e}=t;function r(a,i,s){var u=Qt(a,i,s),l={},o=Qt(a.start,i,s);if(l.start=o!==null&&o<=u||i==="all",a.step){var c=Qt(a.step,i,s);l.step=c!==null&&c<=u||i==="all"}var f=Qt(a.end,i,s);return l.end=f!==null&&f<=u||i==="all",l}class n extends e{constructor(i,s,u){if(super(),!Ht(i))throw new TypeError("Node expected");if(!Ht(s))throw new TypeError("Node expected");if(u&&!Ht(u))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=i,this.end=s,this.step=u||null}get type(){return dd}get isRangeNode(){return!0}needsEnd(){var i=this.filter(function(s){return Qr(s)&&s.name==="end"});return i.length>0}_compile(i,s){var u=i.range,l=this.start._compile(i,s),o=this.end._compile(i,s);if(this.step){var c=this.step._compile(i,s);return function(d,m,h){return u(l(d,m,h),o(d,m,h),c(d,m,h))}}else return function(d,m,h){return u(l(d,m,h),o(d,m,h))}}forEach(i){i(this.start,"start",this),i(this.end,"end",this),this.step&&i(this.step,"step",this)}map(i){return new n(this._ifNode(i(this.start,"start",this)),this._ifNode(i(this.end,"end",this)),this.step&&this._ifNode(i(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(i){var s=i&&i.parenthesis?i.parenthesis:"keep",u=r(this,s,i&&i.implicit),l,o=this.start.toString(i);if(u.start&&(o="("+o+")"),l=o,this.step){var c=this.step.toString(i);u.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(i);return u.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:dd,start:this.start,end:this.end,step:this.step}}static fromJSON(i){return new n(i.start,i.end,i.step)}_toHTML(i){var s=i&&i.parenthesis?i.parenthesis:"keep",u=r(this,s,i&&i.implicit),l,o=this.start.toHTML(i);if(u.start&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=o,this.step){var c=this.step.toHTML(i);u.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(i);return u.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(i){var s=i&&i.parenthesis?i.parenthesis:"keep",u=r(this,s,i&&i.implicit),l=this.start.toTex(i);if(u.start&&(l="\\left(".concat(l,"\\right)")),this.step){var o=this.step.toTex(i);u.step&&(o="\\left(".concat(o,"\\right)")),l+=":"+o}var c=this.end.toTex(i);return u.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Mr(n,"name",dd),n},{isClass:!0,isNode:!0}),md="RelationalNode",DQ=["Node"],CQ=Q(md,DQ,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(i,s){if(super(),!Array.isArray(i))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(i.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=i,this.params=s}get type(){return md}get isRelationalNode(){return!0}_compile(i,s){var u=this,l=this.params.map(o=>o._compile(i,s));return function(c,f,d){for(var m,h=l[0](c,f,d),v=0;v<u.conditionals.length;v++){m=h,h=l[v+1](c,f,d);var T=En(i,u.conditionals[v]);if(!T(m,h))return!1}return!0}}forEach(i){this.params.forEach((s,u)=>i(s,"params["+u+"]",this),this)}map(i){return new n(this.conditionals.slice(),this.params.map((s,u)=>this._ifNode(i(s,"params["+u+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(i){for(var s=i&&i.parenthesis?i.parenthesis:"keep",u=Qt(this,s,i&&i.implicit),l=this.params.map(function(f,d){var m=Qt(f,s,i&&i.implicit);return s==="all"||m!==null&&m<=u?"("+f.toString(i)+")":f.toString(i)}),o=l[0],c=0;c<this.conditionals.length;c++)o+=" "+r[this.conditionals[c]],o+=" "+l[c+1];return o}toJSON(){return{mathjs:md,conditionals:this.conditionals,params:this.params}}static fromJSON(i){return new n(i.conditionals,i.params)}_toHTML(i){for(var s=i&&i.parenthesis?i.parenthesis:"keep",u=Qt(this,s,i&&i.implicit),l=this.params.map(function(f,d){var m=Qt(f,s,i&&i.implicit);return s==="all"||m!==null&&m<=u?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(i)}),o=l[0],c=0;c<this.conditionals.length;c++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+la(r[this.conditionals[c]])+"</span>"+l[c+1];return o}_toTex(i){for(var s=i&&i.parenthesis?i.parenthesis:"keep",u=Qt(this,s,i&&i.implicit),l=this.params.map(function(f,d){var m=Qt(f,s,i&&i.implicit);return s==="all"||m!==null&&m<=u?"\\left("+f.toTex(i)+"\right)":f.toTex(i)}),o=l[0],c=0;c<this.conditionals.length;c++)o+=Dt[this.conditionals[c]]+l[c+1];return o}}return Mr(n,"name",md),n},{isClass:!0,isNode:!0}),TQ="SymbolNode",MQ=["math","?Unit","Node"],IQ=Q(TQ,MQ,t=>{var{math:e,Unit:r,Node:n}=t;function a(s){return r?r.isValuelessUnit(s):!1}class i extends n{constructor(u){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');this.name=u}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(u,l){var o=this.name;if(l[o]===!0)return function(f,d,m){return En(d,o)};if(o in u)return function(f,d,m){return f.has(o)?f.get(o):En(u,o)};var c=a(o);return function(f,d,m){return f.has(o)?f.get(o):c?new r(null,o):i.onUndefinedSymbol(o)}}forEach(u){}map(u){return this.clone()}static onUndefinedSymbol(u){throw new Error("Undefined symbol "+u)}clone(){return new i(this.name)}_toString(u){return this.name}_toHTML(u){var l=la(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(u){return new i(u.name)}_toTex(u){var l=!1;typeof e[this.name]>"u"&&a(this.name)&&(l=!0);var o=E4(this.name,l);return o[0]==="\\"?o:" "+o}}return i},{isClass:!0,isNode:!0}),hd="FunctionNode",PQ=["math","Node","SymbolNode"],FQ=Q(hd,PQ,t=>{var e,{math:r,Node:n,SymbolNode:a}=t,i=l=>pt(l,{truncate:78});function s(l,o,c){for(var f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=d.exec(l))!==null;)if(f+=l.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var v=o[h[1]];if(!v)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof v){case"string":f+=v;break;case"object":if(Ht(v))f+=v.toTex(c);else if(Array.isArray(v))f+=v.map(function(T,S){if(Ht(T))return T.toTex(c);throw new TypeError("Template: "+h[1]+"["+S+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(Ht(v[h[2]]&&v[h[2]]))f+=v[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=l.slice(m),f}class u extends n{constructor(o,c){if(super(),typeof o=="string"&&(o=new a(o)),!Ht(o))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Ht))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=o,this.args=c||[]}get name(){return this.fn.name||""}get type(){return hd}get isFunctionNode(){return!0}_compile(o,c){var f=this.args.map(g=>g._compile(o,c));if(Qr(this.fn)){var d=this.fn.name;if(c[d]){var S=this.args;return function(_,E,b){var A=En(E,d);if(typeof A!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(i(A)));if(A.rawArgs)return A(S,o,ql(_,E));var I=f.map(F=>F(_,E,b));return A.apply(A,I)}}else{var m=d in o?En(o,d):void 0,h=typeof m=="function"&&m.rawArgs===!0,v=g=>{var _;if(g.has(d))_=g.get(d);else if(d in o)_=En(o,d);else return u.onUndefinedFunction(d);if(typeof _=="function")return _;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(i(_)))};if(h){var T=this.args;return function(_,E,b){var A=v(_);if(A.rawArgs===!0)return A(T,o,ql(_,E));var I=f.map(F=>F(_,E,b));return A(...I)}}else switch(f.length){case 0:return function(_,E,b){var A=v(_);return A()};case 1:return function(_,E,b){var A=v(_),I=f[0];return A(I(_,E,b))};case 2:return function(_,E,b){var A=v(_),I=f[0],F=f[1];return A(I(_,E,b),F(_,E,b))};default:return function(_,E,b){var A=v(_),I=f.map(F=>F(_,E,b));return A(...I)}}}}else if(uo(this.fn)&&el(this.fn.index)&&this.fn.index.isObjectProperty()){var C=this.fn.object._compile(o,c),N=this.fn.index.getObjectProperty(),M=this.args;return function(_,E,b){var A=C(_,E,b),I=nk(A,N);if(I!=null&&I.rawArgs)return I(M,o,ql(_,E));var F=f.map(B=>B(_,E,b));return I.apply(A,F)}}else{var y=this.fn.toString(),x=this.fn._compile(o,c),w=this.args;return function(_,E,b){var A=x(_,E,b);if(typeof A!="function")throw new TypeError("Expression '".concat(y,"' did not evaluate to a function; value is:")+`
  `.concat(i(A)));if(A.rawArgs)return A(w,o,ql(_,E));var I=f.map(F=>F(_,E,b));return A.apply(A,I)}}}forEach(o){o(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)o(this.args[c],"args["+c+"]",this)}map(o){for(var c=this._ifNode(o(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(o(this.args[d],"args["+d+"]",this));return new u(c,f)}clone(){return new u(this.fn,this.args.slice(0))}toString(o){var c,f=this.fn.toString(o);return o&&typeof o.handler=="object"&&He(o.handler,f)&&(c=o.handler[f](this,o)),typeof c<"u"?c:super.toString(o)}_toString(o){var c=this.args.map(function(d){return d.toString(o)}),f=ef(this.fn)?"("+this.fn.toString(o)+")":this.fn.toString(o);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:hd,fn:this.fn,args:this.args}}_toHTML(o){var c=this.args.map(function(f){return f.toHTML(o)});return'<span class="math-function">'+la(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(o){var c;return o&&typeof o.handler=="object"&&He(o.handler,this.name)&&(c=o.handler[this.name](this,o)),typeof c<"u"?c:super.toTex(o)}_toTex(o){var c=this.args.map(function(m){return m.toTex(o)}),f;GE[this.name]&&(f=GE[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var d;switch(typeof f){case"function":d=f(this,o);break;case"string":d=s(f,this,o);break;case"object":switch(typeof f[c.length]){case"function":d=f[c.length](this,o);break;case"string":d=s(f[c.length],this,o);break}}return typeof d<"u"?d:s(dQ,this,o)}getIdentifier(){return this.type+":"+this.name}}return e=u,Mr(u,"name",hd),Mr(u,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Mr(u,"fromJSON",function(l){return new e(l.fn,l.args)}),u},{isClass:!0,isNode:!0}),QE="parse",RQ=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],OQ=Q(QE,RQ,t=>{var{typed:e,numeric:r,config:n,AccessorNode:a,ArrayNode:i,AssignmentNode:s,BlockNode:u,ConditionalNode:l,ConstantNode:o,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:m,OperatorNode:h,ParenthesisNode:v,RangeNode:T,RelationalNode:S,SymbolNode:C}=t,N=e(QE,{string:function(ae){return ee(ae,{})},"Array | Matrix":function(ae){return M(ae,{})},"string, Object":function(ae,pe){var Me=pe.nodes!==void 0?pe.nodes:{};return ee(ae,Me)},"Array | Matrix, Object":M});function M(O){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=ae.nodes!==void 0?ae.nodes:{};return lt(O,function(Me){if(typeof Me!="string")throw new TypeError("String expected");return ee(Me,pe)})}var y={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"??":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},w={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},g={true:!0,false:!1,null:null,undefined:void 0},_=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function b(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:y.NULL,nestingLevel:0,conditionalLevel:null}}function A(O,ae){return O.expression.substr(O.index,ae)}function I(O){return A(O,1)}function F(O){O.index++}function B(O){return O.expression.charAt(O.index-1)}function P(O){return O.expression.charAt(O.index+1)}function L(O){for(O.tokenType=y.NULL,O.token="",O.comment="";;){if(I(O)==="#")for(;I(O)!==`
`&&I(O)!=="";)O.comment+=I(O),F(O);if(N.isWhitespace(I(O),O.nestingLevel))F(O);else break}if(I(O)===""){O.tokenType=y.DELIMITER;return}if(I(O)===`
`&&!O.nestingLevel){O.tokenType=y.DELIMITER,O.token=I(O),F(O);return}var ae=I(O),pe=A(O,2),Me=A(O,3);if(Me.length===3&&x[Me]){O.tokenType=y.DELIMITER,O.token=Me,F(O),F(O),F(O);return}if(pe.length===2&&x[pe]){O.tokenType=y.DELIMITER,O.token=pe,F(O),F(O);return}if(x[ae]){O.tokenType=y.DELIMITER,O.token=ae,F(O);return}if(N.isDigitDot(ae)){O.tokenType=y.NUMBER;var Ge=A(O,2);if(Ge==="0b"||Ge==="0o"||Ge==="0x"){for(O.token+=I(O),F(O),O.token+=I(O),F(O);N.isAlpha(I(O),B(O),P(O))||N.isDigit(I(O));)O.token+=I(O),F(O);if(I(O)===".")for(O.token+=".",F(O);N.isAlpha(I(O),B(O),P(O))||N.isDigit(I(O));)O.token+=I(O),F(O);else if(I(O)==="i")for(O.token+="i",F(O);N.isDigit(I(O));)O.token+=I(O),F(O);return}if(I(O)==="."){if(O.token+=I(O),F(O),!N.isDigit(I(O))){O.tokenType=y.DELIMITER;return}}else{for(;N.isDigit(I(O));)O.token+=I(O),F(O);N.isDecimalMark(I(O),P(O))&&(O.token+=I(O),F(O))}for(;N.isDigit(I(O));)O.token+=I(O),F(O);if(I(O)==="E"||I(O)==="e"){if(N.isDigit(P(O))||P(O)==="-"||P(O)==="+"){if(O.token+=I(O),F(O),(I(O)==="+"||I(O)==="-")&&(O.token+=I(O),F(O)),!N.isDigit(I(O)))throw Ze(O,'Digit expected, got "'+I(O)+'"');for(;N.isDigit(I(O));)O.token+=I(O),F(O);if(N.isDecimalMark(I(O),P(O)))throw Ze(O,'Digit expected, got "'+I(O)+'"')}else if(N.isDecimalMark(P(O),O.expression.charAt(O.index+2)))throw F(O),Ze(O,'Digit expected, got "'+I(O)+'"')}return}if(N.isAlpha(I(O),B(O),P(O))){for(;N.isAlpha(I(O),B(O),P(O))||N.isDigit(I(O));)O.token+=I(O),F(O);He(w,O.token)?O.tokenType=y.DELIMITER:O.tokenType=y.SYMBOL;return}for(O.tokenType=y.UNKNOWN;I(O)!=="";)O.token+=I(O),F(O);throw Ze(O,'Syntax error in part "'+O.token+'"')}function $(O){do L(O);while(O.token===`
`)}function k(O){O.nestingLevel++}function V(O){O.nestingLevel--}N.isAlpha=function(ae,pe,Me){return N.isValidLatinOrGreek(ae)||N.isValidMathSymbol(ae,Me)||N.isValidMathSymbol(pe,ae)},N.isValidLatinOrGreek=function(ae){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(ae)},N.isValidMathSymbol=function(ae,pe){return/^[\uD835]$/.test(ae)&&/^[\uDC00-\uDFFF]$/.test(pe)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(pe)},N.isWhitespace=function(ae,pe){return ae===" "||ae==="	"||ae===" "||ae===`
`&&pe>0},N.isDecimalMark=function(ae,pe){return ae==="."&&pe!=="/"&&pe!=="*"&&pe!=="^"},N.isDigitDot=function(ae){return ae>="0"&&ae<="9"||ae==="."},N.isDigit=function(ae){return ae>="0"&&ae<="9"};function ee(O,ae){var pe=b();Nr(pe,{expression:O,extraNodes:ae}),L(pe);var Me=j(pe);if(pe.token!=="")throw pe.tokenType===y.DELIMITER?ur(pe,"Unexpected operator "+pe.token):Ze(pe,'Unexpected part "'+pe.token+'"');return Me}function j(O){var ae,pe=[],Me;for(O.token!==""&&O.token!==`
`&&O.token!==";"&&(ae=X(O),O.comment&&(ae.comment=O.comment));O.token===`
`||O.token===";";)pe.length===0&&ae&&(Me=O.token!==";",pe.push({node:ae,visible:Me})),L(O),O.token!==`
`&&O.token!==";"&&O.token!==""&&(ae=X(O),O.comment&&(ae.comment=O.comment),Me=O.token!==";",pe.push({node:ae,visible:Me}));return pe.length>0?new u(pe):(ae||(ae=new o(void 0),O.comment&&(ae.comment=O.comment)),ae)}function X(O){var ae,pe,Me,Ge,dt=U(O);if(O.token==="="){if(Qr(dt))return ae=dt.name,$(O),Me=X(O),new s(new C(ae),Me);if(uo(dt))return $(O),Me=X(O),new s(dt.object,dt.index,Me);if(ys(dt)&&Qr(dt.fn)&&(Ge=!0,pe=[],ae=dt.name,dt.args.forEach(function(Ir,ai){Qr(Ir)?pe[ai]=Ir.name:Ge=!1}),Ge))return $(O),Me=X(O),new c(ae,pe,Me);throw Ze(O,"Invalid left hand side of assignment operator =")}return dt}function U(O){for(var ae=de(O);O.token==="?";){var pe=O.conditionalLevel;O.conditionalLevel=O.nestingLevel,$(O);var Me=ae,Ge=X(O);if(O.token!==":")throw Ze(O,"False part of conditional expression expected");O.conditionalLevel=null,$(O);var dt=X(O);ae=new l(Me,Ge,dt),O.conditionalLevel=pe}return ae}function de(O){for(var ae=ue(O);O.token==="or";)$(O),ae=new h("or","or",[ae,ue(O)]);return ae}function ue(O){for(var ae=le(O);O.token==="xor";)$(O),ae=new h("xor","xor",[ae,le(O)]);return ae}function le(O){for(var ae=H(O);O.token==="and";)$(O),ae=new h("and","and",[ae,H(O)]);return ae}function H(O){for(var ae=J(O);O.token==="|";)$(O),ae=new h("|","bitOr",[ae,J(O)]);return ae}function J(O){for(var ae=re(O);O.token==="^|";)$(O),ae=new h("^|","bitXor",[ae,re(O)]);return ae}function re(O){for(var ae=ie(O);O.token==="&";)$(O),ae=new h("&","bitAnd",[ae,ie(O)]);return ae}function ie(O){for(var ae=[se(O)],pe=[],Me={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};He(Me,O.token);){var Ge={name:O.token,fn:Me[O.token]};pe.push(Ge),$(O),ae.push(se(O))}return ae.length===1?ae[0]:ae.length===2?new h(pe[0].name,pe[0].fn,ae):new S(pe.map(dt=>dt.fn),ae)}function se(O){var ae,pe,Me,Ge;ae=ve(O);for(var dt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};He(dt,O.token);)pe=O.token,Me=dt[pe],$(O),Ge=[ae,ve(O)],ae=new h(pe,Me,Ge);return ae}function ve(O){var ae,pe,Me,Ge;ae=me(O);for(var dt={to:"to",in:"to"};He(dt,O.token);)pe=O.token,Me=dt[pe],$(O),pe==="in"&&"])},;".includes(O.token)?ae=new h("*","multiply",[ae,new C("in")],!0):(Ge=[ae,me(O)],ae=new h(pe,Me,Ge));return ae}function me(O){var ae,pe=[];if(O.token===":"?ae=new o(1):ae=Ne(O),O.token===":"&&O.conditionalLevel!==O.nestingLevel){for(pe.push(ae);O.token===":"&&pe.length<3;)$(O),O.token===")"||O.token==="]"||O.token===","||O.token===""?pe.push(new C("end")):pe.push(Ne(O));pe.length===3?ae=new T(pe[0],pe[2],pe[1]):ae=new T(pe[0],pe[1])}return ae}function Ne(O){var ae,pe,Me,Ge;ae=Be(O);for(var dt={"+":"add","-":"subtract"};He(dt,O.token);){pe=O.token,Me=dt[pe],$(O);var Ir=Be(O);Ir.isPercentage?Ge=[ae,new h("*","multiply",[ae,Ir])]:Ge=[ae,Ir],ae=new h(pe,Me,Ge)}return ae}function Be(O){var ae,pe,Me,Ge;ae=Le(O),pe=ae;for(var dt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};He(dt,O.token);)Me=O.token,Ge=dt[Me],$(O),pe=Le(O),ae=new h(Me,Ge,[ae,pe]);return ae}function Le(O){var ae,pe;for(ae=Ee(O),pe=ae;O.tokenType===y.SYMBOL||O.token==="in"&&Nt(ae)||O.token==="in"&&br(ae)&&ae.fn==="unaryMinus"&&Nt(ae.args[0])||O.tokenType===y.NUMBER&&!Nt(pe)&&(!br(pe)||pe.op==="!")||O.token==="(";)pe=Ee(O),ae=new h("*","multiply",[ae,pe],!0);return ae}function Ee(O){for(var ae=De(O),pe=ae,Me=[];O.token==="/"&&xg(pe);)if(Me.push(Nr({},O)),$(O),O.tokenType===y.NUMBER)if(Me.push(Nr({},O)),$(O),O.tokenType===y.SYMBOL||O.token==="("||O.token==="in")Nr(O,Me.pop()),Me.pop(),pe=De(O),ae=new h("/","divide",[ae,pe]);else{Me.pop(),Nr(O,Me.pop());break}else{Nr(O,Me.pop());break}return ae}function De(O){var ae=G(O);if(O.token==="%"){var pe=Nr({},O);$(O);try{G(O),Nr(O,pe)}catch{ae=new h("/","divide",[ae,new o(100)],!1,!0)}}return ae}function G(O){var ae,pe,Me,Ge={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return He(Ge,O.token)?(Me=Ge[O.token],ae=O.token,$(O),pe=[G(O)],new h(ae,Me,pe)):te(O)}function te(O){var ae,pe,Me,Ge;return ae=ce(O),(O.token==="^"||O.token===".^")&&(pe=O.token,Me=pe==="^"?"pow":"dotPow",$(O),Ge=[ae,G(O)],ae=new h(pe,Me,Ge)),ae}function ce(O){for(var ae=q(O);O.token==="??";)$(O),ae=new h("??","nullish",[ae,q(O)]);return ae}function q(O){var ae,pe,Me,Ge;ae=Y(O);for(var dt={"!":"factorial","'":"ctranspose"};He(dt,O.token);)pe=O.token,Me=dt[pe],L(O),Ge=[ae],ae=new h(pe,Me,Ge),ae=oe(O,ae);return ae}function Y(O){var ae=[];if(O.tokenType===y.SYMBOL&&He(O.extraNodes,O.token)){var pe=O.extraNodes[O.token];if(L(O),O.token==="("){if(ae=[],k(O),L(O),O.token!==")")for(ae.push(X(O));O.token===",";)L(O),ae.push(X(O));if(O.token!==")")throw Ze(O,"Parenthesis ) expected");V(O),L(O)}return new pe(ae)}return ne(O)}function ne(O){var ae,pe;return O.tokenType===y.SYMBOL||O.tokenType===y.DELIMITER&&O.token in w?(pe=O.token,L(O),He(g,pe)?ae=new o(g[pe]):_.includes(pe)?ae=new o(r(pe,"number")):ae=new C(pe),ae=oe(O,ae),ae):fe(O)}function oe(O,ae,pe){for(var Me;O.token==="("||O.token==="["||O.token===".";)if(Me=[],O.token==="(")if(Qr(ae)||uo(ae)){if(k(O),L(O),O.token!==")")for(Me.push(X(O));O.token===",";)L(O),Me.push(X(O));if(O.token!==")")throw Ze(O,"Parenthesis ) expected");V(O),L(O),ae=new f(ae,Me)}else return ae;else if(O.token==="["){if(k(O),L(O),O.token!=="]")for(Me.push(X(O));O.token===",";)L(O),Me.push(X(O));if(O.token!=="]")throw Ze(O,"Parenthesis ] expected");V(O),L(O),ae=new a(ae,new d(Me))}else{L(O);var Ge=O.tokenType===y.SYMBOL||O.tokenType===y.DELIMITER&&O.token in w;if(!Ge)throw Ze(O,"Property name expected after dot");Me.push(new o(O.token)),L(O);var dt=!0;ae=new a(ae,new d(Me,dt))}return ae}function fe(O){var ae,pe;return O.token==='"'||O.token==="'"?(pe=ge(O,O.token),ae=new o(pe),ae=oe(O,ae),ae):Se(O)}function ge(O,ae){for(var pe="";I(O)!==""&&I(O)!==ae;)if(I(O)==="\\"){F(O);var Me=I(O),Ge=E[Me];if(Ge!==void 0)pe+=Ge,O.index+=1;else if(Me==="u"){var dt=O.expression.slice(O.index+1,O.index+5);if(/^[0-9A-Fa-f]{4}$/.test(dt))pe+=String.fromCharCode(parseInt(dt,16)),O.index+=5;else throw Ze(O,"Invalid unicode character \\u".concat(dt))}else throw Ze(O,"Bad escape character \\".concat(Me))}else pe+=I(O),F(O);if(L(O),O.token!==ae)throw Ze(O,"End of string ".concat(ae," expected"));return L(O),pe}function Se(O){var ae,pe,Me,Ge;if(O.token==="["){if(k(O),L(O),O.token!=="]"){var dt=Ce(O);if(O.token===";"){for(Me=1,pe=[dt];O.token===";";)L(O),O.token!=="]"&&(pe[Me]=Ce(O),Me++);if(O.token!=="]")throw Ze(O,"End of matrix ] expected");V(O),L(O),Ge=pe[0].items.length;for(var Ir=1;Ir<Me;Ir++)if(pe[Ir].items.length!==Ge)throw ur(O,"Column dimensions mismatch ("+pe[Ir].items.length+" !== "+Ge+")");ae=new i(pe)}else{if(O.token!=="]")throw Ze(O,"End of matrix ] expected");V(O),L(O),ae=dt}}else V(O),L(O),ae=new i([]);return oe(O,ae)}return Pe(O)}function Ce(O){for(var ae=[X(O)],pe=1;O.token===",";)L(O),O.token!=="]"&&O.token!==";"&&(ae[pe]=X(O),pe++);return new i(ae)}function Pe(O){if(O.token==="{"){k(O);var ae,pe={};do if(L(O),O.token!=="}"){if(O.token==='"'||O.token==="'")ae=ge(O,O.token);else if(O.tokenType===y.SYMBOL||O.tokenType===y.DELIMITER&&O.token in w)ae=O.token,L(O);else throw Ze(O,"Symbol or string expected as object key");if(O.token!==":")throw Ze(O,"Colon : expected after object key");L(O),pe[ae]=X(O)}while(O.token===",");if(O.token!=="}")throw Ze(O,"Comma , or bracket } expected after object value");V(O),L(O);var Me=new m(pe);return Me=oe(O,Me),Me}return Te(O)}function Te(O){var ae;if(O.tokenType===y.NUMBER){ae=O.token,L(O);var pe=Ss(ae,n),Me=r(ae,pe);return new o(Me)}return ht(O)}function ht(O){var ae;if(O.token==="("){if(k(O),L(O),ae=X(O),O.token!==")")throw Ze(O,"Parenthesis ) expected");return V(O),L(O),ae=new v(ae),ae=oe(O,ae),ae}return gt(O)}function gt(O){throw O.token===""?Ze(O,"Unexpected end of expression"):Ze(O,"Value expected")}function Vt(O){return O.index-O.token.length+1}function Ze(O,ae){var pe=Vt(O),Me=new SyntaxError(ae+" (char "+pe+")");return Me.char=pe,Me}function ur(O,ae){var pe=Vt(O),Me=new SyntaxError(ae+" (char "+pe+")");return Me.char=pe,Me}return e.addConversion({from:"string",to:"Node",convert:N}),N}),XE="compile",BQ=["typed","parse"],jQ=Q(XE,BQ,t=>{var{typed:e,parse:r}=t;return e(XE,{string:function(a){return r(a).compile()},"Array | Matrix":function(a){return lt(a,function(i){return r(i).compile()})}})}),KE="evaluate",kQ=["typed","parse"],$Q=Q(KE,kQ,t=>{var{typed:e,parse:r}=t;return e(KE,{string:function(a){var i=jc();return r(a).compile().evaluate(i)},"string, Map | Object":function(a,i){return r(a).compile().evaluate(i)},"Array | Matrix":function(a){var i=jc();return lt(a,function(s){return r(s).compile().evaluate(i)})},"Array | Matrix, Map | Object":function(a,i){return lt(a,function(s){return r(s).compile().evaluate(i)})}})}),LQ="Parser",zQ=["evaluate","parse"],VQ=Q(LQ,zQ,t=>{var{evaluate:e,parse:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:jc(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(i){return e(i,this.scope)},n.prototype.get=function(i){if(this.scope.has(i))return this.scope.get(i)},n.prototype.getAll=function(){return ok(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function a(i){if(i.length===0)return!1;for(var s=0;s<i.length;s++){var u=i.charAt(s-1),l=i.charAt(s),o=i.charAt(s+1),c=r.isAlpha(l,u,o)||s>0&&r.isDigit(l);if(!c)return!1}return!0}return n.prototype.set=function(i,s){if(!a(i))throw new Error("Invalid variable name: '".concat(i,"'. Variable names must follow the specified rules."));return this.scope.set(i,s),s},n.prototype.remove=function(i){this.scope.delete(i)},n.prototype.clear=function(){this.scope.clear()},n.prototype.toJSON=function(){var i={mathjs:"Parser",variables:{},functions:{}};for(var[s,u]of this.scope)if(P3(u)){if(!UQ(u))throw new Error("Cannot serialize external function ".concat(s));i.functions[s]="".concat(u.syntax," = ").concat(u.expr)}else i.variables[s]=u;return i},n.fromJSON=function(i){var s=new n;return Object.entries(i.variables).forEach(u=>{var[l,o]=u;return s.set(l,o)}),Object.entries(i.functions).forEach(u=>{var[l,o]=u;return s.evaluate(o)}),s},n},{isClass:!0});function UQ(t){return typeof t=="function"&&typeof t.syntax=="string"&&typeof t.expr=="string"}var JE="parser",qQ=["typed","Parser"],HQ=Q(JE,qQ,t=>{var{typed:e,Parser:r}=t;return e(JE,{"":function(){return new r}})}),YE="lup",GQ=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],WQ=Q(YE,GQ,t=>{var{typed:e,matrix:r,abs:n,addScalar:a,divideScalar:i,multiplyScalar:s,subtractScalar:u,larger:l,equalScalar:o,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:m}=t;return e(YE,{DenseMatrix:function(S){return h(S)},SparseMatrix:function(S){return v(S)},Array:function(S){var C=r(S),N=h(C);return{L:N.L.valueOf(),U:N.U.valueOf(),p:N.p}}});function h(T){var S=T._size[0],C=T._size[1],N=Math.min(S,C),M=nt(T._data),y=[],x=[S,N],w=[],g=[N,C],_,E,b,A=[];for(_=0;_<S;_++)A[_]=_;for(E=0;E<C;E++){if(E>0)for(_=0;_<S;_++){var I=Math.min(_,E),F=0;for(b=0;b<I;b++)F=a(F,s(M[_][b],M[b][E]));M[_][E]=u(M[_][E],F)}var B=E,P=0,L=0;for(_=E;_<S;_++){var $=M[_][E],k=n($);l(k,P)&&(B=_,P=k,L=$)}if(E!==B&&(A[E]=[A[B],A[B]=A[E]][0],f._swapRows(E,B,M)),E<S)for(_=E+1;_<S;_++){var V=M[_][E];o(V,0)||(M[_][E]=i(M[_][E],L))}}for(E=0;E<C;E++)for(_=0;_<S;_++){if(E===0&&(_<C&&(w[_]=[]),y[_]=[]),_<E){_<C&&(w[_][E]=M[_][E]),E<S&&(y[_][E]=0);continue}if(_===E){_<C&&(w[_][E]=M[_][E]),E<S&&(y[_][E]=1);continue}_<C&&(w[_][E]=0),E<S&&(y[_][E]=M[_][E])}var ee=new f({data:y,size:x}),j=new f({data:w,size:g}),X=[];for(_=0,N=A.length;_<N;_++)X[A[_]]=_;return{L:ee,U:j,p:X,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function v(T){var S=T._size[0],C=T._size[1],N=Math.min(S,C),M=T._values,y=T._index,x=T._ptr,w=[],g=[],_=[],E=[S,N],b=[],A=[],I=[],F=[N,C],B,P,L,$=[],k=[];for(B=0;B<S;B++)$[B]=B,k[B]=B;var V=function(X,U){var de=k[X],ue=k[U];$[de]=U,$[ue]=X,k[X]=ue,k[U]=de},ee=function(){var X=new m;P<S&&(_.push(w.length),w.push(1),g.push(P)),I.push(b.length);var U=x[P],de=x[P+1];for(L=U;L<de;L++)B=y[L],X.set($[B],M[L]);P>0&&X.forEach(0,P-1,function(J,re){d._forEachRow(J,w,g,_,function(ie,se){ie>J&&X.accumulate(ie,c(s(se,re)))})});var ue=P,le=X.get(P),H=n(le);X.forEach(P+1,S-1,function(J,re){var ie=n(re);l(ie,H)&&(ue=J,H=ie,le=re)}),P!==ue&&(d._swapRows(P,ue,E[1],w,g,_),d._swapRows(P,ue,F[1],b,A,I),X.swap(P,ue),V(P,ue)),X.forEach(0,S-1,function(J,re){J<=P?(b.push(re),A.push(J)):(re=i(re,le),o(re,0)||(w.push(re),g.push(J)))})};for(P=0;P<C;P++)ee();return I.push(b.length),_.push(w.length),{L:new d({values:w,index:g,ptr:_,size:E}),U:new d({values:b,index:A,ptr:I,size:F}),p:$,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),ZE="qr",QQ=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],XQ=Q(ZE,QQ,t=>{var{typed:e,matrix:r,zeros:n,identity:a,isZero:i,equal:s,sign:u,sqrt:l,conj:o,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:m,subtractScalar:h,complex:v}=t;return Nr(e(ZE,{DenseMatrix:function(M){return S(M)},SparseMatrix:function(M){return C()},Array:function(M){var y=r(M),x=S(y);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:T});function T(N){var M=N._size[0],y=N._size[1],x=a([M],"dense"),w=x._data,g=N.clone(),_=g._data,E,b,A,I=n([M],"");for(A=0;A<Math.min(y,M);++A){var F=_[A][A],B=c(s(F,0)?1:u(F)),P=o(B),L=0;for(E=A;E<M;E++)L=f(L,m(_[E][A],o(_[E][A])));var $=m(B,l(L));if(!i($)){var k=h(F,$);for(I[A]=1,E=A+1;E<M;E++)I[E]=d(_[E][A],k);var V=c(o(d(k,$))),ee=void 0;for(b=A;b<y;b++){for(ee=0,E=A;E<M;E++)ee=f(ee,m(o(I[E]),_[E][b]));for(ee=m(ee,V),E=A;E<M;E++)_[E][b]=m(h(_[E][b],m(I[E],ee)),P)}for(E=0;E<M;E++){for(ee=0,b=A;b<M;b++)ee=f(ee,m(w[E][b],I[b]));for(ee=m(ee,V),b=A;b<M;++b)w[E][b]=d(h(w[E][b],m(ee,o(I[b]))),P)}}}return{Q:x,R:g,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function S(N){var M=T(N),y=M.R._data;if(N._data.length>0)for(var x=y[0][0].type==="Complex"?v(0):0,w=0;w<y.length;++w)for(var g=0;g<w&&g<(y[0]||[]).length;++g)y[w][g]=x;return M}function C(N){throw new Error("qr not implemented for sparse matrices yet")}});function KQ(t,e,r,n){t._values;for(var a=t._index,i=t._ptr,s=t._size,u=t._datatype,l=s[0],o=s[1],c=null,f=[],d=[],m=0,h=0;h<o;h++){d[h]=m;for(var v=r?r[h]:h,T=i[v],S=i[v+1],C=T;C<S;C++){var N=a[C];f[m]=N,m++}}return d[o]=m,t.createSparseMatrix({values:c,index:f,ptr:d,size:[l,o],datatype:u})}function S4(t,e,r,n,a,i,s){var u=0;for(r[s]=t;u>=0;){var l=r[s+u],o=r[n+l];o===-1?(u--,i[e++]=l):(r[n+l]=r[a+o],++u,r[s+u]=o)}return e}function JQ(t,e){if(!t)return null;var r=0,n,a=[],i=[],s=0,u=e,l=2*e;for(n=0;n<e;n++)i[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(i[u+n]=i[s+t[n]],i[s+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=S4(n,r,i,s,u,a,l));return a}function YQ(t,e){if(!t)return null;var r=t._index,n=t._ptr,a=t._size,i=a[0],s=a[1],u=[],l=[],o=0,c=s,f,d;for(f=0;f<i;f++)l[c+f]=-1;for(var m=0;m<s;m++){u[m]=-1,l[o+m]=-1;for(var h=n[m],v=n[m+1],T=h;T<v;T++){var S=r[T];for(f=l[c+S];f!==-1&&f<m;f=d)d=l[o+f],l[o+f]=m,d===-1&&(u[f]=m);l[c+S]=m}}return u}function ZQ(t,e,r){for(var n=t._values,a=t._index,i=t._ptr,s=t._size,u=s[1],l=0,o=0;o<u;o++){var c=i[o];for(i[o]=l;c<i[o+1];c++)e(a[c],o,n?n[c]:1,r)&&(a[l]=a[c],n&&(n[l]=n[c]),l++)}return i[u]=l,a.splice(l,a.length-l),n&&n.splice(l,n.length-l),l}function Li(t){return-t-2}var eX="csAmd",tX=["add","multiply","transpose"],rX=Q(eX,tX,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,f){if(!f||c<=0||c>3)return null;var d=f._size,m=d[0],h=d[1],v=0,T=Math.max(16,10*Math.sqrt(h));T=Math.min(h-2,T);var S=a(c,f,m,h,T);ZQ(S,l,null);for(var C=S._index,N=S._ptr,M=N[h],y=[],x=[],w=0,g=h+1,_=2*(h+1),E=3*(h+1),b=4*(h+1),A=5*(h+1),I=6*(h+1),F=7*(h+1),B=y,P=i(h,N,x,w,E,B,_,F,g,I,b,A),L=s(h,N,x,A,b,I,T,g,E,B,_),$=0,k,V,ee,j,X,U,de,ue,le,H,J,re,ie,se,ve,me;L<h;){for(ee=-1;$<h&&(ee=x[E+$])===-1;$++);x[_+ee]!==-1&&(B[x[_+ee]]=-1),x[E+$]=x[_+ee];var Ne=x[b+ee],Be=x[g+ee];L+=Be;var Le=0;x[g+ee]=-Be;var Ee=N[ee],De=Ne===0?Ee:M,G=De;for(j=1;j<=Ne+1;j++){for(j>Ne?(U=ee,de=Ee,ue=x[w+ee]-Ne):(U=C[Ee++],de=N[U],ue=x[w+U]),X=1;X<=ue;X++)k=C[de++],!((le=x[g+k])<=0)&&(Le+=le,x[g+k]=-le,C[G++]=k,x[_+k]!==-1&&(B[x[_+k]]=B[k]),B[k]!==-1?x[_+B[k]]=x[_+k]:x[E+x[A+k]]=x[_+k]);U!==ee&&(N[U]=Li(ee),x[I+U]=0)}for(Ne!==0&&(M=G),x[A+ee]=Le,N[ee]=De,x[w+ee]=G-De,x[b+ee]=-2,P=u(P,v,x,I,h),H=De;H<G;H++)if(k=C[H],!((J=x[b+k])<=0)){le=-x[g+k];var te=P-le;for(Ee=N[k],re=N[k]+J-1;Ee<=re;Ee++)U=C[Ee],x[I+U]>=P?x[I+U]-=le:x[I+U]!==0&&(x[I+U]=x[A+U]+te)}for(H=De;H<G;H++){for(k=C[H],re=N[k],ie=re+x[b+k]-1,se=re,ve=0,me=0,Ee=re;Ee<=ie;Ee++)if(U=C[Ee],x[I+U]!==0){var ce=x[I+U]-P;ce>0?(me+=ce,C[se++]=U,ve+=U):(N[U]=Li(ee),x[I+U]=0)}x[b+k]=se-re+1;var q=se,Y=re+x[w+k];for(Ee=ie+1;Ee<Y;Ee++){V=C[Ee];var ne=x[g+V];ne<=0||(me+=ne,C[se++]=V,ve+=V)}me===0?(N[k]=Li(ee),le=-x[g+k],Le-=le,Be+=le,L+=le,x[g+k]=0,x[b+k]=-1):(x[A+k]=Math.min(x[A+k],me),C[se]=C[q],C[q]=C[re],C[re]=ee,x[w+k]=se-re+1,ve=(ve<0?-ve:ve)%h,x[_+k]=x[F+ve],x[F+ve]=k,B[k]=ve)}for(x[A+ee]=Le,v=Math.max(v,Le),P=u(P+v,v,x,I,h),H=De;H<G;H++)if(k=C[H],!(x[g+k]>=0))for(ve=B[k],k=x[F+ve],x[F+ve]=-1;k!==-1&&x[_+k]!==-1;k=x[_+k],P++){for(ue=x[w+k],J=x[b+k],Ee=N[k]+1;Ee<=N[k]+ue-1;Ee++)x[I+C[Ee]]=P;var oe=k;for(V=x[_+k];V!==-1;){var fe=x[w+V]===ue&&x[b+V]===J;for(Ee=N[V]+1;fe&&Ee<=N[V]+ue-1;Ee++)x[I+C[Ee]]!==P&&(fe=0);fe?(N[V]=Li(k),x[g+k]+=x[g+V],x[g+V]=0,x[b+V]=-1,V=x[_+V],x[_+oe]=V):(oe=V,V=x[_+V])}}for(Ee=De,H=De;H<G;H++)k=C[H],!((le=-x[g+k])<=0)&&(x[g+k]=le,me=x[A+k]+Le-le,me=Math.min(me,h-L-le),x[E+me]!==-1&&(B[x[E+me]]=k),x[_+k]=x[E+me],B[k]=-1,x[E+me]=k,$=Math.min($,me),x[A+k]=me,C[Ee++]=k);x[g+ee]=Be,(x[w+ee]=Ee-De)===0&&(N[ee]=-1,x[I+ee]=0),Ne!==0&&(M=Ee)}for(k=0;k<h;k++)N[k]=Li(N[k]);for(V=0;V<=h;V++)x[E+V]=-1;for(V=h;V>=0;V--)x[g+V]>0||(x[_+V]=x[E+N[V]],x[E+N[V]]=V);for(U=h;U>=0;U--)x[g+U]<=0||N[U]!==-1&&(x[_+U]=x[E+N[U]],x[E+N[U]]=U);for(ee=0,k=0;k<=h;k++)N[k]===-1&&(ee=S4(k,ee,x,E,_,y,I));return y.splice(y.length-1,1),y};function a(o,c,f,d,m){var h=n(c);if(o===1&&d===f)return e(c,h);if(o===2){for(var v=h._index,T=h._ptr,S=0,C=0;C<f;C++){var N=T[C];if(T[C]=S,!(T[C+1]-N>m))for(var M=T[C+1];N<M;N++)v[S++]=v[N]}return T[f]=S,c=n(h),r(h,c)}return r(h,c)}function i(o,c,f,d,m,h,v,T,S,C,N,M){for(var y=0;y<o;y++)f[d+y]=c[y+1]-c[y];f[d+o]=0;for(var x=0;x<=o;x++)f[m+x]=-1,h[x]=-1,f[v+x]=-1,f[T+x]=-1,f[S+x]=1,f[C+x]=1,f[N+x]=0,f[M+x]=f[d+x];var w=u(0,0,f,C,o);return f[N+o]=-2,c[o]=-1,f[C+o]=0,w}function s(o,c,f,d,m,h,v,T,S,C,N){for(var M=0,y=0;y<o;y++){var x=f[d+y];if(x===0)f[m+y]=-2,M++,c[y]=-1,f[h+y]=0;else if(x>v)f[T+y]=0,f[m+y]=-1,M++,c[y]=Li(o),f[T+o]++;else{var w=f[S+x];w!==-1&&(C[w]=y),f[N+y]=f[S+x],f[S+x]=y}}return M}function u(o,c,f,d,m){if(o<2||o+c<0){for(var h=0;h<m;h++)f[d+h]!==0&&(f[d+h]=1);o=2}return o}function l(o,c){return o!==c}});function nX(t,e,r,n,a,i,s){var u,l,o=0,c;if(t<=e||r[n+e]<=r[a+t])return-1;r[a+t]=r[n+e];var f=r[i+t];if(r[i+t]=e,f===-1)o=1,c=t;else{for(o=2,c=f;c!==r[s+c];c=r[s+c]);for(u=f;u!==c;u=l)l=r[s+u],r[s+u]=c}return{jleaf:o,q:c}}var aX="csCounts",iX=["transpose"],sX=Q(aX,iX,t=>{var{transpose:e}=t;return function(r,n,a,i){if(!r||!n||!a)return null;var s=r._size,u=s[0],l=s[1],o,c,f,d,m,h,v,T=4*l+(i?l+u+1:0),S=[],C=0,N=l,M=2*l,y=3*l,x=4*l,w=5*l+1;for(f=0;f<T;f++)S[f]=-1;var g=[],_=e(r),E=_._index,b=_._ptr;for(f=0;f<l;f++)for(c=a[f],g[c]=S[y+c]===-1?1:0;c!==-1&&S[y+c]===-1;c=n[c])S[y+c]=f;if(i){for(f=0;f<l;f++)S[a[f]]=f;for(o=0;o<u;o++){for(f=l,h=b[o],v=b[o+1],m=h;m<v;m++)f=Math.min(f,S[E[m]]);S[w+o]=S[x+f],S[x+f]=o}}for(o=0;o<l;o++)S[C+o]=o;for(f=0;f<l;f++){for(c=a[f],n[c]!==-1&&g[n[c]]--,d=i?S[x+f]:c;d!==-1;d=i?S[w+d]:-1)for(m=b[d];m<b[d+1];m++){o=E[m];var A=nX(o,c,S,y,N,M,C);A.jleaf>=1&&g[c]++,A.jleaf===2&&g[A.q]--}n[c]!==-1&&(S[C+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(g[n[c]]+=g[c]);return g}}),oX="csSqr",uX=["add","multiply","transpose"],lX=Q(oX,uX,t=>{var{add:e,multiply:r,transpose:n}=t,a=rX({add:e,multiply:r,transpose:n}),i=sX({transpose:n});return function(l,o,c){var f=o._ptr,d=o._size,m=d[1],h,v={};if(v.q=a(l,o),l&&!v.q)return null;if(c){var T=l?KQ(o,null,v.q):o;v.parent=YQ(T);var S=JQ(v.parent,m);if(v.cp=i(T,v.parent,S,1),T&&v.parent&&v.cp&&s(T,v))for(v.unz=0,h=0;h<m;h++)v.unz+=v.cp[h]}else v.unz=4*f[m]+m,v.lnz=v.unz;return v};function s(u,l){var o=u._ptr,c=u._index,f=u._size,d=f[0],m=f[1];l.pinv=[],l.leftmost=[];var h=l.parent,v=l.pinv,T=l.leftmost,S=[],C=0,N=d,M=d+m,y=d+2*m,x,w,g,_,E;for(w=0;w<m;w++)S[N+w]=-1,S[M+w]=-1,S[y+w]=0;for(x=0;x<d;x++)T[x]=-1;for(w=m-1;w>=0;w--)for(_=o[w],E=o[w+1],g=_;g<E;g++)T[c[g]]=w;for(x=d-1;x>=0;x--)v[x]=-1,w=T[x],w!==-1&&(S[y+w]++===0&&(S[M+w]=x),S[C+x]=S[N+w],S[N+w]=x);for(l.lnz=0,l.m2=d,w=0;w<m;w++)if(x=S[N+w],l.lnz++,x<0&&(x=l.m2++),v[x]=w,!(--y[w]<=0)){l.lnz+=S[y+w];var b=h[w];b!==-1&&(S[y+b]===0&&(S[M+b]=S[M+w]),S[C+S[M+w]]=S[N+b],S[N+b]=S[C+x],S[y+b]+=S[y+w])}for(x=0;x<d;x++)v[x]<0&&(v[x]=w++);return!0}});function Lg(t,e){return t[e]<0}function A4(t,e){t[e]=Li(t[e])}function eS(t){return t<0?Li(t):t}function cX(t,e,r,n,a){var i=e._index,s=e._ptr,u=e._size,l=u[1],o,c,f,d=0;for(n[0]=t;d>=0;){t=n[d];var m=a?a[t]:t;Lg(s,t)||(A4(s,t),n[l+d]=m<0?0:eS(s[m]));var h=1;for(c=n[l+d],f=m<0?0:eS(s[m+1]);c<f;c++)if(o=i[c],!Lg(s,o)){n[l+d]=c,n[++d]=o,h=0;break}h&&(d--,n[--r]=t)}return r}function fX(t,e,r,n,a){var i=t._ptr,s=t._size,u=e._index,l=e._ptr,o=s[1],c,f,d,m=o;for(f=l[r],d=l[r+1],c=f;c<d;c++){var h=u[c];Lg(i,h)||(m=cX(h,t,m,n,a))}for(c=m;c<o;c++)A4(i,n[c]);return m}var dX="csSpsolve",mX=["divideScalar","multiply","subtract"],hX=Q(dX,mX,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(i,s,u,l,o,c,f){var d=i._values,m=i._index,h=i._ptr,v=i._size,T=v[1],S=s._values,C=s._index,N=s._ptr,M,y,x,w,g=fX(i,s,u,l,c);for(M=g;M<T;M++)o[l[M]]=0;for(y=N[u],x=N[u+1],M=y;M<x;M++)o[C[M]]=S[M];for(var _=g;_<T;_++){var E=l[_],b=c?c[E]:E;if(!(b<0))for(y=h[b],x=h[b+1],o[E]=e(o[E],d[f?y:x-1]),M=f?y+1:y,w=f?x:x-1;M<w;M++){var A=m[M];o[A]=n(o[A],r(d[M],o[E]))}}return g}}),pX="csLu",vX=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],gX=Q(pX,vX,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:a,larger:i,largerEq:s,SparseMatrix:u}=t,l=hX({divideScalar:r,multiply:n,subtract:a});return function(c,f,d){if(!c)return null;var m=c._size,h=m[1],v,T=100,S=100;f&&(v=f.q,T=f.lnz||T,S=f.unz||S);var C=[],N=[],M=[],y=new u({values:C,index:N,ptr:M,size:[h,h]}),x=[],w=[],g=[],_=new u({values:x,index:w,ptr:g,size:[h,h]}),E=[],b,A,I=[],F=[];for(b=0;b<h;b++)I[b]=0,E[b]=-1,M[b+1]=0;T=0,S=0;for(var B=0;B<h;B++){M[B]=T,g[B]=S;var P=v?v[B]:B,L=l(y,c,P,F,I,E,1),$=-1,k=-1;for(A=L;A<h;A++)if(b=F[A],E[b]<0){var V=e(I[b]);i(V,k)&&(k=V,$=b)}else w[S]=E[b],x[S++]=I[b];if($===-1||k<=0)return null;E[P]<0&&s(e(I[P]),n(k,d))&&($=P);var ee=I[$];for(w[S]=B,x[S++]=ee,E[$]=B,N[T]=$,C[T++]=1,A=L;A<h;A++)b=F[A],E[b]<0&&(N[T]=b,C[T++]=r(I[b],ee)),I[b]=0}for(M[h]=T,g[h]=S,A=0;A<T;A++)N[A]=E[N[A]];return C.splice(T,C.length-T),N.splice(T,N.length-T),x.splice(S,x.length-S),w.splice(S,w.length-S),{L:y,U:_,pinv:E}}}),tS="slu",yX=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],xX=Q(tS,yX,t=>{var{typed:e,abs:r,add:n,multiply:a,transpose:i,divideScalar:s,subtract:u,larger:l,largerEq:o,SparseMatrix:c}=t,f=lX({add:n,multiply:a,transpose:i}),d=gX({abs:r,divideScalar:s,multiply:a,subtract:u,larger:l,largerEq:o,SparseMatrix:c});return e(tS,{"SparseMatrix, number, number":function(h,v,T){if(!We(v)||v<0||v>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(T<0||T>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var S=f(v,h,!1),C=d(h,S,T);return{L:C.L,U:C.U,p:C.pinv,q:S.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function rS(t,e){var r,n=e.length,a=[];if(t)for(r=0;r<n;r++)a[t[r]]=e[r];else for(r=0;r<n;r++)a[r]=e[r];return a}var nS="lusolve",bX=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],wX=Q(nS,bX,t=>{var{typed:e,matrix:r,lup:n,slu:a,usolve:i,lsolve:s,DenseMatrix:u}=t,l=rf({DenseMatrix:u});return e(nS,{"Array, Array | Matrix":function(d,m){d=r(d);var h=n(d),v=c(h.L,h.U,h.p,null,m);return v.valueOf()},"DenseMatrix, Array | Matrix":function(d,m){var h=n(d);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(d,m){var h=n(d);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(d,m,h,v){var T=a(d,h,v);return c(T.L,T.U,T.p,T.q,m)},"Object, Array | Matrix":function(d,m){return c(d.L,d.U,d.p,d.q,m)}});function o(f){if(Ye(f))return f;if(Wt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,d,m,h,v){f=o(f),d=o(d),m&&(v=l(f,v,!0),v._data=rS(m,v._data));var T=s(f,v),S=i(d,T);return h&&(S._data=rS(h,S._data)),S}}),aS="polynomialRoot",NX=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],_X=Q(aS,NX,t=>{var{typed:e,isZero:r,equalScalar:n,add:a,subtract:i,multiply:s,divide:u,sqrt:l,unaryMinus:o,cbrt:c,typeOf:f,im:d,re:m}=t;return e(aS,{"number|Complex, ...number|Complex":(h,v)=>{for(var T=[h,...v];T.length>0&&r(T[T.length-1]);)T.pop();if(T.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(v,"] must have a non-zero non-constant coefficient"));switch(T.length){case 2:return[o(u(T[0],T[1]))];case 3:{var[S,C,N]=T,M=s(2,N),y=s(C,C),x=s(4,N,S);if(n(y,x))return[u(o(C),M)];var w=l(i(y,x));return[u(i(w,C),M),u(i(o(w),C),M)]}case 4:{var[g,_,E,b]=T,A=o(s(3,b)),I=s(E,E),F=s(3,b,_),B=a(s(2,E,E,E),s(27,b,b,g)),P=s(9,b,E,_);if(n(I,F)&&n(B,P))return[u(E,A)];var L=i(I,F),$=i(B,P),k=a(s(18,b,E,_,g),s(E,E,_,_)),V=a(s(4,E,E,E,g),s(4,b,_,_,_),s(27,b,b,g,g));if(n(k,V))return[u(i(s(4,b,E,_),a(s(9,b,b,g),s(E,E,E))),s(b,L)),u(i(s(9,b,g),s(E,_)),s(2,L))];var ee;n(I,F)?ee=$:ee=u(a($,l(i(s($,$),s(4,L,L,L)))),2);var j=!0,X=c(ee,j).toArray().map(U=>u(a(E,U,u(L,U)),A));return X.map(U=>f(U)==="Complex"&&n(m(U),m(U)+d(U))?m(U):U)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(T))}}})}),EX="Help",SX=["evaluate"],AX=Q(EX,SX,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},a=`
`;if(n.name&&(a+="Name: "+n.name+`

`),n.category&&(a+="Category: "+n.category+`

`),n.description&&(a+=`Description:
    `+n.description+`

`),n.syntax&&(a+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){a+=`Examples:
`;for(var i=!1,s=e("config()"),u={config:f=>(i=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var o=n.examples[l];a+="    "+o+`
`;var c=void 0;try{c=e(o,u)}catch(f){c=f}c!==void 0&&!I3(c)&&(a+="        "+pt(c,{precision:14})+`
`)}a+=`
`,i&&e("config(originalConfig)",{originalConfig:s})}return n.mayThrow&&n.mayThrow.length&&(a+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(a+="See also: "+n.seealso.join(", ")+`
`),a},r.prototype.toJSON=function(){var n=nt(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var a={};return Object.keys(n).filter(i=>i!=="mathjs").forEach(i=>{a[i]=n[i]}),new r(a)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),DX="Chain",CX=["?on","math","typed"],TX=Q(DX,CX,t=>{var{on:e,math:r,typed:n}=t;function a(o){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");R3(o)?this.value=o.value:this.value=o}a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return pt(this.value)},a.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},a.fromJSON=function(o){return new a(o.value)};function i(o,c){typeof c=="function"&&(a.prototype[o]=u(c))}function s(o,c){bk(a.prototype,o,function(){var d=c();if(typeof d=="function")return u(d)})}function u(o){return function(){if(arguments.length===0)return new a(o(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(o)){var d=n.resolve(o,c);if(d.params.length===1)throw new Error("chain function "+o.name+" cannot match rest parameter between chain value and additional arguments.");return new a(d.implementation.apply(o,c))}return new a(o.apply(o,c))}}a.createProxy=function(o,c){if(typeof o=="string")i(o,c);else{var f=function(h){He(o,h)&&l[h]===void 0&&s(h,()=>o[h])};for(var d in o)f(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return a.createProxy(r),e&&e("import",function(o,c,f){f||s(o,c)}),a},{isClass:!0}),iS={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},MX={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},IX={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},PX={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},FX={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},RX={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},OX={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},BX={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},jX={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},kX={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},$X={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},sS={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},LX={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},zX={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},VX={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},UX={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},qX={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},HX={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},GX={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},WX={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},QX={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},XX={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},KX={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},JX={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},YX={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},ZX={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},eK={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},tK={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},rK={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},nK={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},aK={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},iK={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},sK={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},oK={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},uK={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},lK={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},cK={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},fK={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},dK={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},mK={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},hK={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},pK={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},vK={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},gK={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},yK={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},xK={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},bK={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},wK={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},NK={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},_K={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},EK={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},SK={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},AK={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},DK={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},CK={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},TK={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},MK={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},IK={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},PK={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},FK={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},RK={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},OK={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},BK={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},jK={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},kK={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},$K={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},LK={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},zK={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},VK={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},UK={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},qK={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},HK={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},GK={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},WK={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},QK={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},XK={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},KK={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},JK={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},YK={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},ZK={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},eJ={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},tJ={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},rJ={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},nJ={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},aJ={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},iJ={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},sJ={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},oJ={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},uJ={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},lJ={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},cJ={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},fJ={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},dJ={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},mJ={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},hJ={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},pJ={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},vJ={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},gJ={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},yJ={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},xJ={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},bJ={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},wJ={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},NJ={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},_J={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},EJ={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},SJ={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},AJ={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},DJ={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},CJ={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},TJ={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},MJ={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},IJ={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},PJ={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},FJ={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},RJ={name:"nullish",category:"Logical",syntax:["x ?? y","nullish(x, y)"],description:"Nullish coalescing operator. Returns the right-hand operand when the left-hand operand is null or undefined, and otherwise returns the left-hand operand.",examples:["null ?? 42","undefined ?? 42","0 ?? 42","false ?? 42","null ?? undefined ?? 42"],seealso:["and","or","not"]},OJ={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},BJ={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},jJ={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},kJ={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},$J={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},LJ={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},zJ={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},VJ={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},UJ={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},qJ={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},HJ={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},GJ={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},WJ={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},QJ={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},XJ={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},KJ={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},JJ={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},YJ={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},ZJ={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eY={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},tY={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},rY={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},nY={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},aY={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},iY={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},sY={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},oY={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},uY={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},lY={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},cY={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},fY={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},dY={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},mY={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},hY={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},pY={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},vY={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},gY={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},yY={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},xY={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},bY={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},wY={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},NY={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},_Y={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},EY={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},SY={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},AY={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},DY={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},CY={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},TY={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},MY={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},IY={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},PY={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},FY={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},RY={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},OY={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},BY={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},jY={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},kY={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},$Y={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},LY={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},zY={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},VY={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},UY={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},qY={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},HY={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},GY={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},WY={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},QY={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},XY={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},KY={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},JY={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},YY={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},ZY={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},eZ={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},tZ={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},rZ={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},nZ={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},aZ={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},iZ={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},sZ={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},oZ={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},uZ={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},lZ={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},cZ={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},fZ={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},dZ={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},mZ={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},hZ={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},pZ={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},vZ={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},gZ={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},yZ={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},xZ={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},bZ={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},wZ={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},NZ={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},_Z={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},EZ={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},SZ={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},AZ={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},DZ={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},CZ={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},TZ={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},MZ={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},IZ={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},PZ={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},FZ={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},RZ={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},OZ={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},BZ={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},jZ={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},kZ={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},$Z={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},LZ={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},zZ={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},VZ={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},UZ={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},qZ={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},HZ={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},GZ={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},WZ={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},QZ={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},XZ={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},KZ={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},JZ={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},YZ={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},ZZ={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},eee={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},tee={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},ree={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},nee={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},aee={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},iee={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},see={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},oee={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},uee={bignumber:HX,bigint:GX,boolean:WX,complex:QX,createUnit:XX,fraction:KX,index:JX,matrix:YX,number:ZX,sparse:eK,splitUnit:tK,string:rK,unit:nK,e:iS,E:iS,false:MX,i:IX,Infinity:PX,LN2:RX,LN10:FX,LOG2E:BX,LOG10E:OX,NaN:jX,null:kX,pi:sS,PI:sS,phi:$X,SQRT1_2:LX,SQRT2:zX,tau:VX,true:UX,version:qX,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:oK,lsolve:lK,lsolveAll:cK,lup:fK,lusolve:dK,leafCount:uK,polynomialRoot:mK,resolve:vK,simplify:gK,simplifyConstant:yK,simplifyCore:xK,symbolicEqual:wK,rationalize:pK,slu:bK,usolve:NK,usolveAll:_K,qr:hK,abs:EK,add:SK,cbrt:AK,ceil:DK,cube:CK,divide:TK,dotDivide:MK,dotMultiply:IK,dotPow:PK,exp:FK,expm:RK,expm1:OK,fix:BK,floor:jK,gcd:kK,hypot:$K,lcm:zK,log:VK,log2:HK,log1p:qK,log10:UK,mod:GK,multiply:WK,norm:QK,nthRoot:XK,nthRoots:KK,pow:JK,round:YK,sign:ZK,sqrt:eJ,sqrtm:tJ,square:iJ,subtract:sJ,unaryMinus:oJ,unaryPlus:uJ,xgcd:lJ,invmod:LK,bitAnd:cJ,bitNot:fJ,bitOr:dJ,bitXor:mJ,leftShift:hJ,rightArithShift:pJ,rightLogShift:vJ,bellNumbers:gJ,catalan:yJ,composition:xJ,stirlingS2:bJ,config:aK,import:iK,typed:sK,arg:wJ,conj:NJ,re:EJ,im:_J,evaluate:SJ,help:TJ,parse:DJ,parser:AJ,compile:CJ,distance:MJ,intersect:IJ,and:PJ,not:FJ,nullish:RJ,or:OJ,xor:BJ,mapSlices:jJ,concat:$J,count:LJ,cross:zJ,column:kJ,ctranspose:VJ,det:UJ,diag:qJ,diff:HJ,dot:GJ,getMatrixDataType:JJ,identity:YJ,filter:QJ,flatten:XJ,forEach:KJ,inv:ZJ,pinv:eY,eigs:WJ,kron:tY,matrixFromFunction:aY,matrixFromRows:iY,matrixFromColumns:nY,map:rY,ones:sY,partitionSelect:oY,range:uY,resize:cY,reshape:lY,rotate:fY,rotationMatrix:dY,row:mY,size:hY,sort:pY,squeeze:vY,subset:gY,trace:yY,transpose:xY,zeros:bY,fft:wY,ifft:NY,sylvester:rJ,schur:nJ,lyap:aJ,solveODE:oee,combinations:_Y,combinationsWithRep:EY,factorial:SY,gamma:AY,kldivergence:CY,lgamma:DY,multinomial:TY,permutations:MY,pickRandom:IY,random:PY,randomInt:FY,compare:RY,compareNatural:OY,compareText:BY,deepEqual:jY,equal:kY,equalText:$Y,larger:LY,largerEq:zY,smaller:VY,smallerEq:UY,unequal:qY,setCartesian:HY,setDifference:GY,setDistinct:WY,setIntersect:QY,setIsSubset:XY,setMultiplicity:KY,setPowerset:JY,setSize:YY,setSymDifference:ZY,setUnion:eZ,zpk2tf:tZ,freqz:rZ,erf:nZ,zeta:aZ,cumsum:hZ,mad:iZ,max:sZ,mean:oZ,median:uZ,min:lZ,mode:cZ,prod:fZ,quantileSeq:dZ,std:mZ,sum:pZ,variance:vZ,corr:gZ,acos:yZ,acosh:xZ,acot:bZ,acoth:wZ,acsc:NZ,acsch:_Z,asec:EZ,asech:SZ,asin:AZ,asinh:DZ,atan:CZ,atanh:MZ,atan2:TZ,cos:IZ,cosh:PZ,cot:FZ,coth:RZ,csc:OZ,csch:BZ,sec:jZ,sech:kZ,sin:$Z,sinh:LZ,tan:zZ,tanh:VZ,to:UZ,toBest:qZ,clone:GZ,format:WZ,bin:HZ,oct:aee,hex:XZ,isNaN:JZ,isInteger:KZ,isNegative:YZ,isNumeric:ZZ,hasNumericValue:QZ,isPositive:eee,isPrime:tee,isZero:ree,print:iee,typeOf:see,numeric:nee},oS="help",lee=["typed","mathWithTransform","Help"],cee=Q(oS,lee,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(oS,{any:function(i){var s,u=i;if(typeof i!="string"){for(s in r)if(He(r,s)&&i===r[s]){u=s;break}}var l=En(uee,u);if(!l){var o=typeof u=="function"?u.name:u;throw new Error('No documentation found on "'+o+'"')}return new n(l)}})}),uS="chain",fee=["typed","Chain"],dee=Q(uS,fee,t=>{var{typed:e,Chain:r}=t;return e(uS,{"":function(){return new r},any:function(a){return new r(a)}})}),lS="det",mee=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],hee=Q(lS,mee,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:a,divideScalar:i,isZero:s,unaryMinus:u}=t;return e(lS,{any:function(c){return nt(c)},"Array | Matrix":function(c){var f;switch(Ye(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return nt(c);case 1:if(f[0]===1)return nt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(f)+")");case 2:{var d=f[0],m=f[1];if(d===m)return l(c.clone().valueOf(),d);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(f)+")")}}});function l(o,c,f){if(c===1)return nt(o[0][0]);if(c===2)return n(a(o[0][0],o[1][1]),a(o[1][0],o[0][1]));for(var d=!1,m=new Array(c).fill(0).map((w,g)=>g),h=0;h<c;h++){var v=m[h];if(s(o[v][h])){var T=void 0;for(T=h+1;T<c;T++)if(!s(o[m[T]][h])){v=m[T],m[T]=m[h],m[h]=v,d=!d;break}if(T===c)return o[v][h]}for(var S=o[v][h],C=h===0?1:o[m[h-1]][h-1],N=h+1;N<c;N++)for(var M=m[N],y=h+1;y<c;y++)o[M][y]=i(n(a(o[M][y],S),a(o[M][h],o[v][y])),C)}var x=o[m[c-1]][c-1];return d?u(x):x}}),cS="inv",pee=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],vee=Q(cS,pee,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:a,multiply:i,unaryMinus:s,det:u,identity:l,abs:o}=t;return e(cS,{"Array | Matrix":function(d){var m=Ye(d)?d.size():at(d);switch(m.length){case 1:if(m[0]===1)return Ye(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+pt(m)+")");case 2:{var h=m[0],v=m[1];if(h===v)return Ye(d)?r(c(d.valueOf(),h,v),d.storage()):c(d,h,v);throw new RangeError("Matrix must be square (size: "+pt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(m)+")")}},any:function(d){return n(1,d)}});function c(f,d,m){var h,v,T,S,C;if(d===1){if(S=f[0][0],S===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,S)]]}else if(d===2){var N=u(f);if(N===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],N),n(s(f[0][1]),N)],[n(s(f[1][0]),N),n(f[0][0],N)]]}else{var M=f.concat();for(h=0;h<d;h++)M[h]=M[h].concat();for(var y=l(d).valueOf(),x=0;x<m;x++){var w=o(M[x][x]),g=x;for(h=x+1;h<d;)o(M[h][x])>w&&(w=o(M[h][x]),g=h),h++;if(w===0)throw Error("Cannot calculate inverse, determinant is zero");h=g,h!==x&&(C=M[x],M[x]=M[h],M[h]=C,C=y[x],y[x]=y[h],y[h]=C);var _=M[x],E=y[x];for(h=0;h<d;h++){var b=M[h],A=y[h];if(h!==x){if(b[x]!==0){for(T=n(s(b[x]),_[x]),v=x;v<m;v++)b[v]=a(b[v],i(T,_[v]));for(v=0;v<m;v++)A[v]=a(A[v],i(T,E[v]))}}else{for(T=_[x],v=x;v<m;v++)b[v]=n(b[v],T);for(v=0;v<m;v++)A[v]=n(A[v],T)}}}return y}}}),fS="pinv",gee=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],yee=Q(fS,gee,t=>{var{typed:e,matrix:r,inv:n,deepEqual:a,equal:i,dotDivide:s,dot:u,ctranspose:l,divideScalar:o,multiply:c,add:f,Complex:d}=t;return e(fS,{"Array | Matrix":function(N){var M=Ye(N)?N.size():at(N);switch(M.length){case 1:return S(N)?l(N):M[0]===1?n(N):s(l(N),u(N,N));case 2:{if(S(N))return l(N);var y=M[0],x=M[1];if(y===x)try{return n(N)}catch(w){if(!(w instanceof Error&&w.message.match(/Cannot calculate inverse, determinant is zero/)))throw w}return Ye(N)?r(m(N.valueOf(),y,x),N.storage()):m(N,y,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(M)+")")}},any:function(N){return i(N,0)?nt(N):o(1,N)}});function m(C,N,M){var{C:y,F:x}=v(C,N,M),w=c(n(c(l(y),y)),l(y)),g=c(l(x),n(c(x,l(x))));return c(g,w)}function h(C,N,M){for(var y=nt(C),x=0,w=0;w<N;w++){if(M<=x)return y;for(var g=w;T(y[g][x]);)if(g++,N===g&&(g=w,x++,M===x))return y;[y[g],y[w]]=[y[w],y[g]];for(var _=y[w][x],E=0;E<M;E++)y[w][E]=s(y[w][E],_);for(var b=0;b<N;b++)if(b!==w){_=y[b][x];for(var A=0;A<M;A++)y[b][A]=f(y[b][A],c(-1,c(_,y[w][A])))}x++}return y}function v(C,N,M){var y=h(C,N,M),x=C.map((g,_)=>g.filter((E,b)=>b<N&&!T(u(y[b],y[b])))),w=y.filter((g,_)=>!T(u(y[_],y[_])));return{C:x,F:w}}function T(C){return i(f(C,d(1,1)),f(0,d(1,1)))}function S(C){return a(f(C,d(1,1)),f(c(C,0),d(1,1)))}});function xee(t){var{addScalar:e,subtract:r,flatten:n,multiply:a,multiplyScalar:i,divideScalar:s,sqrt:u,abs:l,bignumber:o,diag:c,size:f,reshape:d,inv:m,qr:h,usolve:v,usolveAll:T,equal:S,complex:C,larger:N,smaller:M,matrixFromColumns:y,dot:x}=t;function w(j,X,U,de){var ue=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,le=g(j,X,U,de,ue);_(j,X,U,de,ue,le);var{values:H,C:J}=E(j,X,U,de,ue);if(ue){var re=b(j,X,J,le,H,U,de);return{values:H,eigenvectors:re}}return{values:H}}function g(j,X,U,de,ue){var le=de==="BigNumber",H=de==="Complex",J=le?o(0):0,re=le?o(1):H?C(1):1,ie=le?o(1):1,se=le?o(10):2,ve=i(se,se),me;ue&&(me=Array(X).fill(re));for(var Ne=!1;!Ne;){Ne=!0;for(var Be=0;Be<X;Be++){for(var Le=J,Ee=J,De=0;De<X;De++)Be!==De&&(Le=e(Le,l(j[De][Be])),Ee=e(Ee,l(j[Be][De])));if(!S(Le,0)&&!S(Ee,0)){for(var G=ie,te=Le,ce=s(Ee,se),q=i(Ee,se);M(te,ce);)te=i(te,ve),G=i(G,se);for(;N(te,q);)te=s(te,ve),G=s(G,se);var Y=M(s(e(te,Ee),G),i(e(Le,Ee),.95));if(Y){Ne=!1;for(var ne=s(1,G),oe=0;oe<X;oe++)Be!==oe&&(j[Be][oe]=i(j[Be][oe],ne),j[oe][Be]=i(j[oe][Be],G));ue&&(me[Be]=i(me[Be],ne))}}}}return ue?c(me):null}function _(j,X,U,de,ue,le){var H=de==="BigNumber",J=de==="Complex",re=H?o(0):J?C(0):0;H&&(U=o(U));for(var ie=0;ie<X-2;ie++){for(var se=0,ve=re,me=ie+1;me<X;me++){var Ne=j[me][ie];M(l(ve),l(Ne))&&(ve=Ne,se=me)}if(!M(l(ve),U)){if(se!==ie+1){var Be=j[se];j[se]=j[ie+1],j[ie+1]=Be;for(var Le=0;Le<X;Le++){var Ee=j[Le][se];j[Le][se]=j[Le][ie+1],j[Le][ie+1]=Ee}if(ue){var De=le[se];le[se]=le[ie+1],le[ie+1]=De}}for(var G=ie+2;G<X;G++){var te=s(j[G][ie],ve);if(te!==0){for(var ce=0;ce<X;ce++)j[G][ce]=r(j[G][ce],i(te,j[ie+1][ce]));for(var q=0;q<X;q++)j[q][ie+1]=e(j[q][ie+1],i(te,j[q][G]));if(ue)for(var Y=0;Y<X;Y++)le[G][Y]=r(le[G][Y],i(te,le[ie+1][Y]))}}}}return le}function E(j,X,U,de,ue){var le=de==="BigNumber",H=de==="Complex",J=le?o(1):H?C(1):1;le&&(U=o(U));for(var re=nt(j),ie=[],se=X,ve=[],me=ue?c(Array(X).fill(J)):void 0,Ne=ue?c(Array(se).fill(J)):void 0,Be=0;Be<=100;){Be+=1;for(var Le=re[se-1][se-1],Ee=0;Ee<se;Ee++)re[Ee][Ee]=r(re[Ee][Ee],Le);var{Q:De,R:G}=h(re);re=a(G,De);for(var te=0;te<se;te++)re[te][te]=e(re[te][te],Le);if(ue&&(Ne=a(Ne,De)),se===1||M(l(re[se-1][se-2]),U)){Be=0,ie.push(re[se-1][se-1]),ue&&(ve.unshift([[1]]),F(Ne,X),me=a(me,Ne),se>1&&(Ne=c(Array(se-1).fill(J)))),se-=1,re.pop();for(var ce=0;ce<se;ce++)re[ce].pop()}else if(se===2||M(l(re[se-2][se-3]),U)){Be=0;var q=A(re[se-2][se-2],re[se-2][se-1],re[se-1][se-2],re[se-1][se-1]);ie.push(...q),ue&&(ve.unshift(I(re[se-2][se-2],re[se-2][se-1],re[se-1][se-2],re[se-1][se-1],q[0],q[1],U,de)),F(Ne,X),me=a(me,Ne),se>2&&(Ne=c(Array(se-2).fill(J)))),se-=2,re.pop(),re.pop();for(var Y=0;Y<se;Y++)re[Y].pop(),re[Y].pop()}if(se===0)break}if(ie.sort((fe,ge)=>+r(l(fe),l(ge))),Be>100){var ne=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ie.join(", "));throw ne.values=ie,ne.vectors=[],ne}var oe=ue?a(me,B(ve,X)):void 0;return{values:ie,C:oe}}function b(j,X,U,de,ue,le,H){var J=m(U),re=a(J,j,U),ie=H==="BigNumber",se=H==="Complex",ve=ie?o(0):se?C(0):0,me=ie?o(1):se?C(1):1,Ne=[],Be=[];for(var Le of ue){var Ee=P(Ne,Le,S);Ee===-1?(Ne.push(Le),Be.push(1)):Be[Ee]+=1}for(var De=[],G=Ne.length,te=Array(X).fill(ve),ce=c(Array(X).fill(me)),q=function(){var oe=Ne[Y],fe=r(re,a(oe,ce)),ge=T(fe,te);for(ge.shift();ge.length<Be[Y];){var Se=L(fe,X,ge,le,H);if(Se===null)break;ge.push(Se)}var Ce=a(m(de),U);ge=ge.map(Pe=>a(Ce,Pe)),De.push(...ge.map(Pe=>({value:oe,vector:n(Pe)})))},Y=0;Y<G;Y++)q();return De}function A(j,X,U,de){var ue=e(j,de),le=r(i(j,de),i(X,U)),H=i(ue,.5),J=i(u(r(i(ue,ue),i(4,le))),.5);return[e(H,J),r(H,J)]}function I(j,X,U,de,ue,le,H,J){var re=J==="BigNumber",ie=J==="Complex",se=re?o(0):ie?C(0):0,ve=re?o(1):ie?C(1):1;if(M(l(U),H))return[[ve,se],[se,ve]];if(N(l(r(ue,le)),H))return[[r(ue,de),r(le,de)],[U,U]];var me=r(j,ue),Ne=r(de,ue);return M(l(X),H)&&M(l(Ne),H)?[[me,ve],[U,se]]:[[X,se],[Ne,ve]]}function F(j,X){for(var U=0;U<j.length;U++)j[U].push(...Array(X-j[U].length).fill(0));for(var de=j.length;de<X;de++)j.push(Array(X).fill(0)),j[de][de]=1;return j}function B(j,X){for(var U=[],de=0;de<X;de++)U[de]=Array(X).fill(0);var ue=0;for(var le of j){for(var H=le.length,J=0;J<H;J++)for(var re=0;re<H;re++)U[ue+J][ue+re]=le[J][re];ue+=H}return U}function P(j,X,U){for(var de=0;de<j.length;de++)if(U(j[de],X))return de;return-1}function L(j,X,U,de,ue){for(var le=ue==="BigNumber"?o(1e3):1e3,H,J=0;J<5;++J){H=$(X,U,ue);try{H=v(j,H)}catch{continue}if(N(V(H),le))break}if(J>=5)return null;for(J=0;;){var re=v(j,H);if(M(V(k(H,[re])),de))break;if(++J>=10)return null;H=ee(re)}return H}function $(j,X,U){var de=U==="BigNumber",ue=U==="Complex",le=Array(j).fill(0).map(H=>2*Math.random()-1);return de&&(le=le.map(H=>o(H))),ue&&(le=le.map(H=>C(H))),le=k(le,X),ee(le,U)}function k(j,X){var U=f(j);for(var de of X)de=d(de,U),j=r(j,a(s(x(de,j),x(de,de)),de));return j}function V(j){return l(u(x(j,j)))}function ee(j,X){var U=X==="BigNumber",de=X==="Complex",ue=U?o(1):de?C(1):1;return a(s(ue,V(j)),j)}return w}function bee(t){var{config:e,addScalar:r,subtract:n,abs:a,atan:i,cos:s,sin:u,multiplyScalar:l,inv:o,bignumber:c,multiply:f,add:d}=t;function m(_,E){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,A=arguments.length>3?arguments[3]:void 0,I=arguments.length>4?arguments[4]:void 0;if(A==="number")return h(_,b,I);if(A==="BigNumber")return v(_,b,I);throw TypeError("Unsupported data type: "+A)}function h(_,E,b){var A=_.length,I=Math.abs(E/A),F,B;if(b){B=new Array(A);for(var P=0;P<A;P++)B[P]=Array(A).fill(0),B[P][P]=1}for(var L=x(_);Math.abs(L[1])>=Math.abs(I);){var $=L[0][0],k=L[0][1];F=T(_[$][$],_[k][k],_[$][k]),_=y(_,F,$,k),b&&(B=C(B,F,$,k)),L=x(_)}for(var V=Array(A).fill(0),ee=0;ee<A;ee++)V[ee]=_[ee][ee];return g(nt(V),B,b)}function v(_,E,b){var A=_.length,I=a(E/A),F,B;if(b){B=new Array(A);for(var P=0;P<A;P++)B[P]=Array(A).fill(0),B[P][P]=1}for(var L=w(_);a(L[1])>=a(I);){var $=L[0][0],k=L[0][1];F=S(_[$][$],_[k][k],_[$][k]),_=M(_,F,$,k),b&&(B=N(B,F,$,k)),L=w(_)}for(var V=Array(A).fill(0),ee=0;ee<A;ee++)V[ee]=_[ee][ee];return g(nt(V),B,b)}function T(_,E,b){var A=E-_;return Math.abs(A)<=e.relTol?Math.PI/4:.5*Math.atan(2*b/(E-_))}function S(_,E,b){var A=n(E,_);return a(A)<=e.relTol?c(-1).acos().div(4):l(.5,i(f(2,b,o(A))))}function C(_,E,b,A){for(var I=_.length,F=Math.cos(E),B=Math.sin(E),P=Array(I).fill(0),L=Array(I).fill(0),$=0;$<I;$++)P[$]=F*_[$][b]-B*_[$][A],L[$]=B*_[$][b]+F*_[$][A];for(var k=0;k<I;k++)_[k][b]=P[k],_[k][A]=L[k];return _}function N(_,E,b,A){for(var I=_.length,F=s(E),B=u(E),P=Array(I).fill(c(0)),L=Array(I).fill(c(0)),$=0;$<I;$++)P[$]=n(l(F,_[$][b]),l(B,_[$][A])),L[$]=r(l(B,_[$][b]),l(F,_[$][A]));for(var k=0;k<I;k++)_[k][b]=P[k],_[k][A]=L[k];return _}function M(_,E,b,A){for(var I=_.length,F=c(s(E)),B=c(u(E)),P=l(F,F),L=l(B,B),$=Array(I).fill(c(0)),k=Array(I).fill(c(0)),V=f(c(2),F,B,_[b][A]),ee=r(n(l(P,_[b][b]),V),l(L,_[A][A])),j=d(l(L,_[b][b]),V,l(P,_[A][A])),X=0;X<I;X++)$[X]=n(l(F,_[b][X]),l(B,_[A][X])),k[X]=r(l(B,_[b][X]),l(F,_[A][X]));_[b][b]=ee,_[A][A]=j,_[b][A]=c(0),_[A][b]=c(0);for(var U=0;U<I;U++)U!==b&&U!==A&&(_[b][U]=$[U],_[U][b]=$[U],_[A][U]=k[U],_[U][A]=k[U]);return _}function y(_,E,b,A){for(var I=_.length,F=Math.cos(E),B=Math.sin(E),P=F*F,L=B*B,$=Array(I).fill(0),k=Array(I).fill(0),V=P*_[b][b]-2*F*B*_[b][A]+L*_[A][A],ee=L*_[b][b]+2*F*B*_[b][A]+P*_[A][A],j=0;j<I;j++)$[j]=F*_[b][j]-B*_[A][j],k[j]=B*_[b][j]+F*_[A][j];_[b][b]=V,_[A][A]=ee,_[b][A]=0,_[A][b]=0;for(var X=0;X<I;X++)X!==b&&X!==A&&(_[b][X]=$[X],_[X][b]=$[X],_[A][X]=k[X],_[X][A]=k[X]);return _}function x(_){for(var E=_.length,b=0,A=[0,1],I=0;I<E;I++)for(var F=I+1;F<E;F++)Math.abs(b)<Math.abs(_[I][F])&&(b=Math.abs(_[I][F]),A=[I,F]);return[A,b]}function w(_){for(var E=_.length,b=0,A=[0,1],I=0;I<E;I++)for(var F=I+1;F<E;F++)a(b)<a(_[I][F])&&(b=a(_[I][F]),A=[I,F]);return[A,b]}function g(_,E,b){var A=_.length,I=Array(A),F;if(b){F=Array(A);for(var B=0;B<A;B++)F[B]=Array(A)}for(var P=0;P<A;P++){for(var L=0,$=_[0],k=0;k<_.length;k++)a(_[k])<a($)&&(L=k,$=_[L]);if(I[P]=_.splice(L,1)[0],b)for(var V=0;V<A;V++)F[P][V]=E[V][L],E[V].splice(L,1)}if(!b)return{values:I};var ee=F.map((j,X)=>({value:I[X],vector:j}));return{values:I,eigenvectors:ee}}return m}var wee="eigs",Nee=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],_ee=Q(wee,Nee,t=>{var{config:e,typed:r,matrix:n,addScalar:a,subtract:i,equal:s,abs:u,atan:l,cos:o,sin:c,multiplyScalar:f,divideScalar:d,inv:m,bignumber:h,multiply:v,add:T,larger:S,column:C,flatten:N,number:M,complex:y,sqrt:x,diag:w,size:g,reshape:_,qr:E,usolve:b,usolveAll:A,im:I,re:F,smaller:B,matrixFromColumns:P,dot:L}=t,$=bee({config:e,addScalar:a,subtract:i,abs:u,atan:l,cos:o,sin:c,multiplyScalar:f,inv:m,bignumber:h,multiply:v,add:T}),k=xee({addScalar:a,subtract:i,multiply:v,multiplyScalar:f,flatten:N,divideScalar:d,sqrt:x,abs:u,bignumber:h,diag:w,size:g,reshape:_,qr:E,inv:m,usolve:b,usolveAll:A,equal:s,complex:y,larger:S,smaller:B,matrixFromColumns:P,dot:L});return r("eigs",{Array:function(le){return V(n(le))},"Array, number|BigNumber":function(le,H){return V(n(le),{precision:H})},"Array, Object"(ue,le){return V(n(ue),le)},Matrix:function(le){return V(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,H){return V(le,{precision:H,matricize:!0})},"Matrix, Object":function(le,H){var J={matricize:!0};return Nr(J,H),V(le,J)}});function V(ue){var le,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J="eigenvectors"in H?H.eigenvectors:!0,re=(le=H.precision)!==null&&le!==void 0?le:e.relTol,ie=ee(ue,re,J);return H.matricize&&(ie.values=n(ie.values),J&&(ie.eigenvectors=ie.eigenvectors.map(se=>{var{value:ve,vector:me}=se;return{value:ve,vector:n(me)}}))),J&&Object.defineProperty(ie,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ie}function ee(ue,le,H){var J=ue.toArray(),re=ue.size();if(re.length!==2||re[0]!==re[1])throw new RangeError("Matrix must be square (size: ".concat(pt(re),")"));var ie=re[0];if(X(J,ie,le)&&(U(J,ie),j(J,ie,le))){var se=de(ue,J,ie);return $(J,ie,le,se,H)}var ve=de(ue,J,ie);return k(J,ie,le,ve,H)}function j(ue,le,H){for(var J=0;J<le;J++)for(var re=J;re<le;re++)if(S(h(u(i(ue[J][re],ue[re][J]))),H))return!1;return!0}function X(ue,le,H){for(var J=0;J<le;J++)for(var re=0;re<le;re++)if(S(h(u(I(ue[J][re]))),H))return!1;return!0}function U(ue,le){for(var H=0;H<le;H++)for(var J=0;J<le;J++)ue[H][J]=F(ue[H][J])}function de(ue,le,H){var J=ue.datatype();if(J==="number"||J==="BigNumber"||J==="Complex")return J;for(var re=!1,ie=!1,se=!1,ve=0;ve<H;ve++)for(var me=0;me<H;me++){var Ne=le[ve][me];if(Xe(Ne)||Zc(Ne))re=!0;else if(ut(Ne))ie=!0;else if(hi(Ne))se=!0;else throw TypeError("Unsupported type in Matrix: "+Xt(Ne))}if(ie&&se&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),se){for(var Be=0;Be<H;Be++)for(var Le=0;Le<H;Le++)le[Be][Le]=y(le[Be][Le]);return"Complex"}if(ie){for(var Ee=0;Ee<H;Ee++)for(var De=0;De<H;De++)le[Ee][De]=h(le[Ee][De]);return"BigNumber"}if(re){for(var G=0;G<H;G++)for(var te=0;te<H;te++)le[G][te]=M(le[G][te]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),dS="expm",Eee=["typed","abs","add","identity","inv","multiply"],See=Q(dS,Eee,t=>{var{typed:e,abs:r,add:n,identity:a,inv:i,multiply:s}=t;return e(dS,{Matrix:function(f){var d=f.size();if(d.length!==2||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+pt(d)+")");for(var m=d[0],h=1e-15,v=u(f),T=l(v,h),S=T.q,C=T.j,N=s(f,Math.pow(2,-C)),M=a(m),y=a(m),x=1,w=N,g=-1,_=1;_<=S;_++)_>1&&(w=s(w,N),g=-g),x=x*(S-_+1)/((2*S-_+1)*_),M=n(M,s(x,w)),y=n(y,s(x*g,w));for(var E=s(i(y),M),b=0;b<C;b++)E=s(E,E);return Ks(f)?f.createSparseMatrix(E):E}});function u(c){for(var f=c.size()[0],d=0,m=0;m<f;m++){for(var h=0,v=0;v<f;v++)h+=r(c.get([m,v]));d=Math.max(h,d)}return d}function l(c,f){for(var d=30,m=0;m<d;m++)for(var h=0;h<=m;h++){var v=m-h;if(o(c,h,v)<f)return{q:h,j:v}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function o(c,f,d){for(var m=1,h=2;h<=f;h++)m*=h;for(var v=m,T=f+1;T<=2*f;T++)v*=T;var S=v*(2*f+1);return 8*Math.pow(c/Math.pow(2,d),2*f)*m*m/(v*S)}}),mS="sqrtm",Aee=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Dee=Q(mS,Aee,t=>{var{typed:e,abs:r,add:n,multiply:a,map:i,sqrt:s,subtract:u,inv:l,size:o,max:c,identity:f}=t,d=1e3,m=1e-6;function h(v){var T,S=0,C=v,N=f(o(v));do{var M=C;if(C=a(.5,n(M,l(N))),N=a(.5,n(N,l(M))),T=c(r(u(C,M))),T>m&&++S>d)throw new Error("computing square root of matrix: iterative method could not converge")}while(T>m);return C}return e(mS,{"Array | Matrix":function(T){var S=Ye(T)?T.size():at(T);switch(S.length){case 1:if(S[0]===1)return i(T,s);throw new RangeError("Matrix must be square (size: "+pt(S)+")");case 2:{var C=S[0],N=S[1];if(C===N)return h(T);throw new RangeError("Matrix must be square (size: "+pt(S)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+pt(S)+")")}}})}),hS="sylvester",Cee=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],Tee=Q(hS,Cee,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:a,multiply:i,range:s,concat:u,transpose:l,index:o,subset:c,add:f,subtract:d,identity:m,lusolve:h,abs:v,config:T}=t;return e(hS,{"Matrix, Matrix, Matrix":S,"Array, Matrix, Matrix":function(N,M,y){return S(a(N),M,y)},"Array, Array, Matrix":function(N,M,y){return S(a(N),a(M),y)},"Array, Matrix, Array":function(N,M,y){return S(a(N),M,a(y))},"Matrix, Array, Matrix":function(N,M,y){return S(N,a(M),y)},"Matrix, Array, Array":function(N,M,y){return S(N,a(M),a(y))},"Matrix, Matrix, Array":function(N,M,y){return S(N,M,a(y))},"Array, Array, Array":function(N,M,y){return S(a(N),a(M),a(y)).toArray()}});function S(C,N,M){for(var y=N.size()[0],x=C.size()[0],w=r(C),g=w.T,_=w.U,E=r(i(-1,N)),b=E.T,A=E.U,I=i(i(l(_),M),A),F=s(0,x),B=[],P=(ve,me)=>u(ve,me,1),L=(ve,me)=>u(ve,me,0),$=0;$<y;$++)if($<y-1&&v(c(b,o($+1,$)))>1e-5){for(var k=L(c(I,o(F,[$])),c(I,o(F,[$+1]))),V=0;V<$;V++)k=f(k,L(i(B[V],c(b,o(V,$))),i(B[V],c(b,o(V,$+1)))));var ee=i(m(x),i(-1,c(b,o($,$)))),j=i(m(x),i(-1,c(b,o($+1,$)))),X=i(m(x),i(-1,c(b,o($,$+1)))),U=i(m(x),i(-1,c(b,o($+1,$+1)))),de=L(P(f(g,ee),j),P(X,f(g,U))),ue=h(de,k);B[$]=ue.subset(o(s(0,x),[0])),B[$+1]=ue.subset(o(s(x,2*x),[0])),$++}else{for(var le=c(I,o(F,[$])),H=0;H<$;H++)le=f(le,i(B[H],c(b,o(H,$))));var J=c(b,o($,$)),re=d(g,i(J,m(x)));B[$]=h(re,le)}var ie=a(n(...B)),se=i(_,i(ie,l(A)));return se}}),pS="schur",Mee=["typed","matrix","identity","multiply","qr","norm","subtract"],Iee=Q(pS,Mee,t=>{var{typed:e,matrix:r,identity:n,multiply:a,qr:i,norm:s,subtract:u}=t;return e(pS,{Array:function(c){var f=l(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(o){var c=o.size()[0],f=o,d=n(c),m=0,h;do{h=f;var v=i(f),T=v.Q,S=v.R;if(f=a(S,T),d=a(d,T),m++>100)break}while(s(u(f,h))>1e-4);return{U:d,T:f}}}),vS="lyap",Pee=["typed","matrix","sylvester","multiply","transpose"],Fee=Q(vS,Pee,t=>{var{typed:e,matrix:r,sylvester:n,multiply:a,transpose:i}=t;return e(vS,{"Matrix, Matrix":function(u,l){return n(u,i(u),a(-1,l))},"Array, Matrix":function(u,l){return n(r(u),i(r(u)),a(-1,l))},"Matrix, Array":function(u,l){return n(u,i(r(u)),r(a(-1,l)))},"Array, Array":function(u,l){return n(r(u),i(r(u)),r(a(-1,l))).toArray()}})}),Ree="divide",Oee=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Bee=Q(Ree,Oee,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:a,divideScalar:i,inv:s}=t,u=on({typed:e,equalScalar:a}),l=va({typed:e});return e("divide",O3({"Array | Matrix, Array | Matrix":function(c,f){return n(c,s(f))},"DenseMatrix, any":function(c,f){return l(c,f,i,!1)},"SparseMatrix, any":function(c,f){return u(c,f,i,!1)},"Array, any":function(c,f){return l(r(c),f,i,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,s(f))}},i.signatures))}),gS="distance",jee=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],kee=Q(gS,jee,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:a,divideScalar:i,deepEqual:s,sqrt:u,abs:l}=t;return e(gS,{"Array, Array, Array":function(y,x,w){if(y.length===2&&x.length===2&&w.length===2){if(!c(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(x,w))throw new TypeError("LinePoint1 should not be same with LinePoint2");var g=n(w[1],x[1]),_=n(x[0],w[0]),E=n(a(w[0],x[1]),a(x[0],w[1]));return T(y[0],y[1],g,_,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(y,x,w){if(Object.keys(y).length===2&&Object.keys(x).length===2&&Object.keys(w).length===2){if(!c(y))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(w))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(h(x),h(w)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in y&&"pointY"in y&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in w&&"lineTwoPtY"in w){var g=n(w.lineTwoPtY,x.lineOnePtY),_=n(x.lineOnePtX,w.lineTwoPtX),E=n(a(w.lineTwoPtX,x.lineOnePtY),a(x.lineOnePtX,w.lineTwoPtY));return T(y.pointX,y.pointY,g,_,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(y,x){if(y.length===2&&x.length===3){if(!c(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return T(y[0],y[1],x[0],x[1],x[2])}else if(y.length===3&&x.length===6){if(!f(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return S(y[0],y[1],y[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(y.length===x.length&&y.length>0){if(!d(y))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return C(y,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(y,x){if(Object.keys(y).length===2&&Object.keys(x).length===3){if(!c(y))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in y&&"pointY"in y&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return T(y.pointX,y.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(y).length===3&&Object.keys(x).length===6){if(!f(y))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in y&&"pointY"in y&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return S(y.pointX,y.pointY,y.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(y).length===2&&Object.keys(x).length===2){if(!c(y))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in y&&"pointOneY"in y&&"pointTwoX"in x&&"pointTwoY"in x)return C([y.pointOneX,y.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(y).length===3&&Object.keys(x).length===3){if(!f(y))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in y&&"pointOneY"in y&&"pointOneZ"in y&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return C([y.pointOneX,y.pointOneY,y.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(y){if(!v(y))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return N(y)}});function o(M){return typeof M=="number"||ut(M)}function c(M){return M.constructor!==Array&&(M=h(M)),o(M[0])&&o(M[1])}function f(M){return M.constructor!==Array&&(M=h(M)),o(M[0])&&o(M[1])&&o(M[2])}function d(M){return Array.isArray(M)||(M=h(M)),M.every(o)}function m(M){return M.constructor!==Array&&(M=h(M)),o(M[0])&&o(M[1])&&o(M[2])&&o(M[3])&&o(M[4])&&o(M[5])}function h(M){for(var y=Object.keys(M),x=[],w=0;w<y.length;w++)x.push(M[y[w]]);return x}function v(M){if(M[0].length===2&&o(M[0][0])&&o(M[0][1])){if(M.some(y=>y.length!==2||!o(y[0])||!o(y[1])))return!1}else if(M[0].length===3&&o(M[0][0])&&o(M[0][1])&&o(M[0][2])){if(M.some(y=>y.length!==3||!o(y[0])||!o(y[1])||!o(y[2])))return!1}else return!1;return!0}function T(M,y,x,w,g){var _=l(r(r(a(x,M),a(w,y)),g)),E=u(r(a(x,x),a(w,w)));return i(_,E)}function S(M,y,x,w,g,_,E,b,A){var I=[n(a(n(g,y),A),a(n(_,x),b)),n(a(n(_,x),E),a(n(w,M),A)),n(a(n(w,M),b),a(n(g,y),E))];I=u(r(r(a(I[0],I[0]),a(I[1],I[1])),a(I[2],I[2])));var F=u(r(r(a(E,E),a(b,b)),a(A,A)));return i(I,F)}function C(M,y){for(var x=M.length,w=0,g=0,_=0;_<x;_++)g=n(M[_],y[_]),w=r(a(g,g),w);return u(w)}function N(M){for(var y=[],x=[],w=[],g=0;g<M.length-1;g++)for(var _=g+1;_<M.length;_++)M[0].length===2?(x=[M[g][0],M[g][1]],w=[M[_][0],M[_][1]]):M[0].length===3&&(x=[M[g][0],M[g][1],M[g][2]],w=[M[_][0],M[_][1],M[_][2]]),y.push(C(x,w));return y}}),$ee="intersect",Lee=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],zee=Q($ee,Lee,t=>{var{typed:e,config:r,abs:n,add:a,addScalar:i,matrix:s,multiply:u,multiplyScalar:l,divideScalar:o,subtract:c,smaller:f,equalScalar:d,flatten:m,isZero:h,isNumeric:v}=t;return e("intersect",{"Array, Array, Array":T,"Array, Array, Array, Array":S,"Matrix, Matrix, Matrix":function(b,A,I){var F=T(b.valueOf(),A.valueOf(),I.valueOf());return F===null?null:s(F)},"Matrix, Matrix, Matrix, Matrix":function(b,A,I,F){var B=S(b.valueOf(),A.valueOf(),I.valueOf(),F.valueOf());return B===null?null:s(B)}});function T(E,b,A){if(E=C(E),b=C(b),A=C(A),!M(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!y(A))throw new TypeError("Array with 4 numbers expected as third argument");return _(E[0],E[1],E[2],b[0],b[1],b[2],A[0],A[1],A[2],A[3])}function S(E,b,A,I){if(E=C(E),b=C(b),A=C(A),I=C(I),E.length===2){if(!N(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!N(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!N(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!N(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(E,b,A,I)}else if(E.length===3){if(!M(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!M(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!M(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return g(E[0],E[1],E[2],b[0],b[1],b[2],A[0],A[1],A[2],I[0],I[1],I[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function C(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(b=>Array.isArray(b)&&b.length===1)?m(E):E}function N(E){return E.length===2&&v(E[0])&&v(E[1])}function M(E){return E.length===3&&v(E[0])&&v(E[1])&&v(E[2])}function y(E){return E.length===4&&v(E[0])&&v(E[1])&&v(E[2])&&v(E[3])}function x(E,b,A,I){var F=E,B=A,P=c(F,b),L=c(B,I),$=c(l(P[0],L[1]),l(L[0],P[1]));if(h($)||f(n($),r.relTol))return null;var k=l(L[0],F[1]),V=l(L[1],F[0]),ee=l(L[0],B[1]),j=l(L[1],B[0]),X=o(i(c(c(k,V),ee),j),$);return a(u(P,X),F)}function w(E,b,A,I,F,B,P,L,$,k,V,ee){var j=l(c(E,b),c(A,I)),X=l(c(F,B),c(P,L)),U=l(c($,k),c(V,ee));return i(i(j,X),U)}function g(E,b,A,I,F,B,P,L,$,k,V,ee){var j=w(E,P,k,P,b,L,V,L,A,$,ee,$),X=w(k,P,I,E,V,L,F,b,ee,$,B,A),U=w(E,P,I,E,b,L,F,b,A,$,B,A),de=w(k,P,k,P,V,L,V,L,ee,$,ee,$),ue=w(I,E,I,E,F,b,F,b,B,A,B,A),le=c(l(j,X),l(U,de)),H=c(l(ue,de),l(X,X));if(h(H))return null;var J=o(le,H),re=o(i(j,l(J,X)),de),ie=i(E,l(J,c(I,E))),se=i(b,l(J,c(F,b))),ve=i(A,l(J,c(B,A))),me=i(P,l(re,c(k,P))),Ne=i(L,l(re,c(V,L))),Be=i($,l(re,c(ee,$)));return d(ie,me)&&d(se,Ne)&&d(ve,Be)?[ie,se,ve]:null}function _(E,b,A,I,F,B,P,L,$,k){var V=l(E,P),ee=l(I,P),j=l(b,L),X=l(F,L),U=l(A,$),de=l(B,$),ue=c(c(c(k,V),j),U),le=c(c(c(i(i(ee,X),de),V),j),U),H=o(ue,le),J=i(E,l(H,c(I,E))),re=i(b,l(H,c(F,b))),ie=i(A,l(H,c(B,A)));return[J,re,ie]}}),yS="sum",Vee=["typed","config","add","numeric"],D4=Q(yS,Vee,t=>{var{typed:e,config:r,add:n,numeric:a}=t;return e(yS,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":s,"...":function(l){if(tl(l))throw new TypeError("Scalar values expected in function sum");return i(l)}});function i(u){var l;return ws(u,function(o){try{l=l===void 0?o:n(l,o)}catch(c){throw Dn(c,"sum",o)}}),l===void 0&&(l=a(0,r.number)),typeof l=="string"&&(l=a(l,Ss(l,r))),l}function s(u,l){try{var o=Bh(u,l,n);return o}catch(c){throw Dn(c,"sum")}}}),pd="cumsum",Uee=["typed","add","unaryPlus"],C4=Q(pd,Uee,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(pd,{Array:a,Matrix:function(o){return o.create(a(o.valueOf(),o.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(o,c){return o.create(s(o.valueOf(),c),o.datatype())},"...":function(o){if(tl(o))throw new TypeError("All values expected to be scalar in function cumsum");return a(o)}});function a(l){try{return i(l)}catch(o){throw Dn(o,pd)}}function i(l){if(l.length===0)return[];for(var o=[n(l[0])],c=1;c<l.length;++c)o.push(r(o[c-1],l[c]));return o}function s(l,o){var c=at(l);if(o<0||o>=c.length)throw new Ia(o,c.length);try{return u(l,o)}catch(f){throw Dn(f,pd)}}function u(l,o){var c,f,d;if(o<=0){var m=l[0][0];if(Array.isArray(m)){for(d=lM(l),f=[],c=0;c<d.length;c++)f[c]=u(d[c],o-1);return f}else return i(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=u(l[c],o-1);return f}}}),xS="mean",qee=["typed","add","divide"],T4=Q(xS,qee,t=>{var{typed:e,add:r,divide:n}=t;return e(xS,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":a,"...":function(u){if(tl(u))throw new TypeError("Scalar values expected in function mean");return i(u)}});function a(s,u){try{var l=Bh(s,u,r),o=Array.isArray(s)?at(s):s.size();return n(l,o[u])}catch(c){throw Dn(c,"mean")}}function i(s){var u,l=0;if(ws(s,function(o){try{u=u===void 0?o:r(u,o),l++}catch(c){throw Dn(c,"mean",o)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(u,l)}}),bS="median",Hee=["typed","add","divide","compare","partitionSelect"],Gee=Q(bS,Hee,t=>{var{typed:e,add:r,divide:n,compare:a,partitionSelect:i}=t;function s(o){try{o=Ct(o.valueOf());var c=o.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,d=i(o,f+1),m=o[f],h=0;h<f;++h)a(o[h],m)>0&&(m=o[h]);return l(m,d)}else{var v=i(o,(c-1)/2);return u(v)}}catch(T){throw Dn(T,"median")}}var u=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return e(bS,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(tl(c))throw new TypeError("Scalar values expected in function median");return s(c)}})}),wS="mad",Wee=["typed","abs","map","median","subtract"],Qee=Q(wS,Wee,t=>{var{typed:e,abs:r,map:n,median:a,subtract:i}=t;return e(wS,{"Array | Matrix":s,"...":function(l){return s(l)}});function s(u){if(u=Ct(u.valueOf()),u.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=a(u);return a(n(u,function(o){return r(i(o,l))}))}catch(o){throw o instanceof TypeError&&o.message.includes("median")?new TypeError(o.message.replace("median","mad")):Dn(o,"mad")}}}),ev="unbiased",NS="variance",Xee=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],M4=Q(NS,Xee,t=>{var{typed:e,add:r,subtract:n,multiply:a,divide:i,mapSlices:s,isNaN:u}=t;return e(NS,{"Array | Matrix":function(f){return l(f,ev)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,d){return o(f,d,ev)},"Array | Matrix, number | BigNumber, string":o,"...":function(f){return l(f,ev)}});function l(c,f){var d,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ws(c,function(T){try{d=d===void 0?T:r(d,T),m++}catch(S){throw Dn(S,"variance",T)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=i(d,m);if(d=void 0,ws(c,function(T){var S=n(T,h);d=d===void 0?a(S,S):r(d,a(S,S))}),u(d))return d;switch(f){case"uncorrected":return i(d,m);case"biased":return i(d,m+1);case"unbiased":{var v=ut(d)?d.mul(0):0;return m===1?v:i(d,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function o(c,f,d){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,f,m=>l(m,d))}catch(m){throw Dn(m,"variance")}}}),_S="quantileSeq",Kee=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],I4=Q(_S,Kee,t=>{var{typed:e,bignumber:r,add:n,subtract:a,divide:i,multiply:s,partitionSelect:u,compare:l,isInteger:o,smaller:c,smallerEq:f,larger:d,mapSlices:m}=t;return e(_S,{"Array | Matrix, number | BigNumber":(C,N)=>v(C,N,!1),"Array | Matrix, number | BigNumber, number":(C,N,M)=>h(C,N,!1,M,v),"Array | Matrix, number | BigNumber, boolean":v,"Array | Matrix, number | BigNumber, boolean, number":(C,N,M,y)=>h(C,N,M,y,v),"Array | Matrix, Array | Matrix":(C,N)=>T(C,N,!1),"Array | Matrix, Array | Matrix, number":(C,N,M)=>h(C,N,!1,M,T),"Array | Matrix, Array | Matrix, boolean":T,"Array | Matrix, Array | Matrix, boolean, number":(C,N,M,y)=>h(C,N,M,y,T)});function h(C,N,M,y,x){return m(C,y,w=>x(w,N,M))}function v(C,N,M){var y,x=C.valueOf();if(c(N,0))throw new Error("N/prob must be non-negative");if(f(N,1))return Xe(N)?S(x,N,M):r(S(x,N,M));if(d(N,1)){if(!o(N))throw new Error("N must be a positive integer");if(d(N,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var w=n(N,1);y=[];for(var g=0;c(g,N);g++){var _=i(g+1,w);y.push(S(x,_,M))}return Xe(N)?y:r(y)}}function T(C,N,M){for(var y=C.valueOf(),x=N.valueOf(),w=[],g=0;g<x.length;++g)w.push(S(y,x[g],M));return w}function S(C,N,M){var y=Ct(C),x=y.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var w=Xe(N)?N*(x-1):N.times(x-1),g=Xe(N)?Math.floor(w):w.floor().toNumber(),_=Xe(N)?w%1:w.minus(g);if(o(w))return M?y[w]:u(y,Xe(N)?w:w.valueOf());var E,b;if(M)E=y[g],b=y[g+1];else{b=u(y,g+1),E=y[g];for(var A=0;A<g;++A)l(y[A],E)>0&&(E=y[A])}return n(s(E,a(1,_)),s(b,_))}}),ES="std",Jee=["typed","map","sqrt","variance"],P4=Q(ES,Jee,t=>{var{typed:e,map:r,sqrt:n,variance:a}=t;return e(ES,{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(u){return i(u)}});function i(s,u){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=a.apply(null,arguments);return Kn(l)?r(l,n):n(l)}catch(o){throw o instanceof TypeError&&o.message.includes(" variance")?new TypeError(o.message.replace(" variance"," std")):o}}}),SS="corr",Yee=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Zee=Q(SS,Yee,t=>{var{typed:e,matrix:r,sqrt:n,sum:a,add:i,subtract:s,multiply:u,pow:l,divide:o}=t;return e(SS,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var v=c(m.toArray(),h.toArray());return Array.isArray(v)?r(v):v}});function c(d,m){var h=[];if(Array.isArray(d[0])&&Array.isArray(m[0])){if(d.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var v=0;v<d.length;v++){if(d[v].length!==m[v].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(d[v],m[v]))}return h}else{if(d.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,m)}}function f(d,m){var h=d.length,v=a(d),T=a(m),S=d.reduce((x,w,g)=>i(x,u(w,m[g])),0),C=a(d.map(x=>l(x,2))),N=a(m.map(x=>l(x,2))),M=s(u(h,S),u(v,T)),y=n(u(s(u(h,C),l(v,2)),s(u(h,N),l(T,2))));return o(M,y)}}),AS="combinations",ete=["typed"],tte=Q(AS,ete,t=>{var{typed:e}=t;return e(AS,{"number, number":MM,"BigNumber, BigNumber":function(n,a){var i=n.constructor,s,u,l=n.minus(a),o=new i(1);if(!DS(n)||!DS(a))throw new TypeError("Positive integer value expected in function combinations");if(a.gt(n))throw new TypeError("k must be less than n in function combinations");if(s=o,a.lt(l))for(u=o;u.lte(l);u=u.plus(o))s=s.times(a.plus(u)).dividedBy(u);else for(u=o;u.lte(a);u=u.plus(o))s=s.times(l.plus(u)).dividedBy(u);return s}})});function DS(t){return t.isInteger()&&t.gte(0)}var CS="combinationsWithRep",rte=["typed"],nte=Q(CS,rte,t=>{var{typed:e}=t;return e(CS,{"number, number":function(n,a){if(!We(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!We(a)||a<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(a<n-1){var i=di(n,n+a-1);return i/di(1,a)}var s=di(a+1,n+a-1);return s/di(1,n-1)},"BigNumber, BigNumber":function(n,a){var i=n.constructor,s,u,l=new i(1),o=n.minus(l);if(!TS(n)||!TS(a))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=l,a.lt(o))for(u=l;u.lte(o);u=u.plus(l))s=s.times(a.plus(u)).dividedBy(u);else for(u=l;u.lte(a);u=u.plus(l))s=s.times(o.plus(u)).dividedBy(u);return s}})});function TS(t){return t.isInteger()&&t.gte(0)}var MS="gamma",ate=["typed","config","multiplyScalar","pow","BigNumber","Complex"],ite=Q(MS,ate,t=>{var{typed:e,config:r,multiplyScalar:n,pow:a,BigNumber:i,Complex:s}=t;function u(o){if(o.im===0)return Om(o.re);if(o.re<.5){var c=new s(1-o.re,-o.im),f=new s(Math.PI*o.re,Math.PI*o.im);return new s(Math.PI).div(f.sin()).div(u(c))}o=new s(o.re-1,o.im);for(var d=new s(wu[0],0),m=1;m<wu.length;++m){var h=new s(wu[m],0);d=d.add(h.div(o.add(m)))}var v=new s(o.re+PM+.5,o.im),T=Math.sqrt(2*Math.PI),S=v.pow(o.add(.5)),C=v.neg().exp();return d.mul(T).mul(S).mul(C)}return e(MS,{number:Om,Complex:u,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new i(1/0):l(c.minus(1));if(!c.isFinite())return new i(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(o){if(o<8)return new i([1,1,2,6,24,120,720,5040][o]);var c=r.precision+(Math.log(o.toNumber())|0),f=i.clone({precision:c});if(o%2===1)return o.times(l(new i(o-1)));for(var d=o,m=new f(o),h=o.toNumber();d>2;)d-=2,h+=d,m=m.times(h);return new i(m.toPrecision(i.precision))}}),IS="lgamma",ste=["Complex","typed"],ote=Q(IS,ste,t=>{var{Complex:e,typed:r}=t,n=7,a=7,i=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(IS,{number:Bm,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(o){var c=6.283185307179586,f=1.1447298858494002,d=.1;if(o.isNaN())return new e(NaN,NaN);if(o.im===0)return new e(Bm(o.re),0);if(o.re>=n||Math.abs(o.im)>=a)return u(o);if(o.re<=d){var m=zk(c,o.im)*Math.floor(.5*o.re+.25),h=o.mul(Math.PI).sin().log(),v=s(new e(1-o.re,-o.im));return new e(f,m).sub(h).sub(v)}else return o.im>=0?l(o):l(o.conjugate()).conjugate()}function u(o){for(var c=o.sub(.5).mul(o.log()).sub(o).add(FM),f=new e(1,0).div(o),d=f.div(o),m=i[0],h=i[1],v=2*d.re,T=d.re*d.re+d.im*d.im,S=2;S<8;S++){var C=h;h=-T*m+i[S],m=v*m+C}var N=f.mul(d.mul(m).add(h));return c.add(N)}function l(o){var c=0,f=0,d=o;for(o=o.add(1);o.re<=n;){d=d.mul(o);var m=d.im<0?1:0;m!==0&&f===0&&c++,f=m,o=o.add(1)}return u(o).sub(d.log()).sub(new e(0,c*2*Math.PI*1))}}),PS="factorial",ute=["typed","gamma"],lte=Q(PS,ute,t=>{var{typed:e,gamma:r}=t;return e(PS,{number:function(a){if(a<0)throw new Error("Value must be non-negative");return r(a+1)},BigNumber:function(a){if(a.isNegative())throw new Error("Value must be non-negative");return r(a.plus(1))},"Array | Matrix":e.referToSelf(n=>a=>lt(a,n))})}),FS="kldivergence",cte=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],fte=Q(FS,cte,t=>{var{typed:e,matrix:r,divide:n,sum:a,multiply:i,map:s,dotDivide:u,log:l,isNumeric:o}=t;return e(FS,{"Array, Array":function(d,m){return c(r(d),r(m))},"Matrix, Array":function(d,m){return c(d,r(m))},"Array, Matrix":function(d,m){return c(r(d),m)},"Matrix, Matrix":function(d,m){return c(d,m)}});function c(f,d){var m=d.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var v=a(f);if(v===0)throw new Error("Sum of elements in first object must be non zero");var T=a(d);if(T===0)throw new Error("Sum of elements in second object must be non zero");var S=n(f,a(f)),C=n(d,a(d)),N=a(i(S,s(u(S,C),M=>l(M))));return o(N)?N:Number.NaN}}),RS="multinomial",dte=["typed","add","divide","multiply","factorial","isInteger","isPositive"],mte=Q(RS,dte,t=>{var{typed:e,add:r,divide:n,multiply:a,factorial:i,isInteger:s,isPositive:u}=t;return e(RS,{"Array | Matrix":function(o){var c=0,f=1;return ws(o,function(d){if(!s(d)||!u(d))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,d),f=a(f,i(d))}),n(i(c),f)}})}),OS="permutations",hte=["typed","factorial"],pte=Q(OS,hte,t=>{var{typed:e,factorial:r}=t;return e(OS,{"number | BigNumber":r,"number, number":function(a,i){if(!We(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(i>a)throw new TypeError("second argument k must be less than or equal to first argument n");return di(a-i+1,a)},"BigNumber, BigNumber":function(a,i){var s,u;if(!BS(a)||!BS(i))throw new TypeError("Positive integer value expected in function permutations");if(i.gt(a))throw new TypeError("second argument k must be less than or equal to first argument n");var l=a.mul(0).add(1);for(s=l,u=a.minus(i).plus(1);u.lte(a);u=u.plus(1))s=s.times(u);return s}})});function BS(t){return t.isInteger()&&t.gte(0)}var zy={exports:{}};zy.exports;(function(t){(function(e,r,n){function a(l){var o=this,c=u();o.next=function(){var f=2091639*o.s0+o.c*23283064365386963e-26;return o.s0=o.s1,o.s1=o.s2,o.s2=f-(o.c=f|0)},o.c=1,o.s0=c(" "),o.s1=c(" "),o.s2=c(" "),o.s0-=c(l),o.s0<0&&(o.s0+=1),o.s1-=c(l),o.s1<0&&(o.s1+=1),o.s2-=c(l),o.s2<0&&(o.s2+=1),c=null}function i(l,o){return o.c=l.c,o.s0=l.s0,o.s1=l.s1,o.s2=l.s2,o}function s(l,o){var c=new a(l),f=o&&o.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&i(f,c),d.state=function(){return i(c,{})}),d}function u(){var l=4022871197,o=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return o}r&&r.exports?r.exports=s:this.alea=s})(co,t)})(zy);var vte=zy.exports,Vy={exports:{}};Vy.exports;(function(t){(function(e,r,n){function a(u){var l=this,o="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},u===(u|0)?l.x=u:o+=u;for(var c=0;c<o.length+64;c++)l.x^=o.charCodeAt(c)|0,l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l}function s(u,l){var o=new a(u),c=l&&l.state,f=function(){return(o.next()>>>0)/4294967296};return f.double=function(){do var d=o.next()>>>11,m=(o.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},f.int32=o.next,f.quick=f,c&&(typeof c=="object"&&i(c,o),f.state=function(){return i(o,{})}),f}r&&r.exports?r.exports=s:this.xor128=s})(co,t)})(Vy);var gte=Vy.exports,Uy={exports:{}};Uy.exports;(function(t){(function(e,r,n){function a(u){var l=this,o="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,u===(u|0)?l.x=u:o+=u;for(var c=0;c<o.length+64;c++)l.x^=o.charCodeAt(c)|0,c==o.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(u,l){return l.x=u.x,l.y=u.y,l.z=u.z,l.w=u.w,l.v=u.v,l.d=u.d,l}function s(u,l){var o=new a(u),c=l&&l.state,f=function(){return(o.next()>>>0)/4294967296};return f.double=function(){do var d=o.next()>>>11,m=(o.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},f.int32=o.next,f.quick=f,c&&(typeof c=="object"&&i(c,o),f.state=function(){return i(o,{})}),f}r&&r.exports?r.exports=s:this.xorwow=s})(co,t)})(Uy);var yte=Uy.exports,qy={exports:{}};qy.exports;(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var c=l.x,f=l.i,d,m;return d=c[f],d^=d>>>7,m=d^d<<24,d=c[f+1&7],m^=d^d>>>10,d=c[f+3&7],m^=d^d>>>3,d=c[f+4&7],m^=d^d<<7,d=c[f+7&7],d=d^d<<13,m^=d^d<<9,c[f]=m,l.i=f+1&7,m};function o(c,f){var d,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,d=0;d<f.length;++d)m[d&7]=m[d&7]<<15^f.charCodeAt(d)+m[d+1&7]<<13;for(;m.length<8;)m.push(0);for(d=0;d<8&&m[d]===0;++d);for(d==8?m[7]=-1:m[d],c.x=m,c.i=0,d=256;d>0;--d)c.next()}o(l,u)}function i(u,l){return l.x=u.x.slice(),l.i=u.i,l}function s(u,l){u==null&&(u=+new Date);var o=new a(u),c=l&&l.state,f=function(){return(o.next()>>>0)/4294967296};return f.double=function(){do var d=o.next()>>>11,m=(o.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},f.int32=o.next,f.quick=f,c&&(c.x&&i(c,o),f.state=function(){return i(o,{})}),f}r&&r.exports?r.exports=s:this.xorshift7=s})(co,t)})(qy);var xte=qy.exports,Hy={exports:{}};Hy.exports;(function(t){(function(e,r,n){function a(u){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,m,h;return l.w=c=c+1640531527|0,h=f[d+34&127],m=f[d=d+1&127],h^=h<<13,m^=m<<17,h^=h>>>15,m^=m>>>12,h=f[d]=h^m,l.i=d,h+(c^c>>>16)|0};function o(c,f){var d,m,h,v,T,S=[],C=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,C=Math.max(C,f.length)),h=0,v=-32;v<C;++v)f&&(m^=f.charCodeAt((v+32)%f.length)),v===0&&(T=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(T=T+1640531527|0,d=S[v&127]^=m+T,h=d==0?h+1:0);for(h>=128&&(S[(f&&f.length||0)&127]=-1),h=127,v=4*128;v>0;--v)m=S[h+34&127],d=S[h=h+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,S[h]=m^d;c.w=T,c.X=S,c.i=h}o(l,u)}function i(u,l){return l.i=u.i,l.w=u.w,l.X=u.X.slice(),l}function s(u,l){u==null&&(u=+new Date);var o=new a(u),c=l&&l.state,f=function(){return(o.next()>>>0)/4294967296};return f.double=function(){do var d=o.next()>>>11,m=(o.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},f.int32=o.next,f.quick=f,c&&(c.X&&i(c,o),f.state=function(){return i(o,{})}),f}r&&r.exports?r.exports=s:this.xor4096=s})(co,t)})(Hy);var bte=Hy.exports,Gy={exports:{}};Gy.exports;(function(t){(function(e,r,n){function a(u){var l=this,o="";l.next=function(){var f=l.b,d=l.c,m=l.d,h=l.a;return f=f<<25^f>>>7^d,d=d-m|0,m=m<<24^m>>>8^h,h=h-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-m|0,l.d=m<<16^d>>>16^h,l.a=h-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,u===Math.floor(u)?(l.a=u/4294967296|0,l.b=u|0):o+=u;for(var c=0;c<o.length+20;c++)l.b^=o.charCodeAt(c)|0,l.next()}function i(u,l){return l.a=u.a,l.b=u.b,l.c=u.c,l.d=u.d,l}function s(u,l){var o=new a(u),c=l&&l.state,f=function(){return(o.next()>>>0)/4294967296};return f.double=function(){do var d=o.next()>>>11,m=(o.next()>>>0)/4294967296,h=(d+m)/(1<<21);while(h===0);return h},f.int32=o.next,f.quick=f,c&&(typeof c=="object"&&i(c,o),f.state=function(){return i(o,{})}),f}r&&r.exports?r.exports=s:this.tychei=s})(co,t)})(Gy);var wte=Gy.exports,F4={exports:{}};const Nte={},_te=Object.freeze(Object.defineProperty({__proto__:null,default:Nte},Symbol.toStringTag,{value:"Module"})),Ete=nF(_te);(function(t){(function(e,r,n){var a=256,i=6,s=52,u="random",l=n.pow(a,i),o=n.pow(2,s),c=o*2,f=a-1,d;function m(M,y,x){var w=[];y=y==!0?{entropy:!0}:y||{};var g=S(T(y.entropy?[M,N(r)]:M??C(),3),w),_=new h(w),E=function(){for(var b=_.g(i),A=l,I=0;b<o;)b=(b+I)*a,A*=a,I=_.g(1);for(;b>=c;)b/=2,A/=2,I>>>=1;return(b+I)/A};return E.int32=function(){return _.g(4)|0},E.quick=function(){return _.g(4)/4294967296},E.double=E,S(N(_.S),r),(y.pass||x||function(b,A,I,F){return F&&(F.S&&v(F,_),b.state=function(){return v(_,{})}),I?(n[u]=b,A):b})(E,g,"global"in y?y.global:this==n,y.state)}function h(M){var y,x=M.length,w=this,g=0,_=w.i=w.j=0,E=w.S=[];for(x||(M=[x++]);g<a;)E[g]=g++;for(g=0;g<a;g++)E[g]=E[_=f&_+M[g%x]+(y=E[g])],E[_]=y;(w.g=function(b){for(var A,I=0,F=w.i,B=w.j,P=w.S;b--;)A=P[F=f&F+1],I=I*a+P[f&(P[F]=P[B=f&B+A])+(P[B]=A)];return w.i=F,w.j=B,I})(a)}function v(M,y){return y.i=M.i,y.j=M.j,y.S=M.S.slice(),y}function T(M,y){var x=[],w=typeof M,g;if(y&&w=="object")for(g in M)try{x.push(T(M[g],y-1))}catch{}return x.length?x:w=="string"?M:M+"\0"}function S(M,y){for(var x=M+"",w,g=0;g<x.length;)y[f&g]=f&(w^=y[f&g]*19)+x.charCodeAt(g++);return N(y)}function C(){try{var M;return d&&(M=d.randomBytes)?M=M(a):(M=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(M)),N(M)}catch{var y=e.navigator,x=y&&y.plugins;return[+new Date,e,x,e.screen,N(r)]}}function N(M){return String.fromCharCode.apply(0,M)}if(S(n.random(),r),t.exports){t.exports=m;try{d=Ete}catch{}}else n["seed"+u]=m})(typeof self<"u"?self:co,[],Math)})(F4);var Ste=F4.exports,Ate=vte,Dte=gte,Cte=yte,Tte=xte,Mte=bte,Ite=wte,_o=Ste;_o.alea=Ate;_o.xor128=Dte;_o.xorwow=Cte;_o.xorshift7=Tte;_o.xor4096=Mte;_o.tychei=Ite;var Pte=_o;const R4=Qm(Pte);var Fte=R4(Date.now());function zu(t){var e;function r(a){e=a===null?Fte:R4(String(a))}r(t);function n(){return e()}return n}var jS="pickRandom",Rte=["typed","config","?on"],Ote=Q(jS,Rte,t=>{var{typed:e,config:r,on:n}=t,a=zu(r.randomSeed);return n&&n("config",function(s,u){s.randomSeed!==u.randomSeed&&(a=zu(s.randomSeed))}),e(jS,{"Array | Matrix":function(u){return i(u,{})},"Array | Matrix, Object":function(u,l){return i(u,l)},"Array | Matrix, number":function(u,l){return i(u,{number:l})},"Array | Matrix, Array | Matrix":function(u,l){return i(u,{weights:l})},"Array | Matrix, Array | Matrix, number":function(u,l,o){return i(u,{number:o,weights:l})},"Array | Matrix, number, Array | Matrix":function(u,l,o){return i(u,{number:l,weights:o})}});function i(s,u){var{number:l,weights:o,elementWise:c=!0}=u,f=typeof l>"u";f&&(l=1);var d=Ye(s)?s.create:Ye(o)?o.create:null;s=s.valueOf(),o&&(o=o.valueOf()),c===!0&&(s=Ct(s),o=Ct(o));var m=0;if(typeof o<"u"){if(o.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var h=0,v=o.length;h<v;h++){if(!Xe(o[h])||o[h]<0)throw new Error("Weights must be an array of positive numbers");m+=o[h]}}for(var T=s.length,S=[],C;S.length<l;){if(typeof o>"u")C=s[Math.floor(a()*T)];else for(var N=a()*m,M=0,y=s.length;M<y;M++)if(N-=o[M],N<0){C=s[M];break}S.push(C)}return f?S[0]:d?d(S):S}});function Wy(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,a=t.shift();n<a;n++)r.push(Wy(t,e));else for(var i=0,s=t.shift();i<s;i++)r.push(e());return r}var kS="random",Bte=["typed","config","?on"],jte=Q(kS,Bte,t=>{var{typed:e,config:r,on:n}=t,a=zu(r.randomSeed);return n&&n("config",function(u,l){u.randomSeed!==l.randomSeed&&(a=zu(u.randomSeed))}),e(kS,{"":()=>s(0,1),number:u=>s(0,u),"number, number":(u,l)=>s(u,l),"Array | Matrix":u=>i(u,0,1),"Array | Matrix, number":(u,l)=>i(u,0,l),"Array | Matrix, number, number":(u,l,o)=>i(u,l,o)});function i(u,l,o){var c=Wy(u.valueOf(),()=>s(l,o));return Ye(u)?u.create(c,"number"):c}function s(u,l){return u+a()*(l-u)}}),$S="randomInt",kte=["typed","config","log2","?on"],$te=Q($S,kte,t=>{var{typed:e,config:r,log2:n,on:a}=t,i=zu(r.randomSeed);return a&&a("config",function(o,c){o.randomSeed!==c.randomSeed&&(i=zu(o.randomSeed))}),e($S,{"":()=>u(0,2),number:o=>u(0,o),"number, number":(o,c)=>u(o,c),bigint:o=>l(0n,o),"bigint, bigint":l,"Array | Matrix":o=>s(o,0,1),"Array | Matrix, number":(o,c)=>s(o,0,c),"Array | Matrix, number, number":(o,c,f)=>s(o,c,f)});function s(o,c,f){var d=Wy(o.valueOf(),()=>u(c,f));return Ye(o)?o.create(d,"number"):d}function u(o,c){return Math.floor(o+i()*(c-o))}function l(o,c){var f=2n**30n,d=c-o;if(d<=f)return o+BigInt(u(0,Number(d)));for(var m=n(d),h=d;h>=d;){h=0n;for(var v=0;v<m;++v)h=2n*h+(i()<.5?0n:1n)}return o+h}}),LS="stirlingS2",Lte=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],zte=Q(LS,Lte,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:a,divideScalar:i,pow:s,factorial:u,combinations:l,isNegative:o,isInteger:c,number:f,bignumber:d,larger:m}=t,h=[],v=[];return e(LS,{"number | BigNumber, number | BigNumber":function(S,C){if(!c(S)||o(S)||!c(C)||o(C))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(C,S))throw new TypeError("k must be less than or equal to n in function stirlingS2");var N=!(Xe(S)&&Xe(C)),M=N?v:h,y=N?d:f,x=f(S),w=f(C);if(M[x]&&M[x].length>w)return M[x][w];for(var g=0;g<=x;++g)if(M[g]||(M[g]=[y(g===0?1:0)]),g!==0)for(var _=M[g],E=M[g-1],b=_.length;b<=g&&b<=w;++b)b===g?_[b]=1:_[b]=r(a(y(b),E[b]),E[b-1]);return M[x][w]}})}),zS="bellNumbers",Vte=["typed","addScalar","isNegative","isInteger","stirlingS2"],Ute=Q(zS,Vte,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:a,stirlingS2:i}=t;return e(zS,{"number | BigNumber":function(u){if(!a(u)||n(u))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,o=0;o<=u;o++)l=r(l,i(u,o));return l}})}),VS="catalan",qte=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Hte=Q(VS,qte,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:a,combinations:i,isNegative:s,isInteger:u}=t;return e(VS,{"number | BigNumber":function(o){if(!u(o)||s(o))throw new TypeError("Non-negative integer value expected in function catalan");return n(i(a(o,2),o),r(o,1))}})}),US="composition",Gte=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Wte=Q(US,Gte,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:a,isNegative:i,isInteger:s,larger:u}=t;return e(US,{"number | BigNumber, number | BigNumber":function(o,c){if(!s(o)||!a(o)||!s(c)||!a(c))throw new TypeError("Positive integer value expected in function composition");if(u(c,o))throw new TypeError("k must be less than or equal to n in function composition");return n(r(o,-1),r(c,-1))}})}),qS="leafCount",Qte=["parse","typed"],Xte=Q(qS,Qte,t=>{var{parse:e,typed:r}=t;function n(a){var i=0;return a.forEach(s=>{i+=n(s)}),i||1}return r(qS,{Node:function(i){return n(i)}})});function HS(t){return Nt(t)||br(t)&&t.isUnary()&&Nt(t.args[0])}function Gm(t){return!!(Nt(t)||(ys(t)||br(t))&&t.args.every(Gm)||_i(t)&&Gm(t.content))}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kte="simplifyUtil",Jte=["FunctionNode","OperatorNode","SymbolNode"],Qy=Q(Kte,Jte,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,a=!0,i=!1,s="defaultF",u={add:{trivial:a,total:a,commutative:a,associative:a},unaryPlus:{trivial:a,total:a,commutative:a,associative:a},subtract:{trivial:i,total:a,commutative:i,associative:i},multiply:{trivial:a,total:a,commutative:a,associative:a},divide:{trivial:i,total:a,commutative:i,associative:i},paren:{trivial:a,total:a,commutative:a,associative:i},defaultF:{trivial:i,total:a,commutative:i,associative:i}},l={divide:{total:i},log:{total:i}},o={subtract:{total:i},abs:{trivial:a},log:{total:a}};function c(N,M){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,x=s;if(typeof N=="string"?x=N:br(N)?x=N.fn.toString():ys(N)?x=N.name:_i(N)&&(x="paren"),He(y,x)){var w=y[x];if(He(w,M))return w[M];if(He(u,x))return u[x][M]}if(He(y,s)){var g=y[s];return He(g,M)?g[M]:u[s][M]}if(He(u,x)){var _=u[x];if(He(_,M))return _[M]}return u[s][M]}function f(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(N,"commutative",M)}function d(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;return c(N,"associative",M)}function m(N,M){var y=tv({},N);for(var x in M)He(N,x)?y[x]=tv(tv({},M[x]),N[x]):y[x]=M[x];return y}function h(N,M){if(!N.args||N.args.length===0)return N;N.args=v(N,M);for(var y=0;y<N.args.length;y++)h(N.args[y],M)}function v(N,M){var y,x=[],w=function(_){for(var E=0;E<_.args.length;E++){var b=_.args[E];br(b)&&y===b.op?w(b):x.push(b)}};return d(N,M)?(y=N.op,w(N),x):N.args}function T(N,M){if(!(!N.args||N.args.length===0)){for(var y=C(N),x=N.args.length,w=0;w<x;w++)T(N.args[w],M);if(x>2&&d(N,M)){for(var g=N.args.pop();N.args.length>0;)g=y([N.args.pop(),g]);N.args=g.args}}}function S(N,M){if(!(!N.args||N.args.length===0)){for(var y=C(N),x=N.args.length,w=0;w<x;w++)S(N.args[w],M);if(x>2&&d(N,M)){for(var g=N.args.shift();N.args.length>0;)g=y([g,N.args.shift()]);N.args=g.args}}}function C(N){return br(N)?function(M){try{return new r(N.op,N.fn,M,N.implicit)}catch(y){return console.error(y),[]}}:function(M){return new e(new n(N.name),M)}}return{createMakeNodeFunction:C,hasProperty:c,isCommutative:f,isAssociative:d,mergeContext:m,flatten:h,allChildren:v,unflattenr:T,unflattenl:S,defaultContext:u,realContext:l,positiveContext:o}}),Yte="simplify",Zte=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],ere=Q(Yte,Zte,t=>{var{typed:e,parse:r,equal:n,resolve:a,simplifyConstant:i,simplifyCore:s,AccessorNode:u,ArrayNode:l,ConstantNode:o,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:m,ParenthesisNode:h,SymbolNode:v,replacer:T}=t,{hasProperty:S,isCommutative:C,isAssociative:N,mergeContext:M,flatten:y,unflattenr:x,unflattenl:w,createMakeNodeFunction:g,defaultContext:_,realContext:E,positiveContext:b}=Qy({FunctionNode:c,OperatorNode:m,SymbolNode:v});e.addConversion({from:"Object",to:"Map",convert:xu});var A=e("simplify",{Node:k,"Node, Map":(H,J)=>k(H,!1,J),"Node, Map, Object":(H,J,re)=>k(H,!1,J,re),"Node, Array":k,"Node, Array, Map":k,"Node, Array, Map, Object":k});e.removeConversion({from:"Object",to:"Map",convert:xu}),A.defaultContext=_,A.realContext=E,A.positiveContext=b;function I(H){return H.transform(function(J){return _i(J)?I(J.content):J})}var F={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};A.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},i,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},i,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function B(H,J){var re={};if(H.s){var ie=H.s.split("->");if(ie.length===2)re.l=ie[0],re.r=ie[1];else throw SyntaxError("Could not parse rule: "+H.s)}else re.l=H.l,re.r=H.r;re.l=I(r(re.l)),re.r=I(r(re.r));for(var se of["imposeContext","repeat","assuming"])se in H&&(re[se]=H[se]);if(H.evaluate&&(re.evaluate=r(H.evaluate)),N(re.l,J)){var ve=!C(re.l,J),me;ve&&(me=$());var Ne=g(re.l),Be=$();re.expanded={},re.expanded.l=Ne([re.l,Be]),y(re.expanded.l,J),x(re.expanded.l,J),re.expanded.r=Ne([re.r,Be]),ve&&(re.expandedNC1={},re.expandedNC1.l=Ne([me,re.l]),re.expandedNC1.r=Ne([me,re.r]),re.expandedNC2={},re.expandedNC2.l=Ne([me,re.expanded.l]),re.expandedNC2.r=Ne([me,re.expanded.r]))}return re}function P(H,J){for(var re=[],ie=0;ie<H.length;ie++){var se=H[ie],ve=void 0,me=typeof se;switch(me){case"string":se={s:se};case"object":ve=B(se,J);break;case"function":ve=se;break;default:throw TypeError("Unsupported type of rule: "+me)}re.push(ve)}return re}var L=0;function $(){return new v("_p"+L++)}function k(H,J){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jc(),ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},se=ie.consoleDebug;J=P(J||A.rules,ie.context);var ve=a(H,re);ve=I(ve);for(var me={},Ne=ve.toString({parenthesis:"all"});!me[Ne];){me[Ne]=!0,L=0;var Be=Ne;se&&console.log("Working on: ",Ne);for(var Le=0;Le<J.length;Le++){var Ee="";if(typeof J[Le]=="function"?(ve=J[Le](ve,ie),se&&(Ee=J[Le].name)):(y(ve,ie.context),ve=ee(ve,J[Le],ie.context),se&&(Ee="".concat(J[Le].l.toString()," -> ").concat(J[Le].r.toString()))),se){var De=ve.toString({parenthesis:"all"});De!==Be&&(console.log("Applying",Ee,"produced",De),Be=De)}w(ve,ie.context)}Ne=ve.toString({parenthesis:"all"})}return ve}function V(H,J,re){var ie=H;if(H)for(var se=0;se<H.length;++se){var ve=ee(H[se],J,re);ve!==H[se]&&(ie===H&&(ie=H.slice()),ie[se]=ve)}return ie}function ee(H,J,re){if(J.assuming){for(var ie in J.assuming)for(var se in J.assuming[ie])if(S(ie,se,re)!==J.assuming[ie][se])return H}var ve=M(J.imposeContext,re),me=H;if(me instanceof m||me instanceof c){var Ne=V(me.args,J,re);Ne!==me.args&&(me=me.clone(),me.args=Ne)}else if(me instanceof h){if(me.content){var Be=ee(me.content,J,re);Be!==me.content&&(me=new h(Be))}}else if(me instanceof l){var Le=V(me.items,J,re);Le!==me.items&&(me=new l(Le))}else if(me instanceof u){var Ee=me.object;me.object&&(Ee=ee(me.object,J,re));var De=me.index;me.index&&(De=ee(me.index,J,re)),(Ee!==me.object||De!==me.index)&&(me=new u(Ee,De))}else if(me instanceof f){var G=V(me.dimensions,J,re);G!==me.dimensions&&(me=new f(G))}else if(me instanceof d){var te=!1,ce={};for(var q in me.properties)ce[q]=ee(me.properties[q],J,re),ce[q]!==me.properties[q]&&(te=!0);te&&(me=new d(ce))}var Y=J.r,ne=ue(J.l,me,ve)[0];if(!ne&&J.expanded&&(Y=J.expanded.r,ne=ue(J.expanded.l,me,ve)[0]),!ne&&J.expandedNC1&&(Y=J.expandedNC1.r,ne=ue(J.expandedNC1.l,me,ve)[0],ne||(Y=J.expandedNC2.r,ne=ue(J.expandedNC2.l,me,ve)[0])),ne){var oe=me.implicit;me=Y.clone(),oe&&"implicit"in Y&&(me.implicit=!0),me=me.transform(function(fe){return fe.isSymbolNode&&He(ne.placeholders,fe.name)?ne.placeholders[fe.name].clone():fe})}return J.repeat&&me!==H&&(me=ee(me,J,re)),me}function j(H,J){var re=[],ie,se,ve=g(H);if(C(H,J))for(var me=0;me<H.args.length;me++)se=H.args.slice(0),se.splice(me,1),ie=se.length===1?se[0]:ve(se),re.push(ve([H.args[me],ie]));else for(var Ne=1;Ne<H.args.length;Ne++){var Be=H.args[0];Ne>1&&(Be=ve(H.args.slice(0,Ne))),se=H.args.slice(Ne),ie=se.length===1?se[0]:ve(se),re.push(ve([Be,ie]))}return re}function X(H,J){var re={placeholders:{}};if(!H.placeholders&&!J.placeholders)return re;if(H.placeholders){if(!J.placeholders)return H}else return J;for(var ie in H.placeholders)if(He(H.placeholders,ie)&&(re.placeholders[ie]=H.placeholders[ie],He(J.placeholders,ie)&&!le(H.placeholders[ie],J.placeholders[ie])))return null;for(var se in J.placeholders)He(J.placeholders,se)&&(re.placeholders[se]=J.placeholders[se]);return re}function U(H,J){var re=[];if(H.length===0||J.length===0)return re;for(var ie,se=0;se<H.length;se++)for(var ve=0;ve<J.length;ve++)ie=X(H[se],J[ve]),ie&&re.push(ie);return re}function de(H){if(H.length===0)return H;for(var J=H.reduce(U),re=[],ie={},se=0;se<J.length;se++){var ve=JSON.stringify(J[se],T);ie[ve]||(ie[ve]=!0,re.push(J[se]))}return re}function ue(H,J,re,ie){var se=[{placeholders:{}}];if(H instanceof m&&J instanceof m||H instanceof c&&J instanceof c){if(H instanceof m){if(H.op!==J.op||H.fn!==J.fn)return[]}else if(H instanceof c&&H.name!==J.name)return[];if(J.args.length===1&&H.args.length===1||!N(J,re)&&J.args.length===H.args.length||ie){for(var ve=[],me=0;me<H.args.length;me++){var Ne=ue(H.args[me],J.args[me],re);if(Ne.length===0)break;ve.push(Ne)}if(ve.length!==H.args.length){if(!C(J,re)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Be=ue(H.args[0],J.args[1],re);if(Be.length===0)return[];var Le=ue(H.args[1],J.args[0],re);if(Le.length===0)return[];ve=[Be,Le]}se=de(ve)}else if(J.args.length>=2&&H.args.length===2){for(var Ee=j(J,re),De=[],G=0;G<Ee.length;G++){var te=ue(H,Ee[G],re,!0);De=De.concat(te)}return De}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof v){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(F[H.name]){if(H.name!==J.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":se[0].placeholders[H.name]=J;break;case"c":case"cl":if(Nt(J))se[0].placeholders[H.name]=J;else return[];break;case"v":if(!Nt(J))se[0].placeholders[H.name]=J;else return[];break;case"vl":if(Qr(J))se[0].placeholders[H.name]=J;else return[];break;case"cd":if(HS(J))se[0].placeholders[H.name]=J;else return[];break;case"vd":if(!HS(J))se[0].placeholders[H.name]=J;else return[];break;case"ce":if(Gm(J))se[0].placeholders[H.name]=J;else return[];break;case"ve":if(!Gm(J))se[0].placeholders[H.name]=J;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof o){if(!n(H.value,J.value))return[]}else return[];return se}function le(H,J){if(H instanceof o&&J instanceof o){if(!n(H.value,J.value))return!1}else if(H instanceof v&&J instanceof v){if(H.name!==J.name)return!1}else if(H instanceof m&&J instanceof m||H instanceof c&&J instanceof c){if(H instanceof m){if(H.op!==J.op||H.fn!==J.fn)return!1}else if(H instanceof c&&H.name!==J.name)return!1;if(H.args.length!==J.args.length)return!1;for(var re=0;re<H.args.length;re++)if(!le(H.args[re],J.args[re]))return!1}else return!1;return!0}return A}),tre="simplifyConstant",rre=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],nre=Q(tre,rre,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:a,fraction:i,bignumber:s,AccessorNode:u,ArrayNode:l,ConstantNode:o,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:m,SymbolNode:h}=t,{isCommutative:v,isAssociative:T,allChildren:S,createMakeNodeFunction:C}=Qy({FunctionNode:c,OperatorNode:m,SymbolNode:h}),N=e("simplifyConstant",{Node:B=>w(F(B,{})),"Node, Object":function(P,L){return w(F(P,L))}});function M(B){return Zc(B)?B.valueOf():B instanceof Array?B.map(M):Ye(B)?a(M(B.valueOf())):B}function y(B,P,L){try{return n[B].apply(null,P)}catch{return P=P.map(M),_(n[B].apply(null,P),L)}}var x=e({Fraction:b,number:function(P){return P<0?E(new o(-P)):new o(P)},BigNumber:function(P){return P<0?E(new o(-P)):new o(P)},bigint:function(P){return P<0n?E(new o(-P)):new o(P)},Complex:function(P){throw new Error("Cannot convert Complex number to Node")},string:function(P){return new o(P)},Matrix:function(P){return new l(P.valueOf().map(L=>x(L)))}});function w(B){return Ht(B)?B:x(B)}function g(B,P){var L=P&&P.exactFractions!==!1;if(L&&isFinite(B)&&i){var $=i(B),k=P&&typeof P.fractionsLimit=="number"?P.fractionsLimit:1/0;if($.valueOf()===B&&$.n<k&&$.d<k)return $}return B}var _=e({"string, Object":function(P,L){var $=Ss(P,r);if($==="BigNumber")return s===void 0&&jy(),s(P);if($==="bigint")return BigInt(P);if($==="Fraction")return i===void 0&&m4(),i(P);var k=parseFloat(P);return g(k,L)},"Fraction, Object":function(P,L){return P},"BigNumber, Object":function(P,L){return P},"number, Object":function(P,L){return g(P,L)},"bigint, Object":function(P,L){return P},"Complex, Object":function(P,L){return P.im!==0?P:g(P.re,L)},"Matrix, Object":function(P,L){return a(g(P.valueOf()))},"Array, Object":function(P,L){return P.map(g)}});function E(B){return new m("-","unaryMinus",[B])}function b(B){var P=k=>r.number==="BigNumber"&&s?s(k):Number(k),L=B.s*B.n,$=L<0n?new m("-","unaryMinus",[new o(-P(L))]):new o(P(L));return B.d===1n?$:new m("/","divide",[$,new o(P(B.d))])}function A(B,P,L){if(!el(P))return new u(w(B),w(P));if(aa(B)||Ye(B)){for(var $=Array.from(P.dimensions);$.length>0;)if(Nt($[0])&&typeof $[0].value!="string"){var k=_($.shift().value,L);aa(B)?B=B.items[k-1]:(B=B.valueOf()[k-1],B instanceof Array&&(B=a(B)))}else if($.length>1&&Nt($[1])&&typeof $[1].value!="string"){var V=_($[1].value,L),ee=[],j=aa(B)?B.items:B.valueOf();for(var X of j)if(aa(X))ee.push(X.items[V-1]);else if(Ye(B))ee.push(X[V-1]);else break;if(ee.length===j.length)aa(B)?B=new l(ee):B=a(ee),$.splice(1,1);else break}else break;return $.length===P.dimensions.length?new u(w(B),P):$.length>0?(P=new f($),new u(w(B),P)):B}if(Mh(B)&&P.dimensions.length===1&&Nt(P.dimensions[0])){var U=P.dimensions[0].value;return U in B.properties?B.properties[U]:new o}return new u(w(B),P)}function I(B,P,L,$){var k=P.shift(),V=P.reduce((ee,j)=>{if(!Ht(j)){var X=ee.pop();if(Ht(X))return[X,j];try{return ee.push(y(B,[X,j],$)),ee}catch{ee.push(X)}}ee.push(w(ee.pop()));var U=ee.length===1?ee[0]:L(ee);return[L([U,w(j)])]},[k]);return V.length===1?V[0]:L([V[0],x(V[1])])}function F(B,P){switch(B.type){case"SymbolNode":return B;case"ConstantNode":switch(typeof B.value){case"number":return _(B.value,P);case"bigint":return _(B.value,P);case"string":return B.value;default:if(!isNaN(B.value))return _(B.value,P)}return B;case"FunctionNode":if(n[B.name]&&n[B.name].rawArgs)return B;{var L=["add","multiply"];if(!L.includes(B.name)){var $=B.args.map(ie=>F(ie,P));if(!$.some(Ht))try{return y(B.name,$,P)}catch{}if(B.name==="size"&&$.length===1&&aa($[0])){for(var k=[],V=$[0];aa(V);)k.push(V.items.length),V=V.items[0];return a(k)}return new c(B.name,$.map(w))}}case"OperatorNode":{var ee=B.fn.toString(),j,X,U=C(B);if(br(B)&&B.isUnary())j=[F(B.args[0],P)],Ht(j[0])?X=U(j):X=y(ee,j,P);else if(T(B,P.context))if(j=S(B,P.context),j=j.map(ie=>F(ie,P)),v(ee,P.context)){for(var de=[],ue=[],le=0;le<j.length;le++)Ht(j[le])?ue.push(j[le]):de.push(j[le]);de.length>1?(X=I(ee,de,U,P),ue.unshift(X),X=I(ee,ue,U,P)):X=I(ee,j,U,P)}else X=I(ee,j,U,P);else j=B.args.map(ie=>F(ie,P)),X=I(ee,j,U,P);return X}case"ParenthesisNode":return F(B.content,P);case"AccessorNode":return A(F(B.object,P),F(B.index,P),P);case"ArrayNode":{var H=B.items.map(ie=>F(ie,P));return H.some(Ht)?new l(H.map(w)):a(H)}case"IndexNode":return new f(B.dimensions.map(ie=>N(ie,P)));case"ObjectNode":{var J={};for(var re in B.properties)J[re]=N(B.properties[re],P);return new d(J)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(B.type))}}return N}),WS="simplifyCore",are=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],ire=Q(WS,are,t=>{var{typed:e,parse:r,equal:n,isZero:a,add:i,subtract:s,multiply:u,divide:l,pow:o,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:m,IndexNode:h,ObjectNode:v,OperatorNode:T,ParenthesisNode:S,SymbolNode:C}=t,N=new d(0),M=new d(1),y=new d(!0),x=new d(!1);function w(b){return br(b)&&["and","not","or"].includes(b.op)}var{hasProperty:g,isCommutative:_}=Qy({FunctionNode:m,OperatorNode:T,SymbolNode:C});function E(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=A?A.context:void 0;if(g(b,"trivial",I)){if(ys(b)&&b.args.length===1)return E(b.args[0],A);var F=!1,B=0;if(b.forEach(ue=>{++B,B===1&&(F=E(ue,A))}),B===1)return F}var P=b;if(ys(P)){var L=eQ(P.name);if(L){if(P.args.length>2&&g(P,"associative",I))for(;P.args.length>2;){var $=P.args.pop(),k=P.args.pop();P.args.push(new T(L,P.name,[$,k]))}P=new T(L,P.name,P.args)}else return new m(E(P.fn),P.args.map(ue=>E(ue,A)))}if(br(P)&&P.isUnary()){var V=E(P.args[0],A);if(P.op==="~"&&br(V)&&V.isUnary()&&V.op==="~"||P.op==="not"&&br(V)&&V.isUnary()&&V.op==="not"&&w(V.args[0]))return V.args[0];var ee=!0;if(P.op==="-"&&br(V)&&(V.isBinary()&&V.fn==="subtract"&&(P=new T("-","subtract",[V.args[1],V.args[0]]),ee=!1),V.isUnary()&&V.op==="-"))return V.args[0];if(ee)return new T(P.op,P.fn,[V])}if(br(P)&&P.isBinary()){var j=E(P.args[0],A),X=E(P.args[1],A);if(P.op==="+"){if(Nt(j)&&a(j.value))return X;if(Nt(X)&&a(X.value))return j;br(X)&&X.isUnary()&&X.op==="-"&&(X=X.args[0],P=new T("-","subtract",[j,X]))}if(P.op==="-")return br(X)&&X.isUnary()&&X.op==="-"?E(new T("+","add",[j,X.args[0]]),A):Nt(j)&&a(j.value)?E(new T("-","unaryMinus",[X])):Nt(X)&&a(X.value)?j:new T(P.op,P.fn,[j,X]);if(P.op==="*"){if(Nt(j)){if(a(j.value))return N;if(n(j.value,1))return X}if(Nt(X)){if(a(X.value))return N;if(n(X.value,1))return j;if(_(P,I))return new T(P.op,P.fn,[X,j],P.implicit)}return new T(P.op,P.fn,[j,X],P.implicit)}if(P.op==="/")return Nt(j)&&a(j.value)?N:Nt(X)&&n(X.value,1)?j:new T(P.op,P.fn,[j,X]);if(P.op==="^"&&Nt(X)){if(a(X.value))return M;if(n(X.value,1))return j}if(P.op==="and"){if(Nt(j))if(j.value){if(w(X))return X;if(Nt(X))return X.value?y:x}else return x;if(Nt(X))if(X.value){if(w(j))return j}else return x}if(P.op==="or"){if(Nt(j)){if(j.value)return y;if(w(X))return X}if(Nt(X)){if(X.value)return y;if(w(j))return j}}return new T(P.op,P.fn,[j,X])}if(br(P))return new T(P.op,P.fn,P.args.map(ue=>E(ue,A)));if(aa(P))return new f(P.items.map(ue=>E(ue,A)));if(uo(P))return new c(E(P.object,A),E(P.index,A));if(el(P))return new h(P.dimensions.map(ue=>E(ue,A)));if(Mh(P)){var U={};for(var de in P.properties)U[de]=E(P.properties[de],A);return new v(U)}return P}return e(WS,{Node:E,"Node,Object":E})}),sre="resolve",ore=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],ure=Q(sre,ore,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:a,OperatorNode:i,ParenthesisNode:s}=t;function u(l,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!o)return l;if(Qr(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=o.get(l.name);if(Ht(d)){var m=new Set(c);return m.add(l.name),u(d,o,m)}else return typeof d=="number"?r(String(d)):d!==void 0?new n(d):l}else if(br(l)){var h=l.args.map(function(T){return u(T,o,c)});return new i(l.op,l.fn,h,l.implicit)}else{if(_i(l))return new s(u(l.content,o,c));if(ys(l)){var v=l.args.map(function(T){return u(T,o,c)});return new a(l.name,v)}}return l.map(T=>u(T,o,c))}return e("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(l,o)=>u(l,xu(o)),"Array | Matrix":e.referToSelf(l=>o=>o.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>o=>o.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(o,c)=>l(o,xu(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(o,c)=>l(o,xu(c))),"Array | Matrix, Map":e.referToSelf(l=>(o,c)=>o.map(f=>l(f,c)))})}),QS="symbolicEqual",lre=["parse","simplify","typed","OperatorNode"],cre=Q(QS,lre,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:a}=t;function i(s,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=new a("-","subtract",[s,u]),c=r(o,{},l);return Nt(c)&&!c.value}return n(QS,{"Node, Node":i,"Node, Node, Object":i})}),XS="derivative",fre=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],dre=Q(XS,fre,t=>{var{typed:e,config:r,parse:n,simplify:a,equal:i,isZero:s,numeric:u,ConstantNode:l,FunctionNode:o,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=t;function m(M,y){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},w=new Map,g=y.name;function _(b){var A=w.get(b);if(A!==void 0)return A;var I=S(_,b,g);return w.set(b,I),I}var E=C(M,_);return x.simplify?a(E):E}function h(M){var y=n(M);if(!y.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(M)," into a variable in function derivative"));return y}var v=e(XS,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m,"Node, string":(M,y)=>m(M,h(y)),"Node, string, Object":(M,y,x)=>m(M,h(y),x)});v._simplify=!0,v.toTex=function(M){return T.apply(null,M.args)};var T=e("_derivTex",{"Node, SymbolNode":function(y,x){return Nt(y)&&Xt(y.value)==="string"?T(n(y.value).toString(),x.toString(),1):T(y.toTex(),x.toString(),1)},"Node, ConstantNode":function(y,x){if(Xt(x.value)==="string")return T(y,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(y,x,w){return T(y.toString(),x.name,w.value)},"string, string, number":function(y,x,w){var g;return w===1?g="{d\\over d"+x+"}":g="{d^{"+w+"}\\over d"+x+"^{"+w+"}}",g+"\\left[".concat(y,"\\right]")}}),S=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(y,x,w){return x.name!==w},"function, ParenthesisNode, string":function(y,x,w){return y(x.content,w)},"function, FunctionAssignmentNode, string":function(y,x,w){return x.params.includes(w)?y(x.expr,w):!0},"function, FunctionNode | OperatorNode, string":function(y,x,w){return x.args.every(g=>y(g,w))}}),C=e("_derivative",{"ConstantNode, function":function(){return N(0)},"SymbolNode, function":function(y,x){return x(y)?N(0):N(1)},"ParenthesisNode, function":function(y,x){return new f(C(y.content,x))},"FunctionAssignmentNode, function":function(y,x){return x(y)?N(0):C(y.expr,x)},"FunctionNode, function":function(y,x){if(x(y))return N(0);var w=y.args[0],g,_=!1,E=!1,b;switch(y.name){case"cbrt":_=!0,b=new c("*","multiply",[N(3),new c("^","pow",[w,new c("/","divide",[N(2),N(3)])])]);break;case"sqrt":case"nthRoot":if(y.args.length===1)_=!0,b=new c("*","multiply",[N(2),new o("sqrt",[w])]);else if(y.args.length===2)return g=new c("/","divide",[N(1),y.args[1]]),C(new c("^","pow",[w,g]),x);break;case"log10":g=N(10);case"log":if(!g&&y.args.length===1)b=w.clone(),_=!0;else if(y.args.length===1&&g||y.args.length===2&&x(y.args[1]))b=new c("*","multiply",[w.clone(),new o("log",[g||y.args[1]])]),_=!0;else if(y.args.length===2)return C(new c("/","divide",[new o("log",[w]),new o("log",[y.args[1]])]),x);break;case"pow":if(y.args.length===2)return C(new c("^","pow",[w,y.args[1]]),x);break;case"exp":b=new o("exp",[w.clone()]);break;case"sin":b=new o("cos",[w.clone()]);break;case"cos":b=new c("-","unaryMinus",[new o("sin",[w.clone()])]);break;case"tan":b=new c("^","pow",[new o("sec",[w.clone()]),N(2)]);break;case"sec":b=new c("*","multiply",[y,new o("tan",[w.clone()])]);break;case"csc":E=!0,b=new c("*","multiply",[y,new o("cot",[w.clone()])]);break;case"cot":E=!0,b=new c("^","pow",[new o("csc",[w.clone()]),N(2)]);break;case"asin":_=!0,b=new o("sqrt",[new c("-","subtract",[N(1),new c("^","pow",[w.clone(),N(2)])])]);break;case"acos":_=!0,E=!0,b=new o("sqrt",[new c("-","subtract",[N(1),new c("^","pow",[w.clone(),N(2)])])]);break;case"atan":_=!0,b=new c("+","add",[new c("^","pow",[w.clone(),N(2)]),N(1)]);break;case"asec":_=!0,b=new c("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new c("-","subtract",[new c("^","pow",[w.clone(),N(2)]),N(1)])])]);break;case"acsc":_=!0,E=!0,b=new c("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new c("-","subtract",[new c("^","pow",[w.clone(),N(2)]),N(1)])])]);break;case"acot":_=!0,E=!0,b=new c("+","add",[new c("^","pow",[w.clone(),N(2)]),N(1)]);break;case"sinh":b=new o("cosh",[w.clone()]);break;case"cosh":b=new o("sinh",[w.clone()]);break;case"tanh":b=new c("^","pow",[new o("sech",[w.clone()]),N(2)]);break;case"sech":E=!0,b=new c("*","multiply",[y,new o("tanh",[w.clone()])]);break;case"csch":E=!0,b=new c("*","multiply",[y,new o("coth",[w.clone()])]);break;case"coth":E=!0,b=new c("^","pow",[new o("csch",[w.clone()]),N(2)]);break;case"asinh":_=!0,b=new o("sqrt",[new c("+","add",[new c("^","pow",[w.clone(),N(2)]),N(1)])]);break;case"acosh":_=!0,b=new o("sqrt",[new c("-","subtract",[new c("^","pow",[w.clone(),N(2)]),N(1)])]);break;case"atanh":_=!0,b=new c("-","subtract",[N(1),new c("^","pow",[w.clone(),N(2)])]);break;case"asech":_=!0,E=!0,b=new c("*","multiply",[w.clone(),new o("sqrt",[new c("-","subtract",[N(1),new c("^","pow",[w.clone(),N(2)])])])]);break;case"acsch":_=!0,E=!0,b=new c("*","multiply",[new o("abs",[w.clone()]),new o("sqrt",[new c("+","add",[new c("^","pow",[w.clone(),N(2)]),N(1)])])]);break;case"acoth":_=!0,E=!0,b=new c("-","subtract",[N(1),new c("^","pow",[w.clone(),N(2)])]);break;case"abs":b=new c("/","divide",[new o(new d("abs"),[w.clone()]),w.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+y.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var A,I;_?(A="/",I="divide"):(A="*",I="multiply");var F=C(w,x);return E&&(F=new c("-","unaryMinus",[F])),new c(A,I,[F,b])},"OperatorNode, function":function(y,x){if(x(y))return N(0);if(y.op==="+")return new c(y.op,y.fn,y.args.map(function(P){return C(P,x)}));if(y.op==="-"){if(y.isUnary())return new c(y.op,y.fn,[C(y.args[0],x)]);if(y.isBinary())return new c(y.op,y.fn,[C(y.args[0],x),C(y.args[1],x)])}if(y.op==="*"){var w=y.args.filter(function(P){return x(P)});if(w.length>0){var g=y.args.filter(function(P){return!x(P)}),_=g.length===1?g[0]:new c("*","multiply",g),E=w.concat(C(_,x));return new c("*","multiply",E)}return new c("+","add",y.args.map(function(P){return new c("*","multiply",y.args.map(function(L){return L===P?C(L,x):L.clone()}))}))}if(y.op==="/"&&y.isBinary()){var b=y.args[0],A=y.args[1];return x(A)?new c("/","divide",[C(b,x),A]):x(b)?new c("*","multiply",[new c("-","unaryMinus",[b]),new c("/","divide",[C(A,x),new c("^","pow",[A.clone(),N(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[C(b,x),A.clone()]),new c("*","multiply",[b.clone(),C(A,x)])]),new c("^","pow",[A.clone(),N(2)])])}if(y.op==="^"&&y.isBinary()){var I=y.args[0],F=y.args[1];if(x(I))return Nt(I)&&(s(I.value)||i(I.value,1))?N(0):new c("*","multiply",[y,new c("*","multiply",[new o("log",[I.clone()]),C(F.clone(),x)])]);if(x(F)){if(Nt(F)){if(s(F.value))return N(0);if(i(F.value,1))return C(I,x)}var B=new c("^","pow",[I.clone(),new c("-","subtract",[F,N(1)])]);return new c("*","multiply",[F.clone(),new c("*","multiply",[C(I,x),B])])}return new c("*","multiply",[new c("^","pow",[I.clone(),F.clone()]),new c("+","add",[new c("*","multiply",[C(I,x),new c("/","divide",[F.clone(),I.clone()])]),new c("*","multiply",[C(F,x),new o("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+y.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function N(M,y){return new l(u(M,Ss(String(M),r)))}return v}),KS="rationalize",mre=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],hre=Q(KS,mre,t=>{var{config:e,typed:r,equal:n,isZero:a,add:i,subtract:s,multiply:u,divide:l,pow:o,parse:c,simplifyConstant:f,simplifyCore:d,simplify:m,fraction:h,bignumber:v,mathWithTransform:T,matrix:S,AccessorNode:C,ArrayNode:N,ConstantNode:M,FunctionNode:y,IndexNode:x,ObjectNode:w,OperatorNode:g,SymbolNode:_,ParenthesisNode:E}=t;function b(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=I(),V=A(P,L,!0,k.firstRules),ee=V.variables.length,j={exactFractions:!1},X={exactFractions:!0};if(P=V.expression,ee>=1){P=F(P);var U,de,ue=!0,le=!1;P=m(P,k.firstRules,{},j);for(var H;de=ue?k.distrDivRules:k.sucDivRules,P=m(P,de,{},X),ue=!ue,H=P.toString(),H!==U;)le=!0,U=H;le&&(P=m(P,k.firstRulesAgain,{},j)),P=m(P,k.finalRules,{},j)}var J=[],re={};return P.type==="OperatorNode"&&P.isBinary()&&P.op==="/"?(ee===1&&(P.args[0]=B(P.args[0],J),P.args[1]=B(P.args[1])),$&&(re.numerator=P.args[0],re.denominator=P.args[1])):(ee===1&&(P=B(P,J)),$&&(re.numerator=P,re.denominator=null)),$?(re.coefficients=J,re.variables=V.variables,re.expression=P,re):P}return r(KS,{Node:b,"Node, boolean":(P,L)=>b(P,{},L),"Node, Object":b,"Node, Object, boolean":b});function A(P,L,$,k){var V=[],ee=m(P,k,L,{exactFractions:!1});$=!!$;var j="+-*"+($?"/":"");U(ee);var X={};return X.expression=ee,X.variables=V,X;function U(de){var ue=de.type;if(ue==="FunctionNode")throw new Error("There is an unsolved function call");if(ue==="OperatorNode")if(de.op==="^"){if(de.args[1].type!=="ConstantNode"||!We(parseFloat(de.args[1].value)))throw new Error("There is a non-integer exponent");U(de.args[0])}else{if(!j.includes(de.op))throw new Error("Operator "+de.op+" invalid in polynomial expression");for(var le=0;le<de.args.length;le++)U(de.args[le])}else if(ue==="SymbolNode"){var H=de.name,J=V.indexOf(H);J===-1&&V.push(H)}else if(ue==="ParenthesisNode")U(de.content);else if(ue!=="ConstantNode")throw new Error("type "+ue+" is not allowed in polynomial expression")}}function I(){var P=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],L=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],$=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],k=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],V={};return V.firstRules=P.concat(L,k),V.distrDivRules=$,V.sucDivRules=k,V.firstRulesAgain=P.concat(L),V.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],V}function F(P,L,$){var k=P.type,V=arguments.length>1;if(k==="OperatorNode"&&P.isBinary()){var ee=!1,j;if(P.op==="^"&&(P.args[0].type==="ParenthesisNode"||P.args[0].type==="OperatorNode")&&P.args[1].type==="ConstantNode"&&(j=parseFloat(P.args[1].value),ee=j>=2&&We(j)),ee){if(j>2){var X=P.args[0],U=new g("^","pow",[P.args[0].cloneDeep(),new M(j-1)]);P=new g("*","multiply",[X,U])}else P=new g("*","multiply",[P.args[0],P.args[0].cloneDeep()]);V&&($==="content"?L.content=P:L.args[$]=P)}}if(k==="ParenthesisNode")F(P.content,P,"content");else if(k!=="ConstantNode"&&k!=="SymbolNode")for(var de=0;de<P.args.length;de++)F(P.args[de],P,de);if(!V)return P}function B(P,L){L===void 0&&(L=[]),L[0]=0;var $={};$.cte=1,$.oper="+",$.fire="";var k=0,V="";H(P,null,$),k=L.length-1;for(var ee=!0,j,X=k;X>=0;X--)if(L[X]!==0){var U=new M(ee?L[X]:Math.abs(L[X])),de=L[X]<0?"-":"+";if(X>0){var ue=new _(V);if(X>1){var le=new M(X);ue=new g("^","pow",[ue,le])}L[X]===-1&&ee?U=new g("-","unaryMinus",[ue]):Math.abs(L[X])===1?U=ue:U=new g("*","multiply",[U,ue])}ee?j=U:de==="+"?j=new g("+","add",[j,U]):j=new g("-","subtract",[j,U]),ee=!1}if(ee)return new M(0);return j;function H(J,re,ie){var se=J.type;if(se==="FunctionNode")throw new Error("There is an unsolved function call");if(se==="OperatorNode"){if(!"+-*^".includes(J.op))throw new Error("Operator "+J.op+" invalid");if(re!==null){if((J.fn==="unaryMinus"||J.fn==="pow")&&re.fn!=="add"&&re.fn!=="subtract"&&re.fn!=="multiply")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="multiply")&&re.fn!=="add"&&re.fn!=="subtract")throw new Error("Invalid "+J.op+" placing");if((J.fn==="subtract"||J.fn==="add"||J.fn==="unaryMinus")&&ie.noFil!==0)throw new Error("Invalid "+J.op+" placing")}(J.op==="^"||J.op==="*")&&(ie.fire=J.op);for(var ve=0;ve<J.args.length;ve++)J.fn==="unaryMinus"&&(ie.oper="-"),(J.op==="+"||J.fn==="subtract")&&(ie.fire="",ie.cte=1,ie.oper=ve===0?"+":J.op),ie.noFil=ve,H(J.args[ve],J,ie)}else if(se==="SymbolNode"){if(J.name!==V&&V!=="")throw new Error("There is more than one variable");if(V=J.name,re===null){L[1]=1;return}if(re.op==="^"&&ie.noFil!==0)throw new Error("In power the variable should be the first parameter");if(re.op==="*"&&ie.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ie.fire===""||ie.fire==="*")&&(k<1&&(L[1]=0),L[1]+=ie.cte*(ie.oper==="+"?1:-1),k=Math.max(1,k))}else if(se==="ConstantNode"){var me=parseFloat(J.value);if(re===null){L[0]=me;return}if(re.op==="^"){if(ie.noFil!==1)throw new Error("Constant cannot be powered");if(!We(me)||me<=0)throw new Error("Non-integer exponent is not allowed");for(var Ne=k+1;Ne<me;Ne++)L[Ne]=0;me>k&&(L[me]=0),L[me]+=ie.cte*(ie.oper==="+"?1:-1),k=Math.max(me,k);return}ie.cte=me,ie.fire===""&&(L[0]+=ie.cte*(ie.oper==="+"?1:-1))}else throw new Error("Type "+se+" is not allowed")}}}),JS="zpk2tf",pre=["typed","add","multiply","Complex","number"],vre=Q(JS,pre,t=>{var{typed:e,add:r,multiply:n,Complex:a,number:i}=t;return e(JS,{"Array,Array,number":function(o,c,f){return s(o,c,f)},"Array,Array":function(o,c){return s(o,c,1)},"Matrix,Matrix,number":function(o,c,f){return s(o.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(o,c){return s(o.valueOf(),c.valueOf(),1)}});function s(l,o,c){l.some(C=>C.type==="BigNumber")&&(l=l.map(C=>i(C))),o.some(C=>C.type==="BigNumber")&&(o=o.map(C=>i(C)));for(var f=[a(1,0)],d=[a(1,0)],m=0;m<l.length;m++){var h=l[m];typeof h=="number"&&(h=a(h,0)),f=u(f,[a(1,0),a(-h.re,-h.im)])}for(var v=0;v<o.length;v++){var T=o[v];typeof T=="number"&&(T=a(T,0)),d=u(d,[a(1,0),a(-T.re,-T.im)])}for(var S=0;S<f.length;S++)f[S]=n(f[S],c);return[f,d]}function u(l,o){for(var c=[],f=0;f<l.length+o.length-1;f++){c[f]=a(0,0);for(var d=0;d<l.length;d++)f-d>=0&&f-d<o.length&&(c[f]=r(c[f],n(l[d],o[f-d])))}return c}}),YS="freqz",gre=["typed","add","multiply","Complex","divide","matrix"],yre=Q(YS,gre,t=>{var{typed:e,add:r,multiply:n,Complex:a,divide:i,matrix:s}=t;return e(YS,{"Array, Array":function(c,f){var d=l(512);return u(c,f,d)},"Array, Array, Array":function(c,f,d){return u(c,f,d)},"Array, Array, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var m=l(d);return u(c,f,m)},"Matrix, Matrix":function(c,f){var d=l(512),{w:m,h}=u(c.valueOf(),f.valueOf(),d);return{w:s(m),h:s(h)}},"Matrix, Matrix, Matrix":function(c,f,d){var{h:m}=u(c.valueOf(),f.valueOf(),d.valueOf());return{h:s(m),w:s(d)}},"Matrix, Matrix, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var m=l(d),{h}=u(c.valueOf(),f.valueOf(),m);return{h:s(h),w:s(m)}}});function u(o,c,f){for(var d=[],m=[],h=0;h<f.length;h++){for(var v=a(0,0),T=a(0,0),S=0;S<o.length;S++)v=r(v,n(o[S],a(Math.cos(-S*f[h]),Math.sin(-S*f[h]))));for(var C=0;C<c.length;C++)T=r(T,n(c[C],a(Math.cos(-C*f[h]),Math.sin(-C*f[h]))));d.push(v),m.push(T)}for(var N=[],M=0;M<d.length;M++)N.push(i(d[M],m[M]));return{h:N,w:f}}function l(o){for(var c=[],f=0;f<o;f++)c.push(f/o*Math.PI);return c}}),xre="reviver",bre=["classes"],wre=Q(xre,bre,t=>{var{classes:e}=t;return function(n,a){var i=e[a&&a.mathjs];return i&&typeof i.fromJSON=="function"?i.fromJSON(a):a}}),Nre="replacer",_re=[],Ere=Q(Nre,_re,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),Sre="15.0.0",Are=Q("true",[],()=>!0),Dre=Q("false",[],()=>!1),Cre=Q("null",[],()=>null),Tre=Zn("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),Mre=Zn("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),Ire=Zn("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?Ly(r):M$}),Pre=Zn("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?aG(r):I$}),Fre=Zn("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?rG(r):P$}),Rre=Zn("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?nG(r):F$}),Ore=Zn("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),Bre=Zn("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),jre=Zn("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),kre=Zn("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),$re=Zn("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),Lre=Zn("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),zre=Zn("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),Vre=Q("version",[],()=>Sre);function Zn(t,e,r){return Q(t,e,r,{recreateOnConfigChange:!0})}var Ure=it("speedOfLight","299792458","m s^-1"),qre=it("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Hre=it("planckConstant","6.62607015e-34","J s"),Gre=it("reducedPlanckConstant","1.0545718176461565e-34","J s"),Wre=it("magneticConstant","1.25663706212e-6","N A^-2"),Qre=it("electricConstant","8.8541878128e-12","F m^-1"),Xre=it("vacuumImpedance","376.730313667","ohm"),Kre=it("coulomb","8.987551792261171e9","N m^2 C^-2"),Jre=it("coulombConstant","8.987551792261171e9","N m^2 C^-2"),Yre=it("elementaryCharge","1.602176634e-19","C"),Zre=it("bohrMagneton","9.2740100783e-24","J T^-1"),ene=it("conductanceQuantum","7.748091729863649e-5","S"),tne=it("inverseConductanceQuantum","12906.403729652257","ohm"),rne=it("magneticFluxQuantum","2.0678338484619295e-15","Wb"),nne=it("nuclearMagneton","5.0507837461e-27","J T^-1"),ane=it("klitzing","25812.807459304513","ohm"),ine=it("bohrRadius","5.29177210903e-11","m"),sne=it("classicalElectronRadius","2.8179403262e-15","m"),one=it("electronMass","9.1093837015e-31","kg"),une=it("fermiCoupling","1.1663787e-5","GeV^-2"),lne=Lh("fineStructure",.0072973525693),cne=it("hartreeEnergy","4.3597447222071e-18","J"),fne=it("protonMass","1.67262192369e-27","kg"),dne=it("deuteronMass","3.3435830926e-27","kg"),mne=it("neutronMass","1.6749271613e-27","kg"),hne=it("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),pne=it("rydberg","10973731.568160","m^-1"),vne=it("thomsonCrossSection","6.6524587321e-29","m^2"),gne=Lh("weakMixingAngle",.2229),yne=Lh("efimovFactor",22.7),xne=it("atomicMass","1.66053906660e-27","kg"),bne=it("avogadro","6.02214076e23","mol^-1"),wne=it("boltzmann","1.380649e-23","J K^-1"),Nne=it("faraday","96485.33212331001","C mol^-1"),_ne=it("firstRadiation","3.7417718521927573e-16","W m^2"),Ene=it("loschmidt","2.686780111798444e25","m^-3"),Sne=it("gasConstant","8.31446261815324","J K^-1 mol^-1"),Ane=it("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Dne=it("molarVolume","0.022413969545014137","m^3 mol^-1"),Cne=Lh("sackurTetrode",-1.16487052358),Tne=it("secondRadiation","0.014387768775039337","m K"),Mne=it("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Ine=it("wienDisplacement","2.897771955e-3","m K"),Pne=it("molarMass","0.99999999965e-3","kg mol^-1"),Fne=it("molarMassC12","11.9999999958e-3","kg mol^-1"),Rne=it("gravity","9.80665","m s^-2"),One=it("planckLength","1.616255e-35","m"),Bne=it("planckMass","2.176435e-8","kg"),jne=it("planckTime","5.391245e-44","s"),kne=it("planckCharge","1.87554603778e-18","C"),$ne=it("planckTemperature","1.416785e+32","K");function it(t,e,r){var n=["config","Unit","BigNumber"];return Q(t,n,a=>{var{config:i,Unit:s,BigNumber:u}=a,l=i.number==="BigNumber"?new u(e):parseFloat(e),o=new s(l,r);return o.fixPrefix=!0,o})}function Lh(t,e){var r=["config","BigNumber"];return Q(t,r,n=>{var{config:a,BigNumber:i}=n;return a.number==="BigNumber"?new i(e):e})}function ZS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zne="mapSlices",Vne=["typed","isInteger"],Une=Q(zne,Vne,t=>{var{typed:e,isInteger:r}=t,n=Pg({typed:e,isInteger:r});return e("mapSlices",{"...any":function(i){var s=i[1];Xe(s)?i[1]=s-1:ut(s)&&(i[1]=s.minus(1));try{return n.apply(null,i)}catch(u){throw Mn(u)}}})},Lne({isTransformFunction:!0},Pg.meta)),qne="column",Hne=["typed","Index","matrix","range"],Gne=Q(qne,Hne,t=>{var{typed:e,Index:r,matrix:n,range:a}=t,i=u4({typed:e,Index:r,matrix:n,range:a});return e("column",{"...any":function(u){var l=u.length-1,o=u[l];Xe(o)&&(u[l]=o-1);try{return i.apply(null,u)}catch(c){throw Mn(c)}}})},{isTransformFunction:!0});function Xy(t,e,r){var n=t.filter(function(l){return Qr(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var a=n.name,i=new Map,s=new T3(r,i,new Set([a])),u=t.compile();return function(o){return i.set(a,o),u.evaluate(s)}}var Wne="transformCallback",Qne=["typed"],Ky=Q(Wne,Qne,t=>{var{typed:e}=t;return function(n,a){return e.isTypedFunction(n)?r(n,a):eA(n,n.length,a)};function r(n,a){var i=Object.fromEntries(Object.entries(n.signatures).map(s=>{var[u,l]=s,o=u.split(",").length;return e.isTypedFunction(l)?[u,r(l,a)]:[u,eA(l,o,a)]}));return typeof n.name=="string"?e(n.name,i):e(i)}});function eA(t,e,r){return e===r?t:e===r+1?function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.slice(0,r),u=tA(a[r]);return t(...s,u)}:e>r+1?function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.slice(0,r),u=tA(a[r]),l=a.slice(r+1);return t(...s,u,...l)}:t}function tA(t){return t.map(e=>e+1)}var Xne="filter",Kne=["typed"],Jne=Q(Xne,Kne,t=>{var{typed:e}=t;function r(a,i,s){var u=l4({typed:e}),l=Ky({typed:e});if(a.length===0)return u();var o=a[0];if(a.length===1)return u(o);var c=a.length-1,f=a[c];return o&&(o=n(o,s)),f&&(Qr(f)||ef(f)?f=n(f,s):f=Xy(f,i,s)),u(o,l(f,c))}r.rawArgs=!0;function n(a,i){return a.compile().evaluate(i)}return r},{isTransformFunction:!0}),Yne="forEach",Zne=["typed"],eae=Q(Yne,Zne,t=>{var{typed:e}=t,r=c4({typed:e}),n=Ky({typed:e});function a(s,u,l){if(s.length===0)return r();var o=s[0];if(s.length===1)return r(o);var c=s.length-1,f=s[c];return o&&(o=i(o,l)),f&&(Qr(f)||ef(f)?f=i(f,l):f=Xy(f,u,l)),r(o,n(f,c))}a.rawArgs=!0;function i(s,u){return s.compile().evaluate(u)}return a},{isTransformFunction:!0}),tae="index",rae=["Index","getMatrixDataType"],nae=Q(tae,rae,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var a=[],i=0,s=arguments.length;i<s;i++){var u=arguments[i];if(Dy(u))u.start--,u.end-=u.step>0?0:2;else if(u&&u.isSet===!0)u=u.map(function(o){return o-1});else if(Wt(u)||Ye(u))r(u)!=="boolean"&&(u=u.map(function(o){return o-1}));else if(Xe(u)||ic(u))u--;else if(ut(u))u=u.toNumber()-1;else if(typeof u!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");a[i]=u}var l=new e;return e.apply(l,a),l}},{isTransformFunction:!0}),aae="map",iae=["typed"],sae=Q(aae,iae,t=>{var{typed:e}=t,r=f4({typed:e}),n=Ky({typed:e});function a(i,s,u){if(i.length===0)return r();if(i.length===1)return r(i[0]);var l=i.length-1,o=i.slice(0,l),c=i[l];return o=o.map(d=>f(d,u)),c&&(Qr(c)||ef(c)?c=f(c,u):c=Xy(c,s,u)),r(...o,n(c,l));function f(d,m){return d.compile().evaluate(m)}}return a.rawArgs=!0,a},{isTransformFunction:!0});function oae(t){return Xe(t)?t-1:ut(t)?t.minus(1):t}function uae(t){return Xe(t)||ut(t)}function Cs(t){if(t.length===2&&Kn(t[0])){t=t.slice();var e=t[1];uae(e)&&(t[1]=oae(e))}return t}var lae="max",cae=["typed","config","numeric","larger","isNaN"],fae=Q(lae,cae,t=>{var{typed:e,config:r,numeric:n,larger:a,isNaN:i}=t,s=b4({typed:e,config:r,numeric:n,larger:a,isNaN:i});return e("max",{"...any":function(l){l=Cs(l);try{return s.apply(null,l)}catch(o){throw Mn(o)}}})},{isTransformFunction:!0}),dae="mean",mae=["typed","add","divide"],hae=Q(dae,mae,t=>{var{typed:e,add:r,divide:n}=t,a=T4({typed:e,add:r,divide:n});return e("mean",{"...any":function(s){s=Cs(s);try{return a.apply(null,s)}catch(u){throw Mn(u)}}})},{isTransformFunction:!0}),pae="min",vae=["typed","config","numeric","smaller","isNaN"],gae=Q(pae,vae,t=>{var{typed:e,config:r,numeric:n,smaller:a,isNaN:i}=t,s=w4({typed:e,config:r,numeric:n,smaller:a,isNaN:i});return e("min",{"...any":function(l){l=Cs(l);try{return s.apply(null,l)}catch(o){throw Mn(o)}}})},{isTransformFunction:!0}),yae="range",xae=["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],bae=Q(yae,xae,t=>{var{typed:e,config:r,matrix:n,bignumber:a,equal:i,smaller:s,smallerEq:u,larger:l,largerEq:o,add:c,isZero:f,isPositive:d}=t,m=h4({typed:e,config:r,matrix:n,bignumber:a,equal:i,smaller:s,smallerEq:u,larger:l,largerEq:o,add:c,isZero:f,isPositive:d});return e("range",{"...any":function(v){var T=v.length-1,S=v[T];return typeof S!="boolean"&&v.push(!0),m.apply(null,v)}})},{isTransformFunction:!0}),wae="row",Nae=["typed","Index","matrix","range"],_ae=Q(wae,Nae,t=>{var{typed:e,Index:r,matrix:n,range:a}=t,i=p4({typed:e,Index:r,matrix:n,range:a});return e("row",{"...any":function(u){var l=u.length-1,o=u[l];Xe(o)&&(u[l]=o-1);try{return i.apply(null,u)}catch(c){throw Mn(c)}}})},{isTransformFunction:!0}),Eae="subset",Sae=["typed","matrix","zeros","add"],Aae=Q(Eae,Sae,t=>{var{typed:e,matrix:r,zeros:n,add:a}=t,i=v4({typed:e,matrix:r,zeros:n,add:a});return e("subset",{"...any":function(u){try{return i.apply(null,u)}catch(l){throw Mn(l)}}})},{isTransformFunction:!0}),Dae="concat",Cae=["typed","matrix","isInteger"],Tae=Q(Dae,Cae,t=>{var{typed:e,matrix:r,isInteger:n}=t,a=o4({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(s){var u=s.length-1,l=s[u];Xe(l)?s[u]=l-1:ut(l)&&(s[u]=l.minus(1));try{return a.apply(null,s)}catch(o){throw Mn(o)}}})},{isTransformFunction:!0}),rA="diff",Mae=["typed","matrix","subtract","number","bignumber"],Iae=Q(rA,Mae,t=>{var{typed:e,matrix:r,subtract:n,number:a,bignumber:i}=t,s=d4({typed:e,matrix:r,subtract:n,number:a,bignumber:i});return e(rA,{"...any":function(l){l=Cs(l);try{return s.apply(null,l)}catch(o){throw Mn(o)}}})},{isTransformFunction:!0}),Pae="std",Fae=["typed","map","sqrt","variance"],Rae=Q(Pae,Fae,t=>{var{typed:e,map:r,sqrt:n,variance:a}=t,i=P4({typed:e,map:r,sqrt:n,variance:a});return e("std",{"...any":function(u){u=Cs(u);try{return i.apply(null,u)}catch(l){throw Mn(l)}}})},{isTransformFunction:!0}),nA="sum",Oae=["typed","config","add","numeric"],Bae=Q(nA,Oae,t=>{var{typed:e,config:r,add:n,numeric:a}=t,i=D4({typed:e,config:r,add:n,numeric:a});return e(nA,{"...any":function(u){u=Cs(u);try{return i.apply(null,u)}catch(l){throw Mn(l)}}})},{isTransformFunction:!0}),jae="quantileSeq",kae=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],$ae=Q(jae,kae,t=>{var{typed:e,bignumber:r,add:n,subtract:a,divide:i,multiply:s,partitionSelect:u,compare:l,isInteger:o,smaller:c,smallerEq:f,larger:d,mapSlices:m}=t,h=I4({typed:e,bignumber:r,add:n,subtract:a,divide:i,multiply:s,partitionSelect:u,compare:l,isInteger:o,smaller:c,smallerEq:f,larger:d,mapSlices:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(T,S,C)=>h(T,S,v(C)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(T,S,C,N)=>h(T,S,C,v(N)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(T,S,C)=>h(T,S,v(C)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(T,S,C,N)=>h(T,S,C,v(N))});function v(T){return Cs([[],T])[1]}},{isTransformFunction:!0}),aA="cumsum",Lae=["typed","add","unaryPlus"],zae=Q(aA,Lae,t=>{var{typed:e,add:r,unaryPlus:n}=t,a=C4({typed:e,add:r,unaryPlus:n});return e(aA,{"...any":function(s){if(s.length===2&&Kn(s[0])){var u=s[1];Xe(u)?s[1]=u-1:ut(u)&&(s[1]=u.minus(1))}try{return a.apply(null,s)}catch(l){throw Mn(l)}}})},{isTransformFunction:!0}),iA="variance",Vae=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],Uae=Q(iA,Vae,t=>{var{typed:e,add:r,subtract:n,multiply:a,divide:i,mapSlices:s,isNaN:u}=t,l=M4({typed:e,add:r,subtract:n,multiply:a,divide:i,mapSlices:s,isNaN:u});return e(iA,{"...any":function(c){c=Cs(c);try{return l.apply(null,c)}catch(f){throw Mn(f)}}})},{isTransformFunction:!0}),sA="print",qae=["typed","matrix","zeros","add"],Hae=Q(sA,qae,t=>{var{typed:e,matrix:r,zeros:n,add:a}=t,i=y4({typed:e,matrix:r,zeros:n,add:a});return e(sA,{"string, Object | Array":function(l,o){return i(s(l),o)},"string, Object | Array, number | Object":function(l,o,c){return i(s(l),o,c)}});function s(u){return u.replace(g4,l=>{var o=l.slice(1).split("."),c=o.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),Gae="and",Wae=["typed","matrix","zeros","add","equalScalar","not","concat"],Qae=Q(Gae,Wae,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,not:i,concat:s}=t,u=x4({typed:e,matrix:r,equalScalar:n,zeros:a,not:i,concat:s});function l(o,c,f){var d=o[0].compile().evaluate(f);if(!Kn(d)&&!u(d,!0))return!1;var m=o[1].compile().evaluate(f);return u(d,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),Xae="or",Kae=["typed","matrix","equalScalar","DenseMatrix","concat"],Jae=Q(Xae,Kae,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i}=t,s=s4({typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i});function u(l,o,c){var f=l[0].compile().evaluate(c);if(!Kn(f)&&s(f,!1))return!0;var d=l[1].compile().evaluate(c);return s(f,d)}return u.rawArgs=!0,u},{isTransformFunction:!0}),Yae="nullish",Zae=["typed","matrix","size","flatten","deepEqual"],eie=Q(Yae,Zae,t=>{var{typed:e,matrix:r,size:n,flatten:a,deepEqual:i}=t,s=i4({typed:e,matrix:r,size:n,flatten:a,deepEqual:i});function u(l,o,c){var f=l[0].compile().evaluate(c);if(!Kn(f)&&f!=null&&f!==void 0)return f;var d=l[1].compile().evaluate(c);return s(f,d)}return u.rawArgs=!0,u},{isTransformFunction:!0}),tie="bitAnd",rie=["typed","matrix","zeros","add","equalScalar","not","concat"],nie=Q(tie,rie,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:a,not:i,concat:s}=t,u=n4({typed:e,matrix:r,equalScalar:n,zeros:a,not:i,concat:s});function l(o,c,f){var d=o[0].compile().evaluate(f);if(!Kn(d)){if(isNaN(d))return NaN;if(d===0||d===!1)return 0}var m=o[1].compile().evaluate(f);return u(d,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),aie="bitOr",iie=["typed","matrix","equalScalar","DenseMatrix","concat"],sie=Q(aie,iie,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i}=t,s=a4({typed:e,matrix:r,equalScalar:n,DenseMatrix:a,concat:i});function u(l,o,c){var f=l[0].compile().evaluate(c);if(!Kn(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var d=l[1].compile().evaluate(c);return s(f,d)}return u.rawArgs=!0,u},{isTransformFunction:!0}),Re=U7({config:be}),Jt=Q7({}),oA=Fre({BigNumber:Re,config:be}),oie=Dre({}),uie=lne({BigNumber:Re,config:be}),Eo=r$({}),O4=zre({Complex:Jt}),lie=Tre({BigNumber:Re,config:be}),cie=Bre({BigNumber:Re,config:be}),fie=kre({BigNumber:Re,config:be}),zh=u$({}),die=Mre({BigNumber:Re,config:be}),mie=Cre({}),hie=Rre({BigNumber:Re,config:be}),pie=i$({}),B4=Wk({}),vie=$re({BigNumber:Re,config:be}),gie=Cne({BigNumber:Re,config:be}),j4=Pre({BigNumber:Re,config:be}),yie=Are({}),xie=Vre({}),ft=E$({Matrix:zh,config:be}),bie=yne({BigNumber:Re,config:be}),wie=Ore({BigNumber:Re,config:be}),zg=Ire({BigNumber:Re,config:be}),k4=Ere({}),Nie=Lre({BigNumber:Re,config:be}),Z=Uk({BigNumber:Re,Complex:Jt,DenseMatrix:ft,Fraction:Eo}),_ie=gne({BigNumber:Re,config:be}),In=$L({typed:Z}),Eie=pG({Complex:Jt,config:be,typed:Z}),Sie=xG({BigNumber:Re,typed:Z}),Aie=_G({BigNumber:Re,Complex:Jt,config:be,typed:Z}),kr=UL({typed:Z}),Die=MV({typed:Z}),Cie=TG({BigNumber:Re,Complex:Jt,config:be,typed:Z}),Tie=RG({typed:Z}),$4=jG({typed:Z}),Mie=zG({Complex:Jt,config:be,typed:Z}),Iie=cL({typed:Z}),Pie=_V({typed:Z}),Fie=hL({typed:Z}),Rie=A$({typed:Z}),Vh=tte({typed:Z}),Uh=bL({Complex:Jt,typed:Z}),So=PV({typed:Z}),Jy=UG({typed:Z}),Oie=WG({BigNumber:Re,typed:Z}),Bie=JG({BigNumber:Re,typed:Z}),jie=iz({typed:Z}),vt=Z$({config:be,typed:Z}),kie=YU({typed:Z}),L4=oz({typed:Z}),$ie=lz({Complex:Jt,typed:Z}),Lie=l4({typed:Z}),Ao=eU({typed:Z}),zie=c4({typed:Z}),af=lq({typed:Z}),Yy=aU({typed:Z}),Vie=pq({format:af,typed:Z}),Zy=RV({typed:Z}),$n=C$({typed:Z}),Ts=k$({config:be,typed:Z}),Do=q$({config:be,typed:Z}),ga=G$({equalScalar:vt,typed:Z}),Uie=jre({BigNumber:Re,config:be}),qie=ote({Complex:Jt,typed:Z}),Hie=Uz({Complex:Jt,config:be,typed:Z}),ex=Hz({Complex:Jt,config:be,typed:Z}),Co=f4({typed:Z}),xr=Qz({typed:Z}),Wm=kV({typed:Z}),Ai=oL({typed:Z}),Gie=mq({format:af,typed:Z}),Wie=Ote({config:be,typed:Z}),Qie=y4({typed:Z}),Xie=jte({config:be,typed:Z}),tx=BV({typed:Z}),Kie=tW({BigNumber:Re,typed:Z}),z4=eV({BigNumber:Re,Fraction:Eo,complex:Uh,typed:Z}),qh=iW({typed:Z}),$r=DU({typed:Z}),Lr=rL({Matrix:zh,equalScalar:vt,typed:Z}),Jie=FL({typed:Z}),Yie=iV({typed:Z}),Zie=dL({typed:Z}),ya=HL({typed:Z}),ese=lW({typed:Z}),V4=bq({typed:Z}),rx=K$({typed:Z}),tse=gG({Complex:Jt,config:be,typed:Z}),rse=SG({BigNumber:Re,typed:Z}),nse=DG({BigNumber:Re,Complex:Jt,config:be,typed:Z}),Ln=gL({BigNumber:Re,typed:Z}),ase=nte({typed:Z}),ise=HG({typed:Z}),sse=ZG({BigNumber:Re,typed:Z}),Hh=LW({addScalar:kr,conj:So,multiplyScalar:xr,size:$r,typed:Z}),pi=Q$({typed:Z}),ose=Nq({typed:Z}),zc=Pg({isInteger:$n,typed:Z}),Fe=SL({DenseMatrix:ft,Matrix:zh,SparseMatrix:Lr,typed:Z}),use=DL({isZero:ga,matrix:Fe,typed:Z}),qt=Kz({addScalar:kr,dot:Hh,equalScalar:vt,matrix:Fe,multiplyScalar:xr,typed:Z}),lse=mU({BigNumber:Re,config:be,matrix:Fe,typed:Z}),cse=$te({config:be,log2:ex,typed:Z}),U4=gU({isInteger:$n,matrix:Fe,typed:Z}),fse=nW({BigNumber:Re,typed:Z}),dse=oW({typed:Z}),mse=fG({SparseMatrix:Lr,typed:Z}),Ra=nV({Complex:Jt,config:be,typed:Z}),hse=TU({typed:Z}),pse=dW({typed:Z}),sf=OU({matrix:Fe,typed:Z}),q4=lV({BigNumber:Re,config:be,matrix:Fe,typed:Z}),tn=$U({BigNumber:Re,config:be,matrix:Fe,typed:Z}),vse=wG({BigNumber:Re,Complex:Jt,config:be,typed:Z}),gse=IG({Complex:Jt,config:be,typed:Z}),yse=fq({format:af,typed:Z}),At=o4({isInteger:$n,matrix:Fe,typed:Z}),xse=XG({BigNumber:Re,typed:Z}),nx=jU({conj:So,transpose:sf,typed:Z}),H4=KV({DenseMatrix:ft,SparseMatrix:Lr,matrix:Fe,typed:Z}),bse=pV({concat:At,equalScalar:vt,matrix:Fe,multiplyScalar:xr,typed:Z}),Vn=vH({DenseMatrix:ft,SparseMatrix:Lr,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),of=_L({Fraction:Eo,typed:Z}),Ms=sU({BigNumber:Re,DenseMatrix:ft,SparseMatrix:Lr,config:be,matrix:Fe,typed:Z}),To=L$({typed:Z}),wse=uU({matrix:Fe,multiplyScalar:xr,typed:Z}),Gh=MH({DenseMatrix:ft,SparseMatrix:Lr,concat:At,config:be,matrix:Fe,typed:Z}),Nse=eH({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z,zeros:tn}),_se=TL({flatten:Ao,matrix:Fe,size:$r,typed:Z}),Ese=iq({isNaN:pi,isNumeric:To,typed:Z}),Sse=Yz({BigNumber:Re,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),da=Sq({bignumber:Ln,fraction:of,number:Ai}),G4=oq({config:be,multiplyScalar:xr,numeric:da,typed:Z}),Ase=bU({config:be,matrix:Fe}),Dse=rH({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z,zeros:tn}),sl=Iq({BigNumber:Re,DenseMatrix:ft,config:be,equalScalar:vt,matrix:Fe,typed:Z,zeros:tn}),Sn=wH({DenseMatrix:ft,SparseMatrix:Lr,bignumber:Ln,concat:At,config:be,matrix:Fe,typed:Z}),Cse=yq({concat:At,matrix:Fe,typed:Z}),ri=OL({typed:Z}),Tse=OH({DenseMatrix:ft,SparseMatrix:Lr,concat:At,config:be,equalScalar:vt,matrix:Fe,typed:Z}),Mse=VV({DenseMatrix:ft,SparseMatrix:Lr,concat:At,matrix:Fe,typed:Z}),bt=RW({DenseMatrix:ft,SparseMatrix:Lr,addScalar:kr,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),Ise=$G({BigNumber:Re,DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),Pse=n4({concat:At,equalScalar:vt,matrix:Fe,typed:Z}),Fse=a4({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),Rse=CV({DenseMatrix:ft,SparseMatrix:Lr,concat:At,matrix:Fe,typed:Z}),W4=WL({BigNumber:Re,Complex:Jt,Fraction:Eo,config:be,isNegative:Ts,matrix:Fe,typed:Z,unaryMinus:ri}),Mo=oH({BigNumber:Re,DenseMatrix:ft,Fraction:Eo,concat:At,config:be,equalScalar:vt,matrix:Fe,typed:Z}),Q4=hH({concat:At,matrix:Fe,typed:Z}),Ose=GV({prod:G4,size:$r,typed:Z}),uf=FH({equal:Vn,typed:Z}),fr=Dq({numeric:da,typed:Z}),Bse=xH({compareText:Q4,isZero:ga,typed:Z}),X4=ZM({DenseMatrix:ft,config:be,equalScalar:vt,matrix:Fe,round:sl,typed:Z,zeros:tn}),jse=Bz({BigNumber:Re,DenseMatrix:ft,concat:At,config:be,equalScalar:vt,matrix:Fe,round:sl,typed:Z,zeros:tn}),kse=V$({isNumeric:To,typed:Z}),$se=BW({abs:In,addScalar:kr,divideScalar:fr,isPositive:Do,multiplyScalar:xr,smaller:Sn,sqrt:Ra,typed:Z}),K4=HH({DenseMatrix:ft,smaller:Sn}),vn=QH({ImmutableDenseMatrix:K4,getMatrixDataType:Yy}),An=DH({DenseMatrix:ft,SparseMatrix:Lr,bignumber:Ln,concat:At,config:be,matrix:Fe,typed:Z}),ax=Rq({Complex:Jt,config:be,divideScalar:fr,typeOf:rx,typed:Z}),J4=qq({DenseMatrix:ft,divideScalar:fr,equalScalar:vt,matrix:Fe,multiplyScalar:xr,subtractScalar:ya,typed:Z}),ix=IL({flatten:Ao,matrix:Fe,size:$r,typed:Z}),Lse=w4({config:be,isNaN:pi,numeric:da,smaller:Sn,typed:Z}),Y4=t4({DenseMatrix:ft,concat:At,config:be,equalScalar:vt,matrix:Fe,round:sl,typed:Z,zeros:tn}),zse=kq({Complex:Jt,config:be,divideScalar:fr,typed:Z}),Vse=i4({deepEqual:uf,flatten:Ao,matrix:Fe,size:$r,typed:Z}),Use=s4({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),Wh=kH({compare:Mo,isNaN:pi,isNumeric:To,typed:Z}),sx=XQ({addScalar:kr,complex:Uh,conj:So,divideScalar:fr,equal:Vn,identity:Ms,isZero:ga,matrix:Fe,multiplyScalar:xr,sign:z4,sqrt:Ra,subtractScalar:ya,typed:Z,unaryMinus:ri,zeros:tn}),qse=aH({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z,zeros:tn}),Vu=EH({DenseMatrix:ft,SparseMatrix:Lr,concat:At,config:be,matrix:Fe,typed:Z}),ea=v4({add:bt,matrix:Fe,typed:Z,zeros:tn}),Er=oV({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,subtractScalar:ya,typed:Z,unaryMinus:ri}),Hse=UW({add:bt,matrix:Fe,typed:Z}),ox=Gq({DenseMatrix:ft,divideScalar:fr,equalScalar:vt,matrix:Fe,multiplyScalar:xr,subtractScalar:ya,typed:Z}),Gse=vre({Complex:Jt,add:bt,multiply:qt,number:Ai,typed:Z}),Wse=Hte({addScalar:kr,combinations:Vh,divideScalar:fr,isInteger:$n,isNegative:Ts,multiplyScalar:xr,typed:Z}),ni=fH({compare:Mo,typed:Z}),Qse=Wte({addScalar:kr,combinations:Vh,isInteger:$n,isNegative:Ts,isPositive:Do,larger:An,typed:Z}),Xse=QV({matrix:Fe,multiply:qt,subtract:Er,typed:Z}),Z4=hee({divideScalar:fr,isZero:ga,matrix:Fe,multiply:qt,subtractScalar:ya,typed:Z,unaryMinus:ri}),Kse=d4({matrix:Fe,number:Ai,subtract:Er,typed:Z}),Jse=kee({abs:In,addScalar:kr,deepEqual:uf,divideScalar:fr,multiplyScalar:xr,sqrt:Ra,subtractScalar:ya,typed:Z}),lf=Vq({DenseMatrix:ft,SparseMatrix:Lr,concat:At,divideScalar:fr,equalScalar:vt,matrix:Fe,typed:Z}),eI=JH({larger:An,smaller:Sn}),tI=HW({Index:vn,typed:Z}),Yse=zee({abs:In,add:bt,addScalar:kr,config:be,divideScalar:fr,equalScalar:vt,flatten:Ao,isNumeric:To,isZero:ga,matrix:Fe,multiply:qt,multiplyScalar:xr,smaller:Sn,subtract:Er,typed:Z}),Zse=fV({BigNumber:Re,add:bt,config:be,equal:Vn,isInteger:$n,mod:Y4,smaller:Sn,typed:Z,xgcd:q4}),eoe=Lz({concat:At,equalScalar:vt,matrix:Fe,typed:Z}),toe=Bq({Complex:Jt,config:be,divideScalar:fr,log:ax,typed:Z}),roe=Qq({DenseMatrix:ft,divideScalar:fr,equalScalar:vt,matrix:Fe,multiplyScalar:xr,subtractScalar:ya,typed:Z}),ux=b4({config:be,isNaN:pi,larger:An,numeric:da,typed:Z}),Uu=h4({bignumber:Ln,matrix:Fe,add:bt,config:be,equal:Vn,isPositive:Do,isZero:ga,larger:An,largerEq:Gh,smaller:Sn,smallerEq:Vu,typed:Z}),noe=p4({Index:vn,matrix:Fe,range:Uu,typed:Z}),aoe=hW({DenseMatrix:ft,Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),ioe=yW({DenseMatrix:ft,Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),soe=NW({Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),ooe=AW({Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),rI=xX({SparseMatrix:Lr,abs:In,add:bt,divideScalar:fr,larger:An,largerEq:Gh,multiply:qt,subtract:Er,transpose:sf,typed:Z}),uoe=LH({compare:Mo,compareNatural:ni,matrix:Fe,typed:Z}),lx=jL({config:be,numeric:da,typed:Z}),nI=Kq({DenseMatrix:ft,divideScalar:fr,equalScalar:vt,matrix:Fe,multiplyScalar:xr,subtractScalar:ya,typed:Z}),loe=x4({concat:At,equalScalar:vt,matrix:Fe,not:Wm,typed:Z,zeros:tn}),cx=nz({DenseMatrix:ft,config:be,equalScalar:vt,matrix:Fe,round:sl,typed:Z,zeros:tn}),aI=u4({Index:vn,matrix:Fe,range:Uu,typed:Z}),coe=C4({add:bt,typed:Z,unaryPlus:lx}),iI=dz({Complex:Jt,DenseMatrix:ft,ceil:cx,equalScalar:vt,floor:X4,matrix:Fe,typed:Z,zeros:tn}),sI=vW({DenseMatrix:ft,Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),foe=EW({Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),oI=MW({Index:vn,concat:At,setDifference:sI,size:$r,subset:ea,typed:Z}),uI=eG({FibonacciHeap:eI,addScalar:kr,equalScalar:vt}),fx=D4({add:bt,config:be,numeric:da,typed:Z}),Io=vee({abs:In,addScalar:kr,det:Z4,divideScalar:fr,identity:Ms,matrix:Fe,multiply:qt,typed:Z,unaryMinus:ri}),lI=WQ({DenseMatrix:ft,Spa:uI,SparseMatrix:Lr,abs:In,addScalar:kr,divideScalar:fr,equalScalar:vt,larger:An,matrix:Fe,multiplyScalar:xr,subtractScalar:ya,typed:Z,unaryMinus:ri}),doe=yee({Complex:Jt,add:bt,ctranspose:nx,deepEqual:uf,divideScalar:fr,dot:Hh,dotDivide:lf,equal:Vn,inv:Io,matrix:Fe,multiply:qt,typed:Z}),Oa=Tq({Complex:Jt,config:be,fraction:of,identity:Ms,inv:Io,matrix:Fe,multiply:qt,number:Ai,typed:Z}),cI=bW({DenseMatrix:ft,Index:vn,compareNatural:ni,size:$r,subset:ea,typed:Z}),moe=PW({Index:vn,concat:At,setIntersect:cI,setSymDifference:oI,size:$r,subset:ea,typed:Z}),hoe=Dee({abs:In,add:bt,identity:Ms,inv:Io,map:Co,max:ux,multiply:qt,size:$r,sqrt:Ra,subtract:Er,typed:Z}),tt=oG({BigNumber:Re,Complex:Jt,Fraction:Eo,abs:In,addScalar:kr,config:be,divideScalar:fr,equal:Vn,fix:iI,format:af,isNumeric:To,multiplyScalar:xr,number:Ai,pow:Oa,round:sl,subtractScalar:ya,toBest:V4}),poe=Xre({BigNumber:Re,Unit:tt,config:be}),voe=Ine({BigNumber:Re,Unit:tt,config:be}),goe=xne({BigNumber:Re,Unit:tt,config:be}),yoe=Zre({BigNumber:Re,Unit:tt,config:be}),xoe=wne({BigNumber:Re,Unit:tt,config:be}),boe=ene({BigNumber:Re,Unit:tt,config:be}),woe=Kre({BigNumber:Re,Unit:tt,config:be}),Noe=mG({Unit:tt,typed:Z}),_oe=dne({BigNumber:Re,Unit:tt,config:be}),Eoe=Lq({DenseMatrix:ft,SparseMatrix:Lr,concat:At,equalScalar:vt,matrix:Fe,pow:Oa,typed:Z}),Soe=Qre({BigNumber:Re,Unit:tt,config:be}),Aoe=Yre({BigNumber:Re,Unit:tt,config:be}),Doe=See({abs:In,add:bt,identity:Ms,inv:Io,multiply:qt,typed:Z}),Coe=Nne({BigNumber:Re,Unit:tt,config:be}),fI=zU({addScalar:kr,ceil:cx,conj:So,divideScalar:fr,dotDivide:lf,exp:L4,i:O4,log2:ex,matrix:Fe,multiplyScalar:xr,pow:Oa,tau:j4,typed:Z}),dx=ite({BigNumber:Re,Complex:Jt,config:be,multiplyScalar:xr,pow:Oa,typed:Z}),Toe=qre({BigNumber:Re,Unit:tt,config:be}),Moe=cne({BigNumber:Re,Unit:tt,config:be}),Ioe=UU({conj:So,dotDivide:lf,fft:fI,typed:Z}),Poe=ane({BigNumber:Re,Unit:tt,config:be}),Foe=Ene({BigNumber:Re,Unit:tt,config:be}),Roe=Wre({BigNumber:Re,Unit:tt,config:be}),Ooe=Pne({BigNumber:Re,Unit:tt,config:be}),Boe=Ane({BigNumber:Re,Unit:tt,config:be}),joe=mne({BigNumber:Re,Unit:tt,config:be}),koe=nne({BigNumber:Re,Unit:tt,config:be}),$oe=kne({BigNumber:Re,Unit:tt,config:be}),Loe=One({BigNumber:Re,Unit:tt,config:be}),zoe=$ne({BigNumber:Re,Unit:tt,config:be}),Voe=fne({BigNumber:Re,Unit:tt,config:be}),Uoe=hne({BigNumber:Re,Unit:tt,config:be}),qoe=Gre({BigNumber:Re,Unit:tt,config:be}),Hoe=pne({BigNumber:Re,Unit:tt,config:be}),Goe=Tne({BigNumber:Re,Unit:tt,config:be}),Woe=Ure({BigNumber:Re,Unit:tt,config:be}),Qoe=Mne({BigNumber:Re,Unit:tt,config:be}),Xoe=vne({BigNumber:Re,Unit:tt,config:be}),Koe=bne({BigNumber:Re,Unit:tt,config:be}),Joe=ine({BigNumber:Re,Unit:tt,config:be}),Yoe=Jre({BigNumber:Re,Unit:tt,config:be}),nn=Bee({divideScalar:fr,equalScalar:vt,inv:Io,matrix:Fe,multiply:qt,typed:Z}),Zoe=one({BigNumber:Re,Unit:tt,config:be}),ei=lte({gamma:dx,typed:Z}),eue=_ne({BigNumber:Re,Unit:tt,config:be}),tue=Rne({BigNumber:Re,Unit:tt,config:be}),rue=tne({BigNumber:Re,Unit:tt,config:be}),dI=wX({DenseMatrix:ft,lsolve:J4,lup:lI,matrix:Fe,slu:rI,typed:Z,usolve:ox}),nue=rne({BigNumber:Re,Unit:tt,config:be}),aue=Fne({BigNumber:Re,Unit:tt,config:be}),iue=mte({add:bt,divide:nn,factorial:ei,isInteger:$n,isPositive:Do,multiply:qt,typed:Z}),sue=pte({factorial:ei,typed:Z}),oue=Bne({BigNumber:Re,Unit:tt,config:be}),uue=_X({add:bt,cbrt:W4,divide:nn,equalScalar:vt,im:Zy,isZero:ga,multiply:qt,re:tx,sqrt:Ra,subtract:Er,typeOf:rx,typed:Z,unaryMinus:ri}),lue=CW({compareNatural:ni,typed:Z}),cue=XU({abs:In,add:bt,bignumber:Ln,divide:nn,isNegative:Ts,isPositive:Do,larger:An,map:Co,matrix:Fe,max:ux,multiply:qt,smaller:Sn,subtract:Er,typed:Z,unaryMinus:ri}),mI=zte({bignumber:Ln,addScalar:kr,combinations:Vh,divideScalar:fr,factorial:ei,isInteger:$n,isNegative:Ts,larger:An,multiplyScalar:xr,number:Ai,pow:Oa,subtractScalar:ya,typed:Z}),fue=lG({Unit:tt,typed:Z}),due=Ute({addScalar:kr,isInteger:$n,isNegative:Ts,stirlingS2:mI,typed:Z}),hI=_ee({abs:In,add:bt,addScalar:kr,atan:$4,bignumber:Ln,column:aI,complex:Uh,config:be,cos:Jy,diag:H4,divideScalar:fr,dot:Hh,equal:Vn,flatten:Ao,im:Zy,inv:Io,larger:An,matrix:Fe,matrixFromColumns:ix,multiply:qt,multiplyScalar:xr,number:Ai,qr:sx,re:tx,reshape:U4,sin:qh,size:$r,smaller:Sn,sqrt:Ra,subtract:Er,typed:Z,usolve:ox,usolveAll:nI}),mue=une({BigNumber:Re,Unit:tt,config:be}),hue=Sne({BigNumber:Re,Unit:tt,config:be}),pue=fte({divide:nn,dotDivide:lf,isNumeric:To,log:ax,map:Co,matrix:Fe,multiply:qt,sum:fx,typed:Z}),pI=T4({add:bt,divide:nn,typed:Z}),vue=Dne({BigNumber:Re,Unit:tt,config:be}),gue=Hre({BigNumber:Re,Unit:tt,config:be}),yue=I4({bignumber:Ln,add:bt,compare:Mo,divide:nn,isInteger:$n,larger:An,mapSlices:zc,multiply:qt,partitionSelect:Wh,smaller:Sn,smallerEq:Vu,subtract:Er,typed:Z}),mx=M4({add:bt,divide:nn,isNaN:pi,mapSlices:zc,multiply:qt,subtract:Er,typed:Z}),xue=sne({BigNumber:Re,Unit:tt,config:be}),vI=Gee({add:bt,compare:Mo,divide:nn,partitionSelect:Wh,typed:Z}),bue=Zee({add:bt,divide:nn,matrix:Fe,mean:pI,multiply:qt,pow:Oa,sqrt:Ra,subtract:Er,sum:fx,typed:Z}),wue=yre({Complex:Jt,add:bt,divide:nn,matrix:Fe,multiply:qt,typed:Z}),Nue=Qee({abs:In,map:Co,median:vI,subtract:Er,typed:Z}),_ue=P4({map:Co,sqrt:Ra,typed:Z,variance:mx}),Eue=nq({BigNumber:Re,Complex:Jt,add:bt,config:be,divide:nn,equal:Vn,factorial:ei,gamma:dx,isNegative:Ts,multiply:qt,pi:zg,pow:Oa,sin:qh,smallerEq:Vu,subtract:Er,typed:Z}),hx=kW({abs:In,add:bt,conj:So,ctranspose:nx,eigs:hI,equalScalar:vt,larger:An,matrix:Fe,multiply:qt,pow:Oa,smaller:Sn,sqrt:Ra,typed:Z}),gI=EU({BigNumber:Re,DenseMatrix:ft,SparseMatrix:Lr,addScalar:kr,config:be,cos:Jy,matrix:Fe,multiplyScalar:xr,norm:hx,sin:qh,typed:Z,unaryMinus:ri}),Sue=jne({BigNumber:Re,Unit:tt,config:be}),yI=Iee({identity:Ms,matrix:Fe,multiply:qt,norm:hx,qr:sx,subtract:Er,typed:Z}),Aue=NU({multiply:qt,rotationMatrix:gI,typed:Z}),xI=Tee({abs:In,add:bt,concat:At,identity:Ms,index:tI,lusolve:dI,matrix:Fe,matrixFromColumns:ix,multiply:qt,range:Uu,schur:yI,subset:ea,subtract:Er,transpose:sf,typed:Z}),Due=Fee({matrix:Fe,multiply:qt,sylvester:xI,transpose:sf,typed:Z}),ol={},cf={},bI={},wn=QW({mathWithTransform:cf}),ul=bQ({Node:wn}),Di=NQ({Node:wn}),Po=EQ({Node:wn}),wI=CQ({Node:wn}),ll=YW({Node:wn}),NI=aQ({Node:wn,ResultSet:B4}),_I=sQ({Node:wn}),Is=hQ({Node:wn}),EI=AQ({Node:wn}),Cue=wre({classes:bI}),px=TX({math:ol,typed:Z}),SI=vQ({Node:wn,typed:Z}),Tue=dee({Chain:px,typed:Z}),cl=yQ({Node:wn,size:$r}),fl=KW({Node:wn,subset:ea}),AI=rQ({matrix:Fe,Node:wn,subset:ea}),Ps=IQ({Unit:tt,Node:wn,math:ol}),Fs=FQ({Node:wn,SymbolNode:Ps,math:ol}),Ba=OQ({AccessorNode:fl,ArrayNode:ll,AssignmentNode:AI,BlockNode:NI,ConditionalNode:_I,ConstantNode:Is,FunctionAssignmentNode:SI,FunctionNode:Fs,IndexNode:cl,ObjectNode:ul,OperatorNode:Di,ParenthesisNode:Po,RangeNode:EI,RelationalNode:wI,SymbolNode:Ps,config:be,numeric:da,typed:Z}),DI=ure({ConstantNode:Is,FunctionNode:Fs,OperatorNode:Di,ParenthesisNode:Po,parse:Ba,typed:Z}),vx=nre({bignumber:Ln,fraction:of,AccessorNode:fl,ArrayNode:ll,ConstantNode:Is,FunctionNode:Fs,IndexNode:cl,ObjectNode:ul,OperatorNode:Di,SymbolNode:Ps,config:be,mathWithTransform:cf,matrix:Fe,typed:Z}),Mue=jQ({parse:Ba,typed:Z}),gx=ire({AccessorNode:fl,ArrayNode:ll,ConstantNode:Is,FunctionNode:Fs,IndexNode:cl,ObjectNode:ul,OperatorNode:Di,ParenthesisNode:Po,SymbolNode:Ps,add:bt,divide:nn,equal:Vn,isZero:ga,multiply:qt,parse:Ba,pow:Oa,subtract:Er,typed:Z}),Rs=$Q({parse:Ba,typed:Z}),CI=AX({evaluate:Rs}),TI=VQ({evaluate:Rs,parse:Ba}),Qh=ere({AccessorNode:fl,ArrayNode:ll,ConstantNode:Is,FunctionNode:Fs,IndexNode:cl,ObjectNode:ul,OperatorNode:Di,ParenthesisNode:Po,SymbolNode:Ps,equal:Vn,parse:Ba,replacer:k4,resolve:DI,simplifyConstant:vx,simplifyCore:gx,typed:Z}),Iue=cre({OperatorNode:Di,parse:Ba,simplify:Qh,typed:Z}),Pue=Xte({parse:Ba,typed:Z}),Fue=HQ({Parser:TI,typed:Z}),Rue=hre({bignumber:Ln,fraction:of,AccessorNode:fl,ArrayNode:ll,ConstantNode:Is,FunctionNode:Fs,IndexNode:cl,ObjectNode:ul,OperatorNode:Di,ParenthesisNode:Po,SymbolNode:Ps,add:bt,config:be,divide:nn,equal:Vn,isZero:ga,mathWithTransform:cf,matrix:Fe,multiply:qt,parse:Ba,pow:Oa,simplify:Qh,simplifyConstant:vx,simplifyCore:gx,subtract:Er,typed:Z}),MI=dre({ConstantNode:Is,FunctionNode:Fs,OperatorNode:Di,ParenthesisNode:Po,SymbolNode:Ps,config:be,equal:Vn,isZero:ga,numeric:da,parse:Ba,simplify:Qh,typed:Z}),Oue=cee({Help:CI,mathWithTransform:cf,typed:Z});Nr(ol,{e:oA,false:oie,fineStructure:uie,i:O4,Infinity:lie,LN10:cie,LOG10E:fie,NaN:die,null:mie,phi:hie,SQRT1_2:vie,sackurTetrode:gie,tau:j4,true:yie,E:oA,version:xie,efimovFactor:bie,LN2:wie,pi:zg,replacer:k4,reviver:Cue,SQRT2:Nie,typed:Z,PI:zg,weakMixingAngle:_ie,abs:In,acos:Eie,acot:Sie,acsc:Aie,addScalar:kr,arg:Die,asech:Cie,asinh:Tie,atan:$4,atanh:Mie,bigint:Iie,bitNot:Pie,boolean:Fie,clone:Rie,combinations:Vh,complex:Uh,conj:So,cos:Jy,cot:Oie,csc:Bie,cube:jie,equalScalar:vt,erf:kie,exp:L4,expm1:$ie,filter:Lie,flatten:Ao,forEach:zie,format:af,getMatrixDataType:Yy,hex:Vie,im:Zy,isInteger:$n,isNegative:Ts,isPositive:Do,isZero:ga,LOG2E:Uie,lgamma:qie,log10:Hie,log2:ex,map:Co,multiplyScalar:xr,not:Wm,number:Ai,oct:Gie,pickRandom:Wie,print:Qie,random:Xie,re:tx,sec:Kie,sign:z4,sin:qh,size:$r,splitUnit:Jie,square:Yie,string:Zie,subtractScalar:ya,tan:ese,toBest:V4,typeOf:rx,acosh:tse,acsch:rse,asec:nse,bignumber:Ln,chain:Tue,combinationsWithRep:ase,cosh:ise,csch:sse,dot:Hh,isNaN:pi,isPrime:ose,mapSlices:zc,matrix:Fe,matrixFromFunction:use,multiply:qt,ones:lse,randomInt:cse,reshape:U4,sech:fse,sinh:dse,sparse:mse,sqrt:Ra,squeeze:hse,tanh:pse,transpose:sf,xgcd:q4,zeros:tn,acoth:vse,asin:gse,bin:yse,concat:At,coth:xse,ctranspose:nx,diag:H4,dotMultiply:bse,equal:Vn,fraction:of,identity:Ms,isNumeric:To,kron:wse,largerEq:Gh,leftShift:Nse,matrixFromRows:_se,mode:Ese,nthRoot:Sse,numeric:da,prod:G4,resize:Ase,rightArithShift:Dse,round:sl,smaller:Sn,to:Cse,unaryMinus:ri,unequal:Tse,xor:Mse,add:bt,atan2:Ise,bitAnd:Pse,bitOr:Fse,bitXor:Rse,cbrt:W4,compare:Mo,compareText:Q4,count:Ose,deepEqual:uf,divideScalar:fr,equalText:Bse,floor:X4,gcd:jse,hasNumericValue:kse,hypot:$se,larger:An,log:ax,lsolve:J4,matrixFromColumns:ix,min:Lse,mod:Y4,nthRoots:zse,nullish:Vse,or:Use,partitionSelect:Wh,qr:sx,rightLogShift:qse,smallerEq:Vu,subset:ea,subtract:Er,trace:Hse,usolve:ox,zpk2tf:Gse,catalan:Wse,compareNatural:ni,composition:Qse,cross:Xse,det:Z4,diff:Kse,distance:Jse,dotDivide:lf,index:tI,intersect:Yse,invmod:Zse,lcm:eoe,log1p:toe,lsolveAll:roe,max:ux,range:Uu,row:noe,setCartesian:aoe,setDistinct:ioe,setIsSubset:soe,setPowerset:ooe,slu:rI,sort:uoe,unaryPlus:lx,usolveAll:nI,and:loe,ceil:cx,column:aI,cumsum:coe,fix:iI,setDifference:sI,setMultiplicity:foe,setSymDifference:oI,sum:fx,inv:Io,lup:lI,pinv:doe,pow:Oa,setIntersect:cI,setUnion:moe,sqrtm:hoe,vacuumImpedance:poe,wienDisplacement:voe,atomicMass:goe,bohrMagneton:yoe,boltzmann:xoe,conductanceQuantum:boe,coulomb:woe,createUnit:Noe,deuteronMass:_oe,dotPow:Eoe,electricConstant:Soe,elementaryCharge:Aoe,expm:Doe,faraday:Coe,fft:fI,gamma:dx,gravitationConstant:Toe,hartreeEnergy:Moe,ifft:Ioe,klitzing:Poe,loschmidt:Foe,magneticConstant:Roe,molarMass:Ooe,molarPlanckConstant:Boe,neutronMass:joe,nuclearMagneton:koe,planckCharge:$oe,planckLength:Loe,planckTemperature:zoe,protonMass:Voe,quantumOfCirculation:Uoe,reducedPlanckConstant:qoe,rydberg:Hoe,secondRadiation:Goe,speedOfLight:Woe,stefanBoltzmann:Qoe,thomsonCrossSection:Xoe,avogadro:Koe,bohrRadius:Joe,coulombConstant:Yoe,divide:nn,electronMass:Zoe,factorial:ei,firstRadiation:eue,gravity:tue,inverseConductanceQuantum:rue,lusolve:dI,magneticFluxQuantum:nue,molarMassC12:aue,multinomial:iue,parse:Ba,permutations:sue,planckMass:oue,polynomialRoot:uue,resolve:DI,setSize:lue,simplifyConstant:vx,solveODE:cue,stirlingS2:mI,unit:fue,bellNumbers:due,compile:Mue,eigs:hI,fermiCoupling:mue,gasConstant:hue,kldivergence:pue,mean:pI,molarVolume:vue,planckConstant:gue,quantileSeq:yue,simplifyCore:gx,variance:mx,classicalElectronRadius:xue,evaluate:Rs,median:vI,simplify:Qh,symbolicEqual:Iue,corr:bue,freqz:wue,leafCount:Pue,mad:Nue,parser:Fue,rationalize:Rue,std:_ue,zeta:Eue,derivative:MI,norm:hx,rotationMatrix:gI,help:Oue,planckTime:Sue,schur:yI,rotate:Aue,sylvester:xI,lyap:Due,config:be});Nr(cf,ol,{mapSlices:Une({isInteger:$n,typed:Z}),filter:Jne({typed:Z}),forEach:eae({typed:Z}),map:sae({typed:Z}),or:Jae({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),and:Qae({add:bt,concat:At,equalScalar:vt,matrix:Fe,not:Wm,typed:Z,zeros:tn}),concat:Tae({isInteger:$n,matrix:Fe,typed:Z}),max:fae({config:be,isNaN:pi,larger:An,numeric:da,typed:Z}),print:Hae({add:bt,matrix:Fe,typed:Z,zeros:tn}),sum:Bae({add:bt,config:be,numeric:da,typed:Z}),bitAnd:nie({add:bt,concat:At,equalScalar:vt,matrix:Fe,not:Wm,typed:Z,zeros:tn}),min:gae({config:be,isNaN:pi,numeric:da,smaller:Sn,typed:Z}),nullish:eie({deepEqual:uf,flatten:Ao,matrix:Fe,size:$r,typed:Z}),subset:Aae({add:bt,matrix:Fe,typed:Z,zeros:tn}),bitOr:sie({DenseMatrix:ft,concat:At,equalScalar:vt,matrix:Fe,typed:Z}),diff:Iae({bignumber:Ln,matrix:Fe,number:Ai,subtract:Er,typed:Z}),index:nae({Index:vn,getMatrixDataType:Yy}),range:bae({bignumber:Ln,matrix:Fe,add:bt,config:be,equal:Vn,isPositive:Do,isZero:ga,larger:An,largerEq:Gh,smaller:Sn,smallerEq:Vu,typed:Z}),row:_ae({Index:vn,matrix:Fe,range:Uu,typed:Z}),column:Gne({Index:vn,matrix:Fe,range:Uu,typed:Z}),cumsum:zae({add:bt,typed:Z,unaryPlus:lx}),mean:hae({add:bt,divide:nn,typed:Z}),quantileSeq:$ae({add:bt,bignumber:Ln,compare:Mo,divide:nn,isInteger:$n,larger:An,mapSlices:zc,multiply:qt,partitionSelect:Wh,smaller:Sn,smallerEq:Vu,subtract:Er,typed:Z}),variance:Uae({add:bt,divide:nn,isNaN:pi,mapSlices:zc,multiply:qt,subtract:Er,typed:Z}),std:Rae({map:Co,sqrt:Ra,typed:Z,variance:mx})});Nr(bI,{BigNumber:Re,Complex:Jt,Fraction:Eo,Matrix:zh,Node:wn,ObjectNode:ul,OperatorNode:Di,ParenthesisNode:Po,Range:pie,RelationalNode:wI,ResultSet:B4,ArrayNode:ll,BlockNode:NI,ConditionalNode:_I,ConstantNode:Is,DenseMatrix:ft,RangeNode:EI,Chain:px,FunctionAssignmentNode:SI,SparseMatrix:Lr,IndexNode:cl,ImmutableDenseMatrix:K4,Index:vn,AccessorNode:fl,AssignmentNode:AI,FibonacciHeap:eI,Spa:uI,Unit:tt,SymbolNode:Ps,FunctionNode:Fs,Help:CI,Parser:TI});px.createProxy(ol);function Bue(){const[t,e]=W.useState("e^x"),[r,n]=W.useState(0),[a,i]=W.useState(1),[s,u]=W.useState(3),[l,o]=W.useState("-"),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState([]),{problems:h,removingIds:v,refresh:T,saveProblem:S,deleteProblem:C}=$t(rk);W.useEffect(()=>{T().catch(console.error)},[T]);const N=(_,E,b,A)=>{const I=[];let F=0,B=_;for(let P=0;P<=A;P++){const L=Rs(B,{x:E}),$=L*Math.pow(b-E,P)/ei(P);F+=$,I.push({i:P,fx0:L,term:$}),B=MI(B,"x").toString()}return{result:F,terms:I}},M=()=>{try{const{result:_,terms:E}=N(t,r,a,s);o(_),m(E),f("สถานะ: คำนวณสำเร็จ")}catch(_){console.error(_),f("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),o("-"),m([])}},y=()=>{e("e^x"),n(0),i(1),u(3),o("-"),f("สถานะ: รีเซ็ตแล้ว"),m([])},x=async()=>{try{await S({expr:t,x0:r,x:a,n:s,method:"taylor"}),alert("บันทึกแล้ว!")}catch(_){alert("บันทึกไม่สำเร็จ: "+((_==null?void 0:_.message)||String(_)))}},w=_=>{e(_.expr),n(_.x0),i(_.x),u(_.n)},g=_=>{confirm("ลบโจทย์นี้ไหม?")&&C(_.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Taylor Series Approximation",subtitle:"การประมาณค่า f(x) ด้วยอนุพันธ์หลายลำดับ (Taylor Series)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ฟังก์ชัน f(x)"}),p.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value),placeholder:"เช่น e^x, sin(x), x^3 + 2x",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₀"}),p.jsx("input",{type:"number",value:r,onChange:_=>n(parseFloat(_.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x"}),p.jsx("input",{type:"number",value:a,onChange:_=>i(parseFloat(_.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จำนวนเทอม (n)"}),p.jsx("input",{type:"number",value:s,onChange:_=>u(parseInt(_.target.value)||1),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:M,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:y,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:x,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:c}),p.jsx(Ut,{problems:h,onLoad:w,onDelete:g,removingIds:v})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร Taylor Series:",p.jsx("br",{}),"f(x) ≈ f(x₀) + f'(x₀)(x−x₀) + f''(x₀)(x−x₀)²/2! + …"]}),d.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"ลำดับ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"f⁽ⁱ⁾(x₀)"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"เทอมที่ i"})]})}),p.jsx("tbody",{children:d.map(_=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-2 py-1 border border-slate-700 text-center",children:_.i}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(_.fx0)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(_.term)})]},_.i))})]})}),l!=="-"&&p.jsx("div",{className:"text-sm text-gray-300",children:p.jsxs("p",{children:["f(",a,") ≈ ",p.jsx("b",{children:je(l)})]})})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const yx="problems_newtonraphson";async function xx(){const t=Ft(Ue(Ie,yx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function bx(t){return jt(Ue(Ie,yx),{...t,method:"newton",createdAt:kt()})}async function wx(t){return Bt(Tt(Ie,yx,t))}async function II(){return xx()}async function PI(t){return bx(t)}async function FI(t){return wx(t)}const jue={getNewtonProblems:xx,saveNewtonProblem:bx,deleteNewtonProblem:wx,getProblems:II,save:PI,remove:FI},kue=Object.freeze(Object.defineProperty({__proto__:null,default:jue,deleteNewtonProblem:wx,getNewtonProblems:xx,getProblems:II,remove:FI,save:PI,saveNewtonProblem:bx},Symbol.toStringTag,{value:"Module"}));function RI({iterations:t=[]}){return!t||t.length===0?null:p.jsx("div",{className:"bg-slate-800 rounded-lg p-4 shadow mt-6 overflow-auto",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700 text-gray-200",children:[p.jsx("th",{className:"p-2 text-right",children:"iter"}),p.jsx("th",{className:"p-2 text-right",children:"x"}),p.jsx("th",{className:"p-2 text-right",children:"f(x)"}),p.jsx("th",{className:"p-2 text-right",children:"error"})]})}),p.jsx("tbody",{children:t.map(e=>p.jsxs("tr",{className:"border-b border-slate-700 text-gray-100",children:[p.jsx("td",{className:"p-2 text-right",children:e.iter}),p.jsx("td",{className:"p-2 text-right",children:je(e.x)}),p.jsx("td",{className:"p-2 text-right",children:je(e.fx)}),p.jsx("td",{className:"p-2 text-right",children:e.error===null?"-":je(e.error)})]},e.iter))})]})})}function $ue(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState([]),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState("-"),[h,v]=W.useState("-"),T=W.useRef(null),{problems:S,removingIds:C,refresh:N,saveProblem:M,deleteProblem:y}=$t(kue),x=async()=>{if(!t||!r||!a||!s){alert("กรอกให้ครบก่อนบันทึกนะ");return}try{await M({expr:t,x0:r,tol:a,maxIter:s}),alert("บันทึกแล้ว!")}catch(P){console.error("บันทึกโจทย์ผิดพลาด:",P),alert("บันทึกไม่สำเร็จ ลองเช็ค Firestore rules/console")}},w=P=>{e(P.expr??""),n(P.x0??""),i(P.tol??""),u(P.maxIter??"")},g=P=>{if(confirm(`ลบโจทย์นี้ไหม?
${P.expr}`))try{y(P.id)}catch(L){console.error("ลบโจทย์ผิดพลาด:",L),alert("ลบไม่สำเร็จ")}};function _(P){if(!P||!P.trim())return null;let L=P.replace(/\^/g,"**");L=L.replace(/\bln\s*\(/gi,"log("),L=L.replace(/\bpi\b/gi,"PI"),L=L.replace(/\be\b/gi,"E");try{return new Function("x","with(Math){ return ("+L+"); }")}catch{return null}}function E(P,L){return(P(L+1e-6)-P(L-1e-6))/(2*1e-6)}function b(P,L,$,k){let V=[],ee=L,j=P(ee);V.push({iter:0,x:ee,fx:j,error:null});for(let X=1;X<=k;X++){let U=E(P,ee);if(U===0)return{error:"f'(x) = 0 หารด้วยศูนย์ไม่ได้"};let de=ee-j/U,ue=P(de),le=Math.abs(de-ee)/Math.abs(de);if(V.push({iter:X,x:de,fx:ue,error:le}),Math.abs(ue)<$||le<$)return{root:de,iterations:V,converged:!0};ee=de,j=ue}return{root:ee,iterations:V,converged:!1}}function A(P){return P===null?"-":isFinite(P)?Number(P).toPrecision(6).replace(new RegExp("(?:\\.0+$)|(?:(?<=\\.[0-9]*[1-9])0+$)"),""):String(P)}function I(P,L){const $=T.current,k=$.getContext("2d"),V=$.width,ee=$.height;if(k.clearRect(0,0,V,ee),k.fillStyle="#061022",k.fillRect(0,0,V,ee),L.length===0)return;const j=L.map(Ee=>Ee.x),X=L.map(Ee=>Ee.fx),U=Math.min(...j),de=Math.max(...j),ue=(de-U)*.3||1,le=U-ue,H=de+ue,J=Math.min(...X),re=Math.max(...X),ie=(re-J)*.3||1,se=J-ie,ve=re+ie,me=Ee=>(Ee-le)/(H-le)*V,Ne=Ee=>ee-(Ee-se)/(ve-se)*ee;if(k.strokeStyle="rgba(255,255,255,0.1)",se<0&&ve>0){const Ee=Ne(0);k.beginPath(),k.moveTo(0,Ee),k.lineTo(V,Ee),k.stroke()}if(le<0&&H>0){const Ee=me(0);k.beginPath(),k.moveTo(Ee,0),k.lineTo(Ee,ee),k.stroke()}k.beginPath(),k.lineWidth=2,k.strokeStyle="#8ab4ff";const Be=500;let Le=!1;for(let Ee=0;Ee<Be;Ee++){const De=le+(H-le)*Ee/(Be-1);let G;try{G=P(De)}catch{G=NaN}if(!isFinite(G)){Le=!1;continue}const te=me(De),ce=Ne(G);Le?k.lineTo(te,ce):(k.moveTo(te,ce),Le=!0)}k.stroke(),L.forEach((Ee,De)=>{const G=me(Ee.x),te=Ne(Ee.fx);if(De<L.length-1){const ce=L[De+1].x;k.beginPath(),k.moveTo(G,te),k.lineTo(me(ce),Ne(0)),k.strokeStyle="#22c55e",k.setLineDash([4,4]),k.stroke(),k.setLineDash([])}k.beginPath(),k.moveTo(G,te),k.lineTo(G,Ne(0)),k.strokeStyle="rgba(255,255,255,0.2)",k.stroke(),k.fillStyle="#e2e8f0",k.font="12px sans-serif",k.fillText("x"+De,G-10,Ne(0)+14),k.beginPath(),k.arc(G,te,De===L.length-1?6:3,0,2*Math.PI),k.fillStyle=De===L.length-1?"#fb923c":"#f97316",k.fill()})}const F=()=>{const P=_(t);if(!P){f("สถานะ: สมการไม่ถูกต้อง");return}const L=parseFloat(r),$=parseFloat(a),k=parseInt(s,10);if(isNaN(L)){f("สถานะ: x0 ไม่ถูกต้อง");return}if(!isFinite($)||$<=0){f("สถานะ: tol ต้องเป็นจำนวนบวก");return}if(!Number.isInteger(k)||k<=0){f("สถานะ: Max Iteration ต้องเป็นจำนวนเต็มบวก");return}const V=b(P,L,$,k);if(V.error){f("สถานะ: "+V.error);return}o(V.iterations),f("สถานะ: เสร็จสิ้น "+(V.converged?"(converged)":"(ไม่ converged)")),v(V.iterations.length),m(A(V.root)),I(P,V.iterations)},B=()=>{e(""),n(""),i(""),u(""),o([]),f("สถานะ: รีเซ็ตแล้ว"),v("-"),m("-"),I(()=>0,[])};return W.useEffect(()=>{I(()=>0,[])},[]),W.useEffect(()=>{N().catch(console.error)},[N]),p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Newton-Raphson Method",subtitle:"ตาราง + กราฟ แสดงการทำงาน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"สมการ f(x)"}),p.jsx("input",{type:"text",value:t,onChange:P=>e(P.target.value),placeholder:"เช่น x^3 - x - 2",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x0"}),p.jsx("input",{type:"number",value:r,onChange:P=>n(P.target.value),placeholder:"เช่น 1.5",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error"}),p.jsx("input",{type:"text",value:a,onChange:P=>i(P.target.value),placeholder:"เช่น 1e-6",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:s,onChange:P=>u(P.target.value),placeholder:"เช่น 50",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsx("button",{onClick:F,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:B,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:x,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("div",{children:c}),p.jsxs("div",{children:["Iterations: ",h]}),p.jsxs("div",{children:["Root: ",d]})]}),p.jsx(Ut,{problems:S,onLoad:w,onDelete:g,removingIds:C})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"กราฟฟังก์ชัน + Iterations"}),p.jsx("canvas",{ref:T,width:800,height:320,className:"w-full h-72 bg-slate-900 rounded"}),p.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["จุดส้ม = ค่าที่ได้ในแต่ละ iteration, จุดส้มใหญ่ = ค่าสุดท้าย เส้นเขียว = เส้นสัมผัส f(x) ที่ x",p.jsx("sub",{children:"i"}),", Label = x0, x1, x2 …"]})]})]}),p.jsx("div",{className:"mt-6",children:p.jsx(RI,{iterations:l})})]})}const Nx="problems_secant";async function _x(){const t=Ft(Ue(Ie,Nx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function Ex(t){return jt(Ue(Ie,Nx),{...t,method:"secant",createdAt:kt()})}async function Sx(t){return Bt(Tt(Ie,Nx,t))}async function OI(){return _x()}async function BI(t){return Ex(t)}async function jI(t){return Sx(t)}const Lue={getSecantProblems:_x,saveSecantProblem:Ex,deleteSecantProblem:Sx,getProblems:OI,save:BI,remove:jI},zue=Object.freeze(Object.defineProperty({__proto__:null,default:Lue,deleteSecantProblem:Sx,getProblems:OI,getSecantProblems:_x,remove:jI,save:BI,saveSecantProblem:Ex},Symbol.toStringTag,{value:"Module"}));function Vue(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState(""),[c,f]=W.useState([]),[d,m]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[h,v]=W.useState("-"),[T,S]=W.useState("-"),C=W.useRef(null),{problems:N,removingIds:M,refresh:y,saveProblem:x,deleteProblem:w}=$t(zue),g=async()=>{if(!t||!r||!a||!s||!l){alert("กรอกให้ครบก่อนบันทึกนะ");return}try{await x({expr:t,x0:r,x1:a,tol:s,maxIter:l}),alert("บันทึกแล้ว!")}catch(L){console.error("บันทึกโจทย์ผิดพลาด:",L),alert("บันทึกไม่สำเร็จ ลองเช็ค Firestore rules/console")}},_=L=>{e(L.expr??""),n(L.x0??""),i(L.x1??""),u(L.tol??""),o(L.maxIter??"")},E=L=>{if(confirm(`ลบโจทย์นี้ไหม?
${L.expr}`))try{w(L.id)}catch($){console.error("ลบโจทย์ผิดพลาด:",$),alert("ลบไม่สำเร็จ")}};function b(L){if(!L||!L.trim())return null;let $=L.replace(/\^/g,"**");$=$.replace(/\bln\s*\(/gi,"log("),$=$.replace(/\bpi\b/gi,"PI"),$=$.replace(/\be\b/gi,"E");try{return new Function("x","with(Math){ return ("+$+"); }")}catch{return null}}function A(L,$,k,V,ee){let j=[],X=L($),U=L(k);j.push({iter:0,x:$,fx:X,error:null}),j.push({iter:1,x:k,fx:U,error:null});for(let de=2;de<=ee;de++){if(U-X===0)return{error:"หารด้วยศูนย์ (f1 - f0 = 0)"};let ue=k-U*(k-$)/(U-X),le=L(ue),H=Math.abs(ue-k)/Math.abs(ue);if(j.push({iter:de,x:ue,fx:le,error:H}),Math.abs(le)<V||H<V)return{root:ue,iterations:j,converged:!0};$=k,X=U,k=ue,U=le}return{root:k,iterations:j,converged:!1}}function I(L){return L===null?"-":isFinite(L)?Number(L).toPrecision(6).replace(new RegExp("(?:\\.0+$)|(?:(?<=\\.[0-9]*[1-9])0+$)"),""):String(L)}function F(L,$){const k=C.current,V=k.getContext("2d"),ee=k.width,j=k.height;if(V.clearRect(0,0,ee,j),V.fillStyle="#061022",V.fillRect(0,0,ee,j),$.length===0)return;const X=$.map(De=>De.x),U=$.map(De=>De.fx),de=Math.min(...X),ue=Math.max(...X),le=Math.min(...U),H=Math.max(...U),J=(ue-de)*.3||1,re=(H-le)*.3||1,ie=de-J,se=ue+J,ve=le-re,me=H+re,Ne=De=>(De-ie)/(se-ie)*ee,Be=De=>j-(De-ve)/(me-ve)*j;if(V.strokeStyle="rgba(255,255,255,0.1)",ve<0&&me>0){const De=Be(0);V.beginPath(),V.moveTo(0,De),V.lineTo(ee,De),V.stroke()}if(ie<0&&se>0){const De=Ne(0);V.beginPath(),V.moveTo(De,0),V.lineTo(De,j),V.stroke()}V.beginPath(),V.lineWidth=2,V.strokeStyle="#8ab4ff";const Le=500;let Ee=!1;for(let De=0;De<Le;De++){const G=ie+(se-ie)*De/(Le-1);let te;try{te=L(G)}catch{te=NaN}if(!isFinite(te)){Ee=!1;continue}const ce=Ne(G),q=Be(te);Ee?V.lineTo(ce,q):(V.moveTo(ce,q),Ee=!0)}V.stroke(),$.forEach((De,G)=>{const te=Ne(De.x),ce=Be(De.fx);if(G>0){const q=$[G-1];V.beginPath(),V.moveTo(Ne(q.x),Be(q.fx)),V.lineTo(te,ce),V.strokeStyle="#22c55e",V.setLineDash([4,4]),V.stroke(),V.setLineDash([])}V.beginPath(),V.arc(te,ce,G===$.length-1?6:3,0,2*Math.PI),V.fillStyle=G===$.length-1?"#fb923c":"#f97316",V.fill(),V.fillStyle="#e2e8f0",V.font="12px sans-serif",V.fillText("x"+G,te-10,Be(0)+14)})}const B=()=>{const L=b(t);if(!L){m("สถานะ: สมการไม่ถูกต้อง");return}const $=parseFloat(r),k=parseFloat(a),V=parseFloat(s),ee=parseInt(l,10);if(isNaN($)||isNaN(k)){m("สถานะ: x0/x1 ไม่ถูกต้อง");return}if(!isFinite(V)||V<=0){m("สถานะ: tol ต้องเป็นจำนวนบวก");return}if(!Number.isInteger(ee)||ee<=0){m("สถานะ: Max Iteration ต้องเป็นจำนวนเต็มบวก");return}const j=A(L,$,k,V,ee);if(j.error){m("สถานะ: "+j.error);return}f(j.iterations),m("สถานะ: เสร็จสิ้น "+(j.converged?"(converged)":"(ไม่ converged)")),S(j.iterations.length),v(I(j.root)),F(L,j.iterations)},P=()=>{e(""),n(""),i(""),u(""),o(""),f([]),m("สถานะ: รีเซ็ตแล้ว"),S("-"),v("-"),F(()=>0,[])};return W.useEffect(()=>{F(()=>0,[])},[]),W.useEffect(()=>{y().catch(console.error)},[y]),p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Secant Method",subtitle:"ตาราง + กราฟ แสดงการทำงาน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"สมการ f(x)"}),p.jsx("input",{type:"text",value:t,onChange:L=>e(L.target.value),placeholder:"เช่น x^3 - x - 2",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x0"}),p.jsx("input",{type:"number",value:r,onChange:L=>n(L.target.value),placeholder:"เช่น 1",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x1"}),p.jsx("input",{type:"number",value:a,onChange:L=>i(L.target.value),placeholder:"เช่น 2",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error"}),p.jsx("input",{type:"text",value:s,onChange:L=>u(L.target.value),placeholder:"เช่น 1e-6",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:l,onChange:L=>o(L.target.value),placeholder:"เช่น 50",className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-4",children:[p.jsx("button",{onClick:B,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:P,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("div",{children:d}),p.jsxs("div",{children:["Iterations: ",T]}),p.jsxs("div",{children:["Root: ",h]})]}),p.jsx(Ut,{problems:N,onLoad:_,onDelete:E,removingIds:M})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"กราฟฟังก์ชัน + Secant"}),p.jsx("canvas",{ref:C,width:800,height:320,className:"w-full h-72 bg-slate-900 rounded"}),p.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"เส้นเขียว = เส้น secant ระหว่างแต่ละจุด, จุดส้ม = ค่าที่ได้, จุดส้มใหญ่ = ค่าสุดท้าย Label = x0, x1, x2 …"})]})]}),p.jsx("div",{className:"mt-6",children:p.jsx(RI,{iterations:c})})]})}const Ax="problems_cramer";async function kI(){const t=Ft(Ue(Ie,Ax),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function $I(t){return jt(Ue(Ie,Ax),{...t,method:"cramer",createdAt:kt()})}async function Dx(t){return Bt(Tt(Ie,Ax,t))}const Uue=kI,que=$I,Hue=Dx,Gue=Dx,Wue=Object.freeze(Object.defineProperty({__proto__:null,del:Gue,deleteCramerProblem:Dx,getCramerProblems:kI,getProblems:Uue,remove:Hue,save:que,saveCramerProblem:$I},Symbol.toStringTag,{value:"Module"}));function Que(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(Wue);W.useEffect(()=>{d().catch(console.error)},[d]);const v=x=>{const w=x.length;if(w===1)return x[0][0];if(w===2)return x[0][0]*x[1][1]-x[0][1]*x[1][0];let g=0;for(let _=0;_<w;_++){const E=x.slice(1).map(b=>b.filter((A,I)=>I!==_));g+=x[0][_]*v(E)*(_%2===0?1:-1)}return g},T=(x,w)=>{const g=v(x);if(Math.abs(g)<1e-12)return{error:"Determinant = 0 (ไม่มีคำตอบหรือมีหลายคำตอบ)"};const _=x.length,E=[];for(let b=0;b<_;b++){const A=x.map((I,F)=>I.map((B,P)=>P===b?w[F]:B));E.push(v(A)/g)}return{detA:g,results:E}},S=()=>{try{const x=T(r,a);if(x.error){o("สถานะ: "+x.error),u([]);return}u(x.results),o("สถานะ: เสร็จสิ้น (detA = "+je(x.detA)+")")}catch(x){console.error(x),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},C=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},N=async()=>{try{const x={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("Cramer: saving problem (serialized)",x),await m(x),alert("บันทึกแล้ว!")}catch(x){console.error("save problem failed:",x),alert("บันทึกไม่สำเร็จ: "+((x==null?void 0:x.message)||String(x)))}},M=x=>{try{const w=typeof x.A=="string"?JSON.parse(x.A):x.A||[],g=typeof x.b=="string"?JSON.parse(x.b):x.b||[];n(w),i(g),w&&Array.isArray(w)&&e(w.length)}catch(w){console.error("failed to parse saved problem",w,x),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},y=x=>{confirm("ลบโจทย์นี้ไหม?")&&h(x.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Cramer's Rule",subtitle:"หาคำตอบระบบสมการเชิงเส้นโดยใช้ Determinant"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:x=>{const w=Math.max(1,parseInt(x.target.value)||1);e(w),n(Array(w).fill().map(()=>Array(w).fill(0))),i(Array(w).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((x,w)=>p.jsx("tr",{children:x.map((g,_)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:g,onChange:E=>{const b=r.map(A=>[...A]);b[w][_]=parseFloat(E.target.value)||0,n(b)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},_))},w))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((x,w)=>p.jsx("input",{type:"number",value:x,onChange:g=>{const _=[...a];_[w]=parseFloat(g.target.value)||0,i(_)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},w))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:S,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:C,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:N,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:M,onDelete:y,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:`ใส่เมทริกซ์ A และเวกเตอร์ b แล้วกด "คำนวณ" โปรแกรมจะคำนวณโดยใช้ Cramer's Rule หาก det(A) = 0 จะถือว่าไม่มีคำตอบหรือมีคำตอบไม่เป็นเอกเทศ`}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((x,w)=>p.jsxs("li",{children:["x",w+1," = ",je(x)]},w))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Cx="problems_gaussian";async function LI(){const t=Ft(Ue(Ie,Cx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function zI(t){return jt(Ue(Ie,Cx),{...t,method:"gaussian",createdAt:kt()})}async function Tx(t){return Bt(Tt(Ie,Cx,t))}const Xue=LI,Kue=zI,Jue=Tx,Yue=Tx,Zue=Object.freeze(Object.defineProperty({__proto__:null,del:Yue,deleteGaussianProblem:Tx,getGaussianProblems:LI,getProblems:Xue,remove:Jue,save:Kue,saveGaussianProblem:zI},Symbol.toStringTag,{value:"Module"}));function ele(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(Zue);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x)=>{const w=y.length,g=y.map(b=>[...b]),_=[...x];for(let b=0;b<w-1;b++){if(Math.abs(g[b][b])<1e-12)return{error:"Pivot = 0 (ควรใช้ Partial Pivoting)"};for(let A=b+1;A<w;A++){const I=g[A][b]/g[b][b];for(let F=b;F<w;F++)g[A][F]-=I*g[b][F];_[A]-=I*_[b]}}const E=Array(w).fill(0);for(let b=w-1;b>=0;b--){let A=0;for(let I=b+1;I<w;I++)A+=g[b][I]*E[I];if(Math.abs(g[b][b])<1e-12)return{error:"Pivot = 0 ทำให้หารไม่ได้"};E[b]=(_[b]-A)/g[b][b]}return{solution:E}},T=()=>{try{const y=v(r,a);if(y.error){o("สถานะ: "+y.error),u([]);return}u(y.solution),o("สถานะ: เสร็จสิ้น (คำนวณสำเร็จ)")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},S=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("Gaussian: saving problem (serialized)",y),await m(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.A=="string"?JSON.parse(y.A):y.A||[],w=typeof y.b=="string"?JSON.parse(y.b):y.b||[];n(x),i(w),x&&Array.isArray(x)&&e(x.length)}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Gaussian Elimination",subtitle:"การกำจัดแบบเกาส์ (Forward Elimination + Back Substitution)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:y=>{const x=Math.max(1,parseInt(y.target.value)||1);e(x),n(Array(x).fill().map(()=>Array(x).fill(0))),i(Array(x).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((y,x)=>p.jsx("tr",{children:y.map((w,g)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:w,onChange:_=>{const E=r.map(b=>[...b]);E[x][g]=parseFloat(_.target.value)||0,n(E)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},g))},x))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((y,x)=>p.jsx("input",{type:"number",value:y,onChange:w=>{const g=[...a];g[x]=parseFloat(w.target.value)||0,i(g)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},x))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:'ใส่เมทริกซ์ A และเวกเตอร์ b แล้วกด "คำนวณ" โปรแกรมจะใช้ขั้นตอนของ Gaussian Elimination เพื่อแปลงระบบสมการให้อยู่ในรูปสามเหลี่ยมบน จากนั้นทำ Back Substitution เพื่อหาคำตอบของ x₁, x₂, ..., xₙ'}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((y,x)=>p.jsxs("li",{children:["x",x+1," = ",je(y)]},x))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Mx="problems_gaussjordan";async function VI(){const t=Ft(Ue(Ie,Mx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function UI(t){return jt(Ue(Ie,Mx),{...t,method:"gaussjordan",createdAt:kt()})}async function Ix(t){return Bt(Tt(Ie,Mx,t))}const tle=VI,rle=UI,nle=Ix,ale=Ix,ile=Object.freeze(Object.defineProperty({__proto__:null,del:ale,deleteGaussJordanProblem:Ix,getGaussJordanProblems:VI,getProblems:tle,remove:nle,save:rle,saveGaussJordanProblem:UI},Symbol.toStringTag,{value:"Module"}));function sle(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(ile);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x)=>{const w=y.length,g=y.map((E,b)=>[...E,x[b]]);for(let E=0;E<w;E++){if(Math.abs(g[E][E])<1e-12)return{error:"Pivot = 0 (ควรใช้ Partial Pivoting)"};const b=g[E][E];for(let A=0;A<=w;A++)g[E][A]/=b;for(let A=0;A<w;A++){if(A===E)continue;const I=g[A][E];for(let F=0;F<=w;F++)g[A][F]-=I*g[E][F]}}return{solution:g.map(E=>E[w]),matrix:g}},T=()=>{try{const y=v(r,a);if(y.error){o("สถานะ: "+y.error),u([]);return}u(y.solution),o("สถานะ: เสร็จสิ้น (Reduced Row-Echelon Form สำเร็จ)")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},S=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("GaussJordan: saving problem (serialized)",y),await m(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.A=="string"?JSON.parse(y.A):y.A||[],w=typeof y.b=="string"?JSON.parse(y.b):y.b||[];n(x),i(w),x&&Array.isArray(x)&&e(x.length)}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Gauss–Jordan Elimination",subtitle:"วิธีการกำจัดแบบเกาส์–จอร์แดน (Reduced Row-Echelon Form)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:y=>{const x=Math.max(1,parseInt(y.target.value)||1);e(x),n(Array(x).fill().map(()=>Array(x).fill(0))),i(Array(x).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((y,x)=>p.jsx("tr",{children:y.map((w,g)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:w,onChange:_=>{const E=r.map(b=>[...b]);E[x][g]=parseFloat(_.target.value)||0,n(E)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},g))},x))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((y,x)=>p.jsx("input",{type:"number",value:y,onChange:w=>{const g=[...a];g[x]=parseFloat(w.target.value)||0,i(g)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},x))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:'ใส่เมทริกซ์ A และเวกเตอร์ b แล้วกด "คำนวณ" โปรแกรมจะทำการกำจัดแบบเกาส์–จอร์แดน (ทำให้ได้เมทริกซ์ Reduced Row-Echelon Form) จากนั้นผลลัพธ์ของตัวแปร x₁, x₂, ..., xₙ จะปรากฏในคอลัมน์สุดท้ายของเมทริกซ์'}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((y,x)=>p.jsxs("li",{children:["x",x+1," = ",je(y)]},x))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Px="problems_matrixinversion";async function qI(){const t=Ft(Ue(Ie,Px),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function HI(t){return jt(Ue(Ie,Px),{...t,method:"matrixinversion",createdAt:kt()})}async function Fx(t){return Bt(Tt(Ie,Px,t))}const ole=qI,ule=HI,lle=Fx,cle=Fx,fle=Object.freeze(Object.defineProperty({__proto__:null,del:cle,deleteMatrixInversionProblem:Fx,getMatrixInversionProblems:qI,getProblems:ole,remove:lle,save:ule,saveMatrixInversionProblem:HI},Symbol.toStringTag,{value:"Module"}));function dle(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(fle);W.useEffect(()=>{d().catch(console.error)},[d]);const v=g=>Array.from({length:g},(_,E)=>Array.from({length:g},(b,A)=>E===A?1:0)),T=g=>{const _=g.length,E=g.map((A,I)=>[...A,...v(_)[I]]);for(let A=0;A<_;A++){let I=E[A][A];if(Math.abs(I)<1e-12)return{error:"Pivot = 0 (ไม่สามารถหา Inverse ได้)"};for(let F=0;F<2*_;F++)E[A][F]/=I;for(let F=0;F<_;F++){if(F===A)continue;const B=E[F][A];for(let P=0;P<2*_;P++)E[F][P]-=B*E[A][P]}}return{inverse:E.map(A=>A.slice(_))}},S=(g,_)=>{const E=g.length,b=Array(E).fill(0);for(let A=0;A<E;A++)for(let I=0;I<E;I++)b[A]+=g[A][I]*_[I];return b},C=(g,_)=>{const E=T(g);return E.error?{error:E.error}:{solution:S(E.inverse,_),inverse:E.inverse}},N=()=>{try{const g=C(r,a);if(g.error){o("สถานะ: "+g.error),u([]);return}u(g.solution),o("สถานะ: เสร็จสิ้น (คำนวณ Inverse สำเร็จ)")}catch(g){console.error(g),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},M=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},y=async()=>{try{const g={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("MatrixInversion: saving problem (serialized)",g),await m(g),alert("บันทึกแล้ว!")}catch(g){console.error("save problem failed:",g),alert("บันทึกไม่สำเร็จ: "+((g==null?void 0:g.message)||String(g)))}},x=g=>{try{const _=typeof g.A=="string"?JSON.parse(g.A):g.A||[],E=typeof g.b=="string"?JSON.parse(g.b):g.b||[];n(_),i(E),_&&Array.isArray(_)&&e(_.length)}catch(_){console.error("failed to parse saved problem",_,g),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},w=g=>{confirm("ลบโจทย์นี้ไหม?")&&h(g.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Matrix Inversion Method",subtitle:"แก้ระบบสมการเชิงเส้นโดยใช้เมทริกซ์ผกผัน (A⁻¹b)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:g=>{const _=Math.max(1,parseInt(g.target.value)||1);e(_),n(Array(_).fill().map(()=>Array(_).fill(0))),i(Array(_).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((g,_)=>p.jsx("tr",{children:g.map((E,b)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:E,onChange:A=>{const I=r.map(F=>[...F]);I[_][b]=parseFloat(A.target.value)||0,n(I)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},b))},_))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((g,_)=>p.jsx("input",{type:"number",value:g,onChange:E=>{const b=[...a];b[_]=parseFloat(E.target.value)||0,i(b)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},_))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:N,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:M,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:y,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:x,onDelete:w,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"โปรแกรมจะคำนวณเมทริกซ์ผกผัน A⁻¹ โดยใช้ Gauss–Jordan บน [A | I] จากนั้นนำไปคูณกับเวกเตอร์ b เพื่อหาคำตอบของระบบสมการเชิงเส้น"}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((g,_)=>p.jsxs("li",{children:["x",_+1," = ",je(g)]},_))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Rx="problems_lu";async function GI(){const t=Ft(Ue(Ie,Rx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function WI(t){return jt(Ue(Ie,Rx),{...t,method:"lu",createdAt:kt()})}async function Ox(t){return Bt(Tt(Ie,Rx,t))}const mle=GI,hle=WI,ple=Ox,vle=Ox,gle=Object.freeze(Object.defineProperty({__proto__:null,del:vle,deleteLUProblem:Ox,getLUProblems:GI,getProblems:mle,remove:ple,save:hle,saveLUProblem:WI},Symbol.toStringTag,{value:"Module"}));function yle(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(gle);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x)=>{const w=y.length,g=Array.from({length:w},()=>Array(w).fill(0)),_=Array.from({length:w},()=>Array(w).fill(0));for(let A=0;A<w;A++){for(let I=A;I<w;I++){let F=0;for(let B=0;B<A;B++)F+=g[A][B]*_[B][I];_[A][I]=y[A][I]-F}for(let I=A;I<w;I++)if(A===I)g[A][A]=1;else{let F=0;for(let B=0;B<A;B++)F+=g[I][B]*_[B][A];if(Math.abs(_[A][A])<1e-12)return{error:"Pivot = 0 (ไม่สามารถแยก LU ได้)"};g[I][A]=(y[I][A]-F)/_[A][A]}}const E=Array(w).fill(0);for(let A=0;A<w;A++){let I=0;for(let F=0;F<A;F++)I+=g[A][F]*E[F];E[A]=x[A]-I}const b=Array(w).fill(0);for(let A=w-1;A>=0;A--){let I=0;for(let F=A+1;F<w;F++)I+=_[A][F]*b[F];if(Math.abs(_[A][A])<1e-12)return{error:"Pivot = 0 (หารไม่ได้)"};b[A]=(E[A]-I)/_[A][A]}return{L:g,U:_,solution:b}},T=()=>{try{const y=v(r,a);if(y.error){o("สถานะ: "+y.error),u([]);return}u(y.solution),o("สถานะ: เสร็จสิ้น (LU Decomposition สำเร็จ)")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},S=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("LUDecomposition: saving problem (serialized)",y),await m(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.A=="string"?JSON.parse(y.A):y.A||[],w=typeof y.b=="string"?JSON.parse(y.b):y.b||[];n(x),i(w),x&&Array.isArray(x)&&e(x.length)}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"LU Decomposition Method",subtitle:"การแยกเมทริกซ์เป็น L และ U เพื่อแก้ระบบสมการเชิงเส้น"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:y=>{const x=Math.max(1,parseInt(y.target.value)||1);e(x),n(Array(x).fill().map(()=>Array(x).fill(0))),i(Array(x).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((y,x)=>p.jsx("tr",{children:y.map((w,g)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:w,onChange:_=>{const E=r.map(b=>[...b]);E[x][g]=parseFloat(_.target.value)||0,n(E)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},g))},x))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((y,x)=>p.jsx("input",{type:"number",value:y,onChange:w=>{const g=[...a];g[x]=parseFloat(w.target.value)||0,i(g)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},x))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"วิธี LU Decomposition จะแยกเมทริกซ์ A เป็น L (Lower Triangular) และ U (Upper Triangular) จากนั้นแก้สมการ L·y = b และ U·x = y เพื่อหาคำตอบของ x₁, x₂, ..., xₙ"}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((y,x)=>p.jsxs("li",{children:["x",x+1," = ",je(y)]},x))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Bx="problems_cholesky";async function QI(){const t=Ft(Ue(Ie,Bx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function XI(t){return jt(Ue(Ie,Bx),{...t,method:"cholesky",createdAt:kt()})}async function jx(t){return Bt(Tt(Ie,Bx,t))}const xle=QI,ble=XI,wle=jx,Nle=jx,_le=Object.freeze(Object.defineProperty({__proto__:null,del:Nle,deleteCholeskyProblem:jx,getCholeskyProblems:QI,getProblems:xle,remove:wle,save:ble,saveCholeskyProblem:XI},Symbol.toStringTag,{value:"Module"}));function Ele(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(_le);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x)=>{const w=y.length,g=Array.from({length:w},()=>Array(w).fill(0));try{for(let b=0;b<w;b++)for(let A=0;A<=b;A++){let I=0;for(let F=0;F<A;F++)I+=g[b][F]*g[A][F];if(b===A){const F=y[b][b]-I;if(F<=0)return{error:"A ไม่เป็นบวกกำหนดแน่นอน (Positive Definite)"};g[b][A]=Math.sqrt(F)}else g[b][A]=(y[b][A]-I)/g[A][A]}const _=Array(w).fill(0);for(let b=0;b<w;b++){let A=0;for(let I=0;I<b;I++)A+=g[b][I]*_[I];_[b]=(x[b]-A)/g[b][b]}const E=Array(w).fill(0);for(let b=w-1;b>=0;b--){let A=0;for(let I=b+1;I<w;I++)A+=g[I][b]*E[I];E[b]=(_[b]-A)/g[b][b]}return{L:g,solution:E}}catch{return{error:"เกิดข้อผิดพลาดในการคำนวณ"}}},T=()=>{try{const y=v(r,a);if(y.error){o("สถานะ: "+y.error),u([]);return}u(y.solution),o("สถานะ: เสร็จสิ้น (Cholesky Decomposition สำเร็จ)")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},S=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u([]),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={A:JSON.stringify(r),b:JSON.stringify(a),size:t,expr:`Matrix ${t}x${t}`};console.log("Cholesky: saving problem (serialized)",y),await m(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.A=="string"?JSON.parse(y.A):y.A||[],w=typeof y.b=="string"?JSON.parse(y.b):y.b||[];n(x),i(w),x&&Array.isArray(x)&&e(x.length)}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Cholesky Decomposition Method",subtitle:"การแยกเมทริกซ์สมมาตรบวกกำหนดแน่นอน A = L·Lᵀ"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:y=>{const x=Math.max(1,parseInt(y.target.value)||1);e(x),n(Array(x).fill().map(()=>Array(x).fill(0))),i(Array(x).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((y,x)=>p.jsx("tr",{children:y.map((w,g)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:w,onChange:_=>{const E=r.map(b=>[...b]);E[x][g]=parseFloat(_.target.value)||0,n(E)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},g))},x))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((y,x)=>p.jsx("input",{type:"number",value:y,onChange:w=>{const g=[...a];g[x]=parseFloat(w.target.value)||0,i(g)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},x))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:l})}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"วิธี Cholesky Decomposition ใช้สำหรับเมทริกซ์สมมาตรบวกกำหนดแน่นอน โดยแยก A = L·Lᵀ จากนั้นแก้สมการ L·y = b และ Lᵀ·x = y เพื่อหาคำตอบของตัวแปร x₁, x₂, ..., xₙ"}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:s.map((y,x)=>p.jsxs("li",{children:["x",x+1," = ",je(y)]},x))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const kx="problems_jacobi";async function KI(){const t=Ft(Ue(Ie,kx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function JI(t){return jt(Ue(Ie,kx),{...t,method:"jacobi",createdAt:kt()})}async function $x(t){return Bt(Tt(Ie,kx,t))}const Sle=KI,Ale=JI,Dle=$x,Cle=$x,Tle=Object.freeze(Object.defineProperty({__proto__:null,del:Cle,deleteJacobiProblem:$x,getJacobiProblems:KI,getProblems:Sle,remove:Dle,save:Ale,saveJacobiProblem:JI},Symbol.toStringTag,{value:"Module"}));function Mle(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([0,0,0]),[l,o]=W.useState(1e-6),[c,f]=W.useState(50),[d,m]=W.useState([]),[h,v]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:T,removingIds:S,refresh:C,saveProblem:N,deleteProblem:M}=$t(Tle);W.useEffect(()=>{C().catch(console.error)},[C]);const y=(b,A,I,F,B)=>{const P=b.length;let L=[...I],$=Array(P).fill(0);const k=[];for(let V=1;V<=B;V++){for(let j=0;j<P;j++){let X=0;for(let U=0;U<P;U++)j!==U&&(X+=b[j][U]*L[U]);if(Math.abs(b[j][j])<1e-12)return{error:"Pivot = 0 ที่แถว "+(j+1)};$[j]=(A[j]-X)/b[j][j]}const ee=Math.max(...$.map((j,X)=>Math.abs((j-L[X])/(j||1))));if(k.push({iter:V,values:[...$],error:ee}),ee<F)return{solution:$,iterations:k,converged:!0};L=[...$]}return{solution:$,iterations:k,converged:!1}},x=()=>{try{const b=y(r,a,s,parseFloat(l),parseInt(c));if(b.error){v("สถานะ: "+b.error),m([]);return}m(b.solution),v("สถานะ: เสร็จสิ้น "+(b.converged?"(Converged)":"(ไม่ Converged)"))}catch(b){console.error(b),v("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},w=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u(Array(t).fill(0)),m([]),v("สถานะ: รีเซ็ตแล้ว")},g=async()=>{try{const b={A:JSON.stringify(r),b:JSON.stringify(a),x0:JSON.stringify(s),tol:l,maxIter:c,size:t,expr:`Matrix ${t}x${t}`};console.log("Jacobi: saving problem (serialized)",b),await N(b),alert("บันทึกแล้ว!")}catch(b){console.error("save problem failed:",b),alert("บันทึกไม่สำเร็จ: "+((b==null?void 0:b.message)||String(b)))}},_=b=>{try{const A=typeof b.A=="string"?JSON.parse(b.A):b.A||[],I=typeof b.b=="string"?JSON.parse(b.b):b.b||[],F=typeof b.x0=="string"?JSON.parse(b.x0):b.x0||[];n(A),i(I),u(F),A&&Array.isArray(A)&&e(A.length),b.tol&&o(b.tol),b.maxIter&&f(b.maxIter)}catch(A){console.error("failed to parse saved problem",A,b),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},E=b=>{confirm("ลบโจทย์นี้ไหม?")&&M(b.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Jacobi Iteration Method",subtitle:"วิธีการหาคำตอบแบบทำซ้ำ (Iterative Method)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:b=>{const A=Math.max(1,parseInt(b.target.value)||1);e(A),n(Array(A).fill().map(()=>Array(A).fill(0))),i(Array(A).fill(0)),u(Array(A).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((b,A)=>p.jsx("tr",{children:b.map((I,F)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:I,onChange:B=>{const P=r.map(L=>[...L]);P[A][F]=parseFloat(B.target.value)||0,n(P)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},F))},A))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...a];F[A]=parseFloat(I.target.value)||0,i(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าเริ่มต้น x₀"}),p.jsx("div",{className:"flex gap-2",children:s.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...s];F[A]=parseFloat(I.target.value)||0,u(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error (เช่น 1e-6)"}),p.jsx("input",{type:"text",value:l,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:c,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:x,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:w,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:h})}),p.jsx(Ut,{problems:T,onLoad:_,onDelete:E,removingIds:S})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"วิธี Jacobi ใช้การทำซ้ำเพื่อหาคำตอบของระบบสมการเชิงเส้น โดยเริ่มจากค่าประมาณเริ่มต้น x₀ แล้วคำนวณซ้ำจนค่าความคลาดเคลื่อนน้อยกว่าที่กำหนด"}),d.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:d.map((b,A)=>p.jsxs("li",{children:["x",A+1," = ",je(b)]},A))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Lx="problems_gaussseidel";async function YI(){const t=Ft(Ue(Ie,Lx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function ZI(t){return jt(Ue(Ie,Lx),{...t,method:"gaussseidel",createdAt:kt()})}async function zx(t){return Bt(Tt(Ie,Lx,t))}const Ile=YI,Ple=ZI,Fle=zx,Rle=zx,Ole=Object.freeze(Object.defineProperty({__proto__:null,del:Rle,deleteGaussSeidelProblem:zx,getGaussSeidelProblems:YI,getProblems:Ile,remove:Fle,save:Ple,saveGaussSeidelProblem:ZI},Symbol.toStringTag,{value:"Module"}));function Ble(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([0,0,0]),[l,o]=W.useState(1e-6),[c,f]=W.useState(50),[d,m]=W.useState([]),[h,v]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:T,removingIds:S,refresh:C,saveProblem:N,deleteProblem:M}=$t(Ole);W.useEffect(()=>{C().catch(console.error)},[C]);const y=(b,A,I,F,B)=>{const P=b.length,L=[...I],$=[];for(let k=1;k<=B;k++){const V=[...L];for(let j=0;j<P;j++){let X=0;for(let U=0;U<P;U++)j!==U&&(X+=b[j][U]*L[U]);if(Math.abs(b[j][j])<1e-12)return{error:"Pivot = 0 ที่แถว "+(j+1)};L[j]=(A[j]-X)/b[j][j]}const ee=Math.max(...L.map((j,X)=>Math.abs((j-V[X])/(j||1))));if($.push({iter:k,values:[...L],error:ee}),ee<F)return{solution:L,iterations:$,converged:!0}}return{solution:L,iterations:$,converged:!1}},x=()=>{try{const b=y(r,a,s,parseFloat(l),parseInt(c));if(b.error){v("สถานะ: "+b.error),m([]);return}m(b.solution),v("สถานะ: เสร็จสิ้น "+(b.converged?"(Converged)":"(ไม่ Converged)"))}catch(b){console.error(b),v("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},w=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u(Array(t).fill(0)),m([]),v("สถานะ: รีเซ็ตแล้ว")},g=async()=>{try{const b={A:JSON.stringify(r),b:JSON.stringify(a),x0:JSON.stringify(s),tol:l,maxIter:c,size:t,expr:`Matrix ${t}x${t}`};console.log("GaussSeidel: saving problem (serialized)",b),await N(b),alert("บันทึกแล้ว!")}catch(b){console.error("save problem failed:",b),alert("บันทึกไม่สำเร็จ: "+((b==null?void 0:b.message)||String(b)))}},_=b=>{try{const A=typeof b.A=="string"?JSON.parse(b.A):b.A||[],I=typeof b.b=="string"?JSON.parse(b.b):b.b||[],F=typeof b.x0=="string"?JSON.parse(b.x0):b.x0||[];n(A),i(I),u(F),A&&Array.isArray(A)&&e(A.length),b.tol&&o(b.tol),b.maxIter&&f(b.maxIter)}catch(A){console.error("failed to parse saved problem",A,b),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},E=b=>{confirm("ลบโจทย์นี้ไหม?")&&M(b.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Gauss–Seidel Iteration Method",subtitle:"วิธีการหาคำตอบแบบทำซ้ำ (ใช้ค่าใหม่ในแต่ละรอบทันที)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:b=>{const A=Math.max(1,parseInt(b.target.value)||1);e(A),n(Array(A).fill().map(()=>Array(A).fill(0))),i(Array(A).fill(0)),u(Array(A).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((b,A)=>p.jsx("tr",{children:b.map((I,F)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:I,onChange:B=>{const P=r.map(L=>[...L]);P[A][F]=parseFloat(B.target.value)||0,n(P)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},F))},A))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...a];F[A]=parseFloat(I.target.value)||0,i(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าเริ่มต้น x₀"}),p.jsx("div",{className:"flex gap-2",children:s.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...s];F[A]=parseFloat(I.target.value)||0,u(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error (เช่น 1e-6)"}),p.jsx("input",{type:"text",value:l,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:c,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:x,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:w,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:h})}),p.jsx(Ut,{problems:T,onLoad:_,onDelete:E,removingIds:S})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"วิธี Gauss–Seidel ใช้การทำซ้ำแบบอัปเดตค่าทันทีในแต่ละรอบ ทำให้มัก converge เร็วกว่าวิธี Jacobi เหมาะกับระบบสมการที่มีเมทริกซ์แนวทแยงเด่นชัด (Diagonally Dominant)"}),d.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:d.map((b,A)=>p.jsxs("li",{children:["x",A+1," = ",je(b)]},A))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Vx="problems_conjugategradient";async function eP(){const t=Ft(Ue(Ie,Vx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function tP(t){return jt(Ue(Ie,Vx),{...t,method:"conjugategradient",createdAt:kt()})}async function Ux(t){return Bt(Tt(Ie,Vx,t))}const jle=eP,kle=tP,$le=Ux,Lle=Ux,zle=Object.freeze(Object.defineProperty({__proto__:null,del:Lle,deleteConjugateGradientProblem:Ux,getConjugateGradientProblems:eP,getProblems:jle,remove:$le,save:kle,saveConjugateGradientProblem:tP},Symbol.toStringTag,{value:"Module"}));function Vle(){const[t,e]=W.useState(3),[r,n]=W.useState([[0,0,0],[0,0,0],[0,0,0]]),[a,i]=W.useState([0,0,0]),[s,u]=W.useState([0,0,0]),[l,o]=W.useState(1e-6),[c,f]=W.useState(50),[d,m]=W.useState([]),[h,v]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:T,removingIds:S,refresh:C,saveProblem:N,deleteProblem:M}=$t(zle);W.useEffect(()=>{C().catch(console.error)},[C]);const y=(b,A,I,F,B)=>{const P=b.length;let L=[...I],$=Array(P).fill(0),k=Array(P).fill(0);const V=[];for(let j=0;j<P;j++){let X=0;for(let U=0;U<P;U++)X+=b[j][U]*I[U];$[j]=A[j]-X,k[j]=$[j]}let ee=$.reduce((j,X)=>j+X*X,0);for(let j=1;j<=B;j++){const X=Array(P).fill(0);for(let H=0;H<P;H++)for(let J=0;J<P;J++)X[H]+=b[H][J]*k[J];const U=ee/k.reduce((H,J,re)=>H+J*X[re],0);for(let H=0;H<P;H++)L[H]+=U*k[H];for(let H=0;H<P;H++)$[H]-=U*X[H];const de=$.reduce((H,J)=>H+J*J,0),ue=Math.sqrt(de);if(V.push({iter:j,x:[...L],error:ue}),Math.sqrt(de)<F)return{solution:L,iterations:V,converged:!0};const le=de/ee;for(let H=0;H<P;H++)k[H]=$[H]+le*k[H];ee=de}return{solution:L,iterations:V,converged:!1}},x=()=>{try{const b=y(r,a,s,parseFloat(l),parseInt(c));if(b.error){v("สถานะ: "+b.error),m([]);return}m(b.solution),v("สถานะ: เสร็จสิ้น "+(b.converged?"(Converged)":"(ไม่ Converged)"))}catch(b){console.error(b),v("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},w=()=>{n(Array(t).fill().map(()=>Array(t).fill(0))),i(Array(t).fill(0)),u(Array(t).fill(0)),m([]),v("สถานะ: รีเซ็ตแล้ว")},g=async()=>{try{const b={A:JSON.stringify(r),b:JSON.stringify(a),x0:JSON.stringify(s),tol:l,maxIter:c,size:t,expr:`Matrix ${t}x${t}`};console.log("ConjugateGradient: saving problem (serialized)",b),await N(b),alert("บันทึกแล้ว!")}catch(b){console.error("save problem failed:",b),alert("บันทึกไม่สำเร็จ: "+((b==null?void 0:b.message)||String(b)))}},_=b=>{try{const A=typeof b.A=="string"?JSON.parse(b.A):b.A||[],I=typeof b.b=="string"?JSON.parse(b.b):b.b||[],F=typeof b.x0=="string"?JSON.parse(b.x0):b.x0||[];n(A),i(I),u(F),A&&Array.isArray(A)&&e(A.length),b.tol&&o(b.tol),b.maxIter&&f(b.maxIter)}catch(A){console.error("failed to parse saved problem",A,b),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},E=b=>{confirm("ลบโจทย์นี้ไหม?")&&M(b.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Conjugate Gradient Method",subtitle:"วิธีการหาคำตอบของระบบสมการเชิงเส้น (สำหรับเมทริกซ์สมมาตรบวกกำหนดแน่นอน)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ขนาดเมทริกซ์ (n x n)"}),p.jsx("input",{type:"number",value:t,onChange:b=>{const A=Math.max(1,parseInt(b.target.value)||1);e(A),n(Array(A).fill().map(()=>Array(A).fill(0))),i(Array(A).fill(0)),u(Array(A).fill(0))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Matrix A"}),p.jsx("table",{className:"text-sm border-collapse",children:p.jsx("tbody",{children:r.map((b,A)=>p.jsx("tr",{children:b.map((I,F)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:I,onChange:B=>{const P=r.map(L=>[...L]);P[A][F]=parseFloat(B.target.value)||0,n(P)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},F))},A))})})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Vector b"}),p.jsx("div",{className:"flex gap-2",children:a.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...a];F[A]=parseFloat(I.target.value)||0,i(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าเริ่มต้น x₀"}),p.jsx("div",{className:"flex gap-2",children:s.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=[...s];F[A]=parseFloat(I.target.value)||0,u(F)},className:"w-16 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Error (เช่น 1e-6)"}),p.jsx("input",{type:"text",value:l,onChange:b=>o(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iteration"}),p.jsx("input",{type:"number",value:c,onChange:b=>f(b.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:x,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:w,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:p.jsx("div",{children:h})}),p.jsx(Ut,{problems:T,onLoad:_,onDelete:E,removingIds:S})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsx("div",{className:"text-sm text-gray-400",children:"วิธี Conjugate Gradient ใช้สำหรับเมทริกซ์สมมาตรบวกกำหนดแน่นอน (SPD) โดยหาคำตอบด้วยการเคลื่อนที่ในทิศทางที่สอดคล้อง (Conjugate) เพื่อลด residual อย่างรวดเร็ว"}),d.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"ผลลัพธ์ (x):"}),p.jsx("ul",{children:d.map((b,A)=>p.jsxs("li",{children:["x",A+1," = ",je(b)]},A))})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const qx="problems_lagrange";async function rP(){const t=Ft(Ue(Ie,qx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function nP(t){return jt(Ue(Ie,qx),{...t,method:"lagrange",createdAt:kt()})}async function Hx(t){return Bt(Tt(Ie,qx,t))}const Ule=rP,qle=nP,Hle=Hx,Gle=Hx,Wle=Object.freeze(Object.defineProperty({__proto__:null,del:Gle,deleteLagrangeProblem:Hx,getLagrangeProblems:rP,getProblems:Ule,remove:Hle,save:qle,saveLagrangeProblem:nP},Symbol.toStringTag,{value:"Module"}));function Qle(){const[t,e]=W.useState(["","",""]),[r,n]=W.useState(["","",""]),[a,i]=W.useState(""),[s,u]=W.useState(null),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(Wle);W.useEffect(()=>{h().catch(console.error)},[h]);const S=(w,g,_)=>{const E=w.length;let b=0,A=[];for(let I=0;I<E;I++){let F=1,B=`L${I}(x) = `;for(let L=0;L<E;L++)I!==L&&(F*=(_-w[L])/(w[I]-w[L]),B+=`((x - ${w[L]})/(${w[I]} - ${w[L]})) `);const P=g[I]*F;b+=P,A.push({i:I,Li:F,term:P,LiStr:B})}return{fx:b,detail:A}},C=()=>{try{const w=t.map(A=>parseFloat(A)),g=r.map(A=>parseFloat(A)),_=parseFloat(a);if(w.some(isNaN)||g.some(isNaN)||isNaN(_)){o("สถานะ: โปรดกรอกข้อมูลให้ครบและเป็นตัวเลข");return}if(w.length!==g.length){o("สถานะ: จำนวนค่า x และ y ต้องเท่ากัน");return}const{fx:E,detail:b}=S(w,g,_);u(E),f(b),o("สถานะ: คำนวณเสร็จสิ้น")}catch(w){console.error(w),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},N=()=>{e(["","",""]),n(["","",""]),i(""),u(null),f([]),o("สถานะ: รีเซ็ตแล้ว")},M=async()=>{try{const w={xValues:JSON.stringify(t),yValues:JSON.stringify(r),xTarget:a,expr:`Lagrange(${t.join(",")})`};await v(w),alert("บันทึกแล้ว!")}catch(w){console.error("save problem failed:",w),alert("บันทึกไม่สำเร็จ: "+((w==null?void 0:w.message)||String(w)))}},y=w=>{try{const g=typeof w.xValues=="string"?JSON.parse(w.xValues):w.xValues||[],_=typeof w.yValues=="string"?JSON.parse(w.yValues):w.yValues||[];e(g),n(_),i(w.xTarget||"")}catch(g){console.error("failed to parse saved problem",g,w),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},x=w=>{confirm("ลบโจทย์นี้ไหม?")&&T(w.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Lagrange Interpolation",subtitle:"หาค่า f(x) โดยใช้ลากร็องจ์อินเตอร์โพเลชัน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จำนวนจุดข้อมูล"}),p.jsx("input",{type:"number",value:t.length,onChange:w=>{const g=Math.max(2,parseInt(w.target.value)||2);e(Array(g).fill("")),n(Array(g).fill(""))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าของ x และ f(x)"}),p.jsxs("table",{className:"text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-gray-400",children:[p.jsx("th",{className:"p-1",children:"xᵢ"}),p.jsx("th",{className:"p-1",children:"f(xᵢ)"})]})}),p.jsx("tbody",{children:t.map((w,g)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:t[g],onChange:_=>{const E=[...t];E[g]=_.target.value,e(E)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:r[g],onChange:_=>{const E=[...r];E[g]=_.target.value,n(E)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})})]},g))})]})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ต้องการหาค่า f(x) ที่ x ="}),p.jsx("input",{type:"number",value:a,onChange:w=>i(w.target.value),className:"w-32 px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:C,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:N,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:M,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2 text-gray-400",children:l}),p.jsx(Ut,{problems:d,onLoad:y,onDelete:x,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),s!==null?p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("div",{children:["f(",a,") ≈ ",p.jsx("b",{children:je(s)})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"mb-1 font-semibold text-gray-300",children:"ขั้นตอนการคำนวณ:"}),c.map(w=>p.jsxs("div",{className:"mb-1",children:["L",w.i,"(x): ",w.Li.toFixed(6)," → y",w.i,"·L",w.i,"(x) = ",w.term.toFixed(6)]},w.i))]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีการคำนวณ"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Gx="problems_linear";async function aP(){const t=Ft(Ue(Ie,Gx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function iP(t){return jt(Ue(Ie,Gx),{...t,method:"linear",createdAt:kt()})}async function Wx(t){return Bt(Tt(Ie,Gx,t))}const Xle=aP,Kle=iP,Jle=Wx,Yle=Wx,Zle=Object.freeze(Object.defineProperty({__proto__:null,del:Yle,deleteLinearProblem:Wx,getLinearProblems:aP,getProblems:Xle,remove:Jle,save:Kle,saveLinearProblem:iP},Symbol.toStringTag,{value:"Module"}));function ece(){const[t,e]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,u]=W.useState(""),[l,o]=W.useState(""),[c,f]=W.useState(null),[d,m]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:h,removingIds:v,refresh:T,saveProblem:S,deleteProblem:C}=$t(Zle);W.useEffect(()=>{T().catch(console.error)},[T]);const N=(_,E,b,A,I)=>E+(A-E)/(b-_)*(I-_),M=()=>{try{const _=parseFloat(t),E=parseFloat(r),b=parseFloat(a),A=parseFloat(s),I=parseFloat(l);if([_,E,b,A,I].some(isNaN)){m("สถานะ: โปรดกรอกข้อมูลให้ครบและเป็นตัวเลข");return}if(_===b){m("สถานะ: ค่า x1 และ x2 ต้องไม่เท่ากัน");return}const F=N(_,E,b,A,I);f(F),m("สถานะ: คำนวณเสร็จสิ้น")}catch(_){console.error(_),m("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},y=()=>{e(""),n(""),i(""),u(""),o(""),f(null),m("สถานะ: รีเซ็ตแล้ว")},x=async()=>{try{const _={x1:t,y1:r,x2:a,y2:s,xTarget:l,expr:`Linear(${t},${a})`};await S(_),alert("บันทึกแล้ว!")}catch(_){console.error("save problem failed:",_),alert("บันทึกไม่สำเร็จ: "+((_==null?void 0:_.message)||String(_)))}},w=_=>{e(_.x1||""),n(_.y1||""),i(_.x2||""),u(_.y2||""),o(_.xTarget||"")},g=_=>{confirm("ลบโจทย์นี้ไหม?")&&C(_.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Linear Interpolation",subtitle:"คำนวณค่า f(x) โดยใช้การประมาณเชิงเส้น"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("h3",{className:"text-gray-300 mb-3",children:"ใส่ข้อมูล"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-400",children:"x₁"}),p.jsx("input",{type:"number",value:t,onChange:_=>e(_.target.value),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-400",children:"f(x₁)"}),p.jsx("input",{type:"number",value:r,onChange:_=>n(_.target.value),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-400",children:"x₂"}),p.jsx("input",{type:"number",value:a,onChange:_=>i(_.target.value),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm text-gray-400",children:"f(x₂)"}),p.jsx("input",{type:"number",value:s,onChange:_=>u(_.target.value),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"หาค่า f(x) เมื่อ x = "}),p.jsx("input",{type:"number",value:l,onChange:_=>o(_.target.value),className:"w-32 px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:M,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:y,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:x,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2 text-gray-400",children:d}),p.jsx(Ut,{problems:h,onLoad:w,onDelete:g,removingIds:v})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),c!==null?p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("div",{children:["f(",l,") ≈ ",p.jsx("b",{children:je(c)})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300",children:"สูตรที่ใช้:"}),p.jsx("code",{children:"f(x) = f(x₁) + [(f(x₂) - f(x₁)) / (x₂ - x₁)] · (x - x₁)"})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีการคำนวณ"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Qx="problems_quadratic";async function sP(){const t=Ft(Ue(Ie,Qx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function oP(t){return jt(Ue(Ie,Qx),{...t,method:"quadratic",createdAt:kt()})}async function Xx(t){return Bt(Tt(Ie,Qx,t))}const tce=sP,rce=oP,nce=Xx,ace=Xx,ice=Object.freeze(Object.defineProperty({__proto__:null,del:ace,deleteQuadraticProblem:Xx,getProblems:tce,getQuadraticProblems:sP,remove:nce,save:rce,saveQuadraticProblem:oP},Symbol.toStringTag,{value:"Module"}));function sce(){const[t,e]=W.useState(["","",""]),[r,n]=W.useState(["","",""]),[a,i]=W.useState(""),[s,u]=W.useState(null),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(ice);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x,w)=>{if(y.length!==3||x.length!==3)throw new Error("ต้องมีข้อมูล 3 จุดเท่านั้น");const[g,_,E]=y,[b,A,I]=x,F=(w-_)*(w-E)/((g-_)*(g-E)),B=(w-g)*(w-E)/((_-g)*(_-E)),P=(w-g)*(w-_)/((E-g)*(E-_));return{fx:b*F+A*B+I*P,L0:F,L1:B,L2:P}},T=()=>{try{const y=t.map(A=>parseFloat(A)),x=r.map(A=>parseFloat(A)),w=parseFloat(a);if(y.some(isNaN)||x.some(isNaN)||isNaN(w)){o("สถานะ: โปรดกรอกข้อมูลให้ครบและเป็นตัวเลข");return}const{fx:g,L0:_,L1:E,L2:b}=v(y,x,w);u({fx:g,L0:_,L1:E,L2:b}),o("สถานะ: คำนวณเสร็จสิ้น")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},S=()=>{e(["","",""]),n(["","",""]),i(""),u(null),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={xValues:JSON.stringify(t),yValues:JSON.stringify(r),xTarget:a,expr:`Quadratic(${t.join(",")})`};await m(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.xValues=="string"?JSON.parse(y.xValues):y.xValues||[],w=typeof y.yValues=="string"?JSON.parse(y.yValues):y.yValues||[];e(x),n(w),i(y.xTarget||"")}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Quadratic Interpolation",subtitle:"คำนวณค่า f(x) โดยใช้การอินเตอร์โพเลชันกำลังสอง (ผ่าน 3 จุด)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("h3",{className:"text-gray-300 mb-3",children:"ใส่ข้อมูล"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าของ x และ f(x)"}),p.jsxs("table",{className:"text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-gray-400",children:[p.jsx("th",{className:"p-1",children:"xᵢ"}),p.jsx("th",{className:"p-1",children:"f(xᵢ)"})]})}),p.jsx("tbody",{children:t.map((y,x)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:t[x],onChange:w=>{const g=[...t];g[x]=w.target.value,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:r[x],onChange:w=>{const g=[...r];g[x]=w.target.value,n(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})})]},x))})]})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ต้องการหาค่า f(x) ที่ x ="}),p.jsx("input",{type:"number",value:a,onChange:y=>i(y.target.value),className:"w-32 px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2 text-gray-400",children:l}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),s?p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("div",{children:["f(",a,") ≈ ",p.jsx("b",{children:je(s.fx)})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300 mb-1",children:"ค่า Lᵢ(x):"}),p.jsxs("div",{children:["L₀(x) = ",je(s.L0)]}),p.jsxs("div",{children:["L₁(x) = ",je(s.L1)]}),p.jsxs("div",{children:["L₂(x) = ",je(s.L2)]})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300",children:"สูตรที่ใช้:"}),p.jsx("code",{children:"f(x) = y₀L₀(x) + y₁L₁(x) + y₂L₂(x)"})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีการคำนวณ"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Kx="problems_polynomial";async function uP(){const t=Ft(Ue(Ie,Kx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function lP(t){return jt(Ue(Ie,Kx),{...t,method:"polynomial",createdAt:kt()})}async function Jx(t){return Bt(Tt(Ie,Kx,t))}const oce=uP,uce=lP,lce=Jx,cce=Jx,fce=Object.freeze(Object.defineProperty({__proto__:null,del:cce,deletePolynomialProblem:Jx,getPolynomialProblems:uP,getProblems:oce,remove:lce,save:uce,savePolynomialProblem:lP},Symbol.toStringTag,{value:"Module"}));function dce(){const[t,e]=W.useState(["","","",""]),[r,n]=W.useState(["","","",""]),[a,i]=W.useState(""),[s,u]=W.useState(null),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(fce);W.useEffect(()=>{h().catch(console.error)},[h]);const S=(g,_)=>{const E=g.length,b=Array.from({length:E},()=>Array(E).fill(0));for(let A=0;A<E;A++)b[A][0]=_[A];for(let A=1;A<E;A++)for(let I=0;I<E-A;I++)b[I][A]=(b[I+1][A-1]-b[I][A-1])/(g[I+A]-g[I]);return b},C=(g,_,E)=>{const b=g.length;let A=_[0][0];for(let I=1;I<b;I++){let F=_[0][I];for(let B=0;B<I;B++)F*=E-g[B];A+=F}return A},N=()=>{try{const g=t.map(I=>parseFloat(I)),_=r.map(I=>parseFloat(I)),E=parseFloat(a);if(g.some(isNaN)||_.some(isNaN)||isNaN(E)){o("สถานะ: โปรดกรอกข้อมูลให้ครบและเป็นตัวเลข");return}const b=S(g,_),A=C(g,b,E);u(A),f(b),o("สถานะ: คำนวณเสร็จสิ้น")}catch(g){console.error(g),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},M=()=>{e(["","","",""]),n(["","","",""]),i(""),u(null),f([]),o("สถานะ: รีเซ็ตแล้ว")},y=async()=>{try{const g={xValues:JSON.stringify(t),yValues:JSON.stringify(r),xTarget:a,expr:`Polynomial(${t.join(",")})`};await v(g),alert("บันทึกแล้ว!")}catch(g){console.error("save problem failed:",g),alert("บันทึกไม่สำเร็จ: "+((g==null?void 0:g.message)||String(g)))}},x=g=>{try{const _=typeof g.xValues=="string"?JSON.parse(g.xValues):g.xValues||[],E=typeof g.yValues=="string"?JSON.parse(g.yValues):g.yValues||[];e(_),n(E),i(g.xTarget||"")}catch(_){console.error("failed to parse saved problem",_,g),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},w=g=>{confirm("ลบโจทย์นี้ไหม?")&&T(g.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Polynomial Interpolation",subtitle:"คำนวณค่า f(x) โดยใช้ Newton’s Divided Difference Polynomial"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("h3",{className:"text-gray-300 mb-3",children:"ใส่ข้อมูล"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จำนวนจุดข้อมูล"}),p.jsx("input",{type:"number",value:t.length,onChange:g=>{const _=Math.max(2,parseInt(g.target.value)||2);e(Array(_).fill("")),n(Array(_).fill(""))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าของ x และ f(x)"}),p.jsxs("table",{className:"text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-gray-400",children:[p.jsx("th",{className:"p-1",children:"xᵢ"}),p.jsx("th",{className:"p-1",children:"f(xᵢ)"})]})}),p.jsx("tbody",{children:t.map((g,_)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:t[_],onChange:E=>{const b=[...t];b[_]=E.target.value,e(b)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:r[_],onChange:E=>{const b=[...r];b[_]=E.target.value,n(b)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})})]},_))})]})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ต้องการหาค่า f(x) ที่ x ="}),p.jsx("input",{type:"number",value:a,onChange:g=>i(g.target.value),className:"w-32 px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:N,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:M,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:y,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2 text-gray-400",children:l}),p.jsx(Ut,{problems:d,onLoad:x,onDelete:w,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),s!==null?p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("div",{children:["f(",a,") ≈ ",p.jsx("b",{children:je(s)})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300 mb-1",children:"ตาราง Newton’s Divided Difference:"}),p.jsx("table",{className:"text-xs border-collapse border border-slate-600",children:p.jsx("tbody",{children:c.map((g,_)=>p.jsx("tr",{children:g.map((E,b)=>b<c.length-_?p.jsx("td",{className:"border border-slate-700 p-1 text-center",children:je(E)},b):null)},_))})})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300",children:"สูตรทั่วไป:"}),p.jsx("code",{children:"f(x) = f(x₀) + f[x₀,x₁](x - x₀) + f[x₀,x₁,x₂](x - x₀)(x - x₁) + ..."})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีการคำนวณ"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const Yx="problems_linearspline";async function cP(){const t=Ft(Ue(Ie,Yx),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function fP(t){return jt(Ue(Ie,Yx),{...t,method:"linearspline",createdAt:kt()})}async function Zx(t){return Bt(Tt(Ie,Yx,t))}const mce=cP,hce=fP,pce=Zx,vce=Zx,gce=Object.freeze(Object.defineProperty({__proto__:null,del:vce,deleteLinearSplineProblem:Zx,getLinearSplineProblems:cP,getProblems:mce,remove:pce,save:hce,saveLinearSplineProblem:fP},Symbol.toStringTag,{value:"Module"}));function yce(){const[t,e]=W.useState(["","",""]),[r,n]=W.useState(["","",""]),[a,i]=W.useState(""),[s,u]=W.useState(null),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(gce);W.useEffect(()=>{h().catch(console.error)},[h]);const S=(w,g,_)=>{const E=w.length;let b=[];for(let F=0;F<E-1;F++){const B=(g[F+1]-g[F])/(w[F+1]-w[F]),P=g[F]-B*w[F];b.push({i:F,x1:w[F],x2:w[F+1],slope:B,intercept:P})}let A=b.find(F=>_>=F.x1&&_<=F.x2);if(!A)throw new Error("ค่า x อยู่นอกขอบเขตข้อมูล");return{fx:A.slope*_+A.intercept,segs:b,found:A}},C=()=>{try{const w=t.map(I=>parseFloat(I)),g=r.map(I=>parseFloat(I)),_=parseFloat(a);if(w.some(isNaN)||g.some(isNaN)||isNaN(_)){o("สถานะ: โปรดกรอกข้อมูลให้ครบและเป็นตัวเลข");return}if(w.length<2){o("สถานะ: ต้องมีอย่างน้อย 2 จุดข้อมูล");return}const{fx:E,segs:b,found:A}=S(w,g,_);u({fx:E,found:A}),f(b),o("สถานะ: คำนวณเสร็จสิ้น")}catch(w){console.error(w),o("สถานะ: "+(w.message||"เกิดข้อผิดพลาดในการคำนวณ"))}},N=()=>{e(["","",""]),n(["","",""]),i(""),u(null),f([]),o("สถานะ: รีเซ็ตแล้ว")},M=async()=>{try{const w={xValues:JSON.stringify(t),yValues:JSON.stringify(r),xTarget:a,expr:`LinearSpline(${t.join(",")})`};await v(w),alert("บันทึกแล้ว!")}catch(w){console.error("save problem failed:",w),alert("บันทึกไม่สำเร็จ: "+((w==null?void 0:w.message)||String(w)))}},y=w=>{try{const g=typeof w.xValues=="string"?JSON.parse(w.xValues):w.xValues||[],_=typeof w.yValues=="string"?JSON.parse(w.yValues):w.yValues||[];e(g),n(_),i(w.xTarget||"")}catch(g){console.error("failed to parse saved problem",g,w),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},x=w=>{confirm("ลบโจทย์นี้ไหม?")&&T(w.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Linear Spline Interpolation",subtitle:"การประมาณค่า f(x) ด้วยเส้นตรงระหว่างจุดข้อมูลที่ต่อเนื่องกัน"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("h3",{className:"text-gray-300 mb-3",children:"ใส่ข้อมูล"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จำนวนจุดข้อมูล"}),p.jsx("input",{type:"number",value:t.length,onChange:w=>{const g=Math.max(2,parseInt(w.target.value)||2);e(Array(g).fill("")),n(Array(g).fill(""))},className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"overflow-x-auto mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าของ x และ f(x)"}),p.jsxs("table",{className:"text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-gray-400",children:[p.jsx("th",{className:"p-1",children:"xᵢ"}),p.jsx("th",{className:"p-1",children:"f(xᵢ)"})]})}),p.jsx("tbody",{children:t.map((w,g)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:t[g],onChange:_=>{const E=[...t];E[g]=_.target.value,e(E)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:r[g],onChange:_=>{const E=[...r];E[g]=_.target.value,n(E)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})})]},g))})]})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ต้องการหาค่า f(x) ที่ x ="}),p.jsx("input",{type:"number",value:a,onChange:w=>i(w.target.value),className:"w-32 px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:C,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:N,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:M,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2 text-gray-400",children:l}),p.jsx(Ut,{problems:d,onLoad:y,onDelete:x,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),s?p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("div",{children:["f(",a,") ≈ ",p.jsx("b",{children:je(s.fx)})]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300 mb-1",children:"สมการเส้นตรงแต่ละช่วง:"}),c.map(w=>p.jsxs("div",{children:["ช่วง [",w.x1,", ",w.x2,"]: y = ",je(w.slope),"x + ",je(w.intercept)]},w.i))]}),p.jsxs("div",{className:"mt-3 text-gray-400",children:[p.jsx("div",{className:"font-semibold text-gray-300",children:"ช่วงที่ใช้คำนวณ:"}),p.jsxs("div",{children:["x ∈ [",s.found.x1,", ",s.found.x2,"] → y = ",je(s.found.slope),"x + ",je(s.found.intercept)]})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีการคำนวณ"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const e1="problems_quadraticspline";async function dP(){const t=Ft(Ue(Ie,e1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function mP(t){return jt(Ue(Ie,e1),{...t,method:"quadratic_spline",createdAt:kt()})}async function t1(t){return Bt(Tt(Ie,e1,t))}const xce=dP,bce=mP,wce=t1,Nce=t1,_ce=Object.freeze(Object.defineProperty({__proto__:null,del:Nce,deleteQuadraticSplineProblem:t1,getProblems:xce,getQuadraticSplineProblems:dP,remove:wce,save:bce,saveQuadraticSplineProblem:mP},Symbol.toStringTag,{value:"Module"}));function Ece(){const[t,e]=W.useState([{x:0,y:0},{x:1,y:1},{x:2,y:4}]),[r,n]=W.useState(""),[a,i]=W.useState(null),[s,u]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:l,removingIds:o,refresh:c,saveProblem:f,deleteProblem:d}=$t(_ce);W.useEffect(()=>{c().catch(console.error)},[c]);const m=(y,x)=>{if(y.length<3)return{error:"ต้องมีจุดอย่างน้อย 3 จุด"};const w=y.length-1,g=[],_=[],E=[];for(let F=0;F<w;F++){const B=y[F].x,P=y[F+1].x,L=y[F].y,$=y[F+1].y,k=P-B;if(k===0)return{error:"ค่าของ x ซ้ำกัน"};g[F]=L,_[F]=($-L)/k,E[F]=0}let b=0;for(let F=0;F<w;F++)if(x>=y[F].x&&x<=y[F+1].x){b=F;break}const A=x-y[b].x,I=g[b]+_[b]*A+E[b]*A*A;return{a:g,b:_,c:E,y:I}},h=()=>{try{const y=parseFloat(r);if(isNaN(y)){u("กรุณากรอกค่า x ให้ถูกต้อง");return}const x=m(t,y);if(x.error){u("สถานะ: "+x.error),i(null);return}i(x.y),u("สถานะ: คำนวณสำเร็จ")}catch(y){console.error(y),u("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},v=()=>{e([{x:0,y:0},{x:1,y:1},{x:2,y:4}]),n(""),i(null),u("สถานะ: รีเซ็ตแล้ว")},T=()=>{e([...t,{x:0,y:0}])},S=y=>{if(t.length<=3)return alert("ต้องมีอย่างน้อย 3 จุด");e(t.filter((x,w)=>w!==y))},C=async()=>{try{const y={points:JSON.stringify(t),xValue:r,expr:`Quadratic Spline (${t.length} points)`};await f(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.points=="string"?JSON.parse(y.points):y.points||[];e(x),n(y.xValue||"")}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&d(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Quadratic Spline",subtitle:"ประมาณค่า y ด้วย Quadratic Spline Interpolation"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จุดข้อมูล (x, y)"}),p.jsx("table",{className:"text-sm border-collapse mb-3",children:p.jsx("tbody",{children:t.map((y,x)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.x,onChange:w=>{const g=[...t];g[x].x=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.y,onChange:w=>{const g=[...t];g[x].y=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("button",{onClick:()=>S(x),className:"text-red-400 hover:text-red-300 text-xs",children:"ลบ"})})]},x))})}),p.jsx("button",{onClick:T,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"เพิ่มจุด"}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x ที่ต้องการหาค่า y"}),p.jsx("input",{type:"number",value:r,onChange:y=>n(y.target.value),className:"w-32 px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:h,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:v,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:s}),p.jsx(Ut,{problems:l,onLoad:N,onDelete:M,removingIds:o})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),a!==null?p.jsxs("div",{className:"text-sm text-gray-300",children:["y(",r,") = ",p.jsx("span",{className:"font-semibold",children:je(a)})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีผลลัพธ์"}),p.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Quadratic Spline ใช้สำหรับประมาณค่าฟังก์ชันโดยใช้โพลิโนเมียลดีกรี 2 ระหว่างจุดข้อมูล"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const r1="problems_cubicspline";async function hP(){const t=Ft(Ue(Ie,r1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function pP(t){return jt(Ue(Ie,r1),{...t,method:"cubic_spline",createdAt:kt()})}async function n1(t){return Bt(Tt(Ie,r1,t))}const Sce=hP,Ace=pP,Dce=n1,Cce=n1,Tce=Object.freeze(Object.defineProperty({__proto__:null,del:Cce,deleteCubicSplineProblem:n1,getCubicSplineProblems:hP,getProblems:Sce,remove:Dce,save:Ace,saveCubicSplineProblem:pP},Symbol.toStringTag,{value:"Module"}));function Mce(){const[t,e]=W.useState([{x:0,y:0},{x:1,y:1},{x:2,y:4},{x:3,y:9}]),[r,n]=W.useState(""),[a,i]=W.useState(null),[s,u]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:l,removingIds:o,refresh:c,saveProblem:f,deleteProblem:d}=$t(Tce);W.useEffect(()=>{c().catch(console.error)},[c]);const m=(y,x)=>{const w=y.length;if(w<3)return{error:"ต้องมีจุดอย่างน้อย 3 จุด"};const g=[],_=[],E=[],b=[],A=[],I=[],F=[],B=[],P=[];for(let V=0;V<w;V++)I[V]=y[V].y;for(let V=0;V<w-1;V++)g[V]=y[V+1].x-y[V].x;if(g.some(V=>V===0))return{error:"ค่าของ x ซ้ำกัน"};for(let V=1;V<w-1;V++)_[V]=3/g[V]*(I[V+1]-I[V])-3/g[V-1]*(I[V]-I[V-1]);E[0]=1,b[0]=0,A[0]=0;for(let V=1;V<w-1;V++)E[V]=2*(y[V+1].x-y[V-1].x)-g[V-1]*b[V-1],b[V]=g[V]/E[V],A[V]=(_[V]-g[V-1]*A[V-1])/E[V];E[w-1]=1,A[w-1]=0,B[w-1]=0;for(let V=w-2;V>=0;V--)B[V]=A[V]-b[V]*B[V+1],F[V]=(I[V+1]-I[V])/g[V]-g[V]*(B[V+1]+2*B[V])/3,P[V]=(B[V+1]-B[V])/(3*g[V]);let L=w-2;for(let V=0;V<w-1;V++)if(x>=y[V].x&&x<=y[V+1].x){L=V;break}const $=x-y[L].x,k=I[L]+F[L]*$+B[L]*$**2+P[L]*$**3;return{a:I,b:F,c:B,d:P,y:k}},h=()=>{try{const y=parseFloat(r);if(isNaN(y)){u("กรุณากรอกค่า x ให้ถูกต้อง");return}const x=m(t,y);if(x.error){u("สถานะ: "+x.error),i(null);return}i(x.y),u("สถานะ: คำนวณสำเร็จ")}catch(y){console.error(y),u("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},v=()=>{e([{x:0,y:0},{x:1,y:1},{x:2,y:4},{x:3,y:9}]),n(""),i(null),u("สถานะ: รีเซ็ตแล้ว")},T=()=>{e([...t,{x:0,y:0}])},S=y=>{if(t.length<=3)return alert("ต้องมีอย่างน้อย 3 จุด");e(t.filter((x,w)=>w!==y))},C=async()=>{try{const y={points:JSON.stringify(t),xValue:r,expr:`Cubic Spline (${t.length} points)`};await f(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.points=="string"?JSON.parse(y.points):y.points||[];e(x),n(y.xValue||"")}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&d(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Cubic Spline",subtitle:"ประมาณค่า y ด้วย Cubic Spline Interpolation"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จุดข้อมูล (x, y)"}),p.jsx("table",{className:"text-sm border-collapse mb-3",children:p.jsx("tbody",{children:t.map((y,x)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.x,onChange:w=>{const g=[...t];g[x].x=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.y,onChange:w=>{const g=[...t];g[x].y=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("button",{onClick:()=>S(x),className:"text-red-400 hover:text-red-300 text-xs",children:"ลบ"})})]},x))})}),p.jsx("button",{onClick:T,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"เพิ่มจุด"}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x ที่ต้องการหาค่า y"}),p.jsx("input",{type:"number",value:r,onChange:y=>n(y.target.value),className:"w-32 px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:h,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:v,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:s}),p.jsx(Ut,{problems:l,onLoad:N,onDelete:M,removingIds:o})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),a!==null?p.jsxs("div",{className:"text-sm text-gray-300",children:["y(",r,") = ",p.jsx("span",{className:"font-semibold",children:je(a)})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีผลลัพธ์"}),p.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Cubic Spline ใช้สมการกำลังสามแต่ละช่วง เพื่อให้เส้นต่อเนื่องทั้งค่าฟังก์ชันและอนุพันธ์"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const a1="problems_singlelinear";async function vP(){const t=Ft(Ue(Ie,a1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function gP(t){return jt(Ue(Ie,a1),{...t,method:"single_linear",createdAt:kt()})}async function i1(t){return Bt(Tt(Ie,a1,t))}const Ice=vP,Pce=gP,Fce=i1,Rce=i1,Oce=Object.freeze(Object.defineProperty({__proto__:null,del:Rce,deleteSingleLinearProblem:i1,getProblems:Ice,getSingleLinearProblems:vP,remove:Fce,save:Pce,saveSingleLinearProblem:gP},Symbol.toStringTag,{value:"Module"}));function Bce(){const[t,e]=W.useState([{x:1,y:1},{x:2,y:2},{x:3,y:2.5}]),[r,n]=W.useState(""),[a,i]=W.useState(null),[s,u]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:l,removingIds:o,refresh:c,saveProblem:f,deleteProblem:d}=$t(Oce);W.useEffect(()=>{c().catch(console.error)},[c]);const m=(y,x)=>{const w=y.length;if(w<2)return{error:"ต้องมีข้อมูลอย่างน้อย 2 จุด"};const g=y.reduce((B,P)=>B+P.x,0),_=y.reduce((B,P)=>B+P.y,0),E=y.reduce((B,P)=>B+P.x*P.y,0),b=y.reduce((B,P)=>B+P.x*P.x,0),A=(w*E-g*_)/(w*b-g**2),I=(_-A*g)/w,F=I+A*x;return{a:I,b:A,yPred:F}},h=()=>{try{const y=parseFloat(r);if(isNaN(y)){u("กรุณากรอกค่า x ที่ต้องการทำนาย");return}const x=m(t,y);if(x.error){u("สถานะ: "+x.error),i(null);return}i(x),u("สถานะ: คำนวณสำเร็จ")}catch(y){console.error(y),u("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},v=()=>{e([{x:1,y:1},{x:2,y:2},{x:3,y:2.5}]),n(""),i(null),u("สถานะ: รีเซ็ตแล้ว")},T=()=>{e([...t,{x:0,y:0}])},S=y=>{if(t.length<=2)return alert("ต้องมีอย่างน้อย 2 จุด");e(t.filter((x,w)=>w!==y))},C=async()=>{try{const y={points:JSON.stringify(t),xPredict:r,expr:`Single Linear Regression (${t.length} points)`};await f(y),alert("บันทึกแล้ว!")}catch(y){console.error("save problem failed:",y),alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{const x=typeof y.points=="string"?JSON.parse(y.points):y.points||[];e(x),n(y.xPredict||"")}catch(x){console.error("failed to parse saved problem",x,y),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&d(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Single Linear Regression",subtitle:"การหาสมการเส้นตรงที่เหมาะสมกับข้อมูล (y = a + bx)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จุดข้อมูล (x, y)"}),p.jsx("table",{className:"text-sm border-collapse mb-3",children:p.jsx("tbody",{children:t.map((y,x)=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.x,onChange:w=>{const g=[...t];g[x].x=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:y.y,onChange:w=>{const g=[...t];g[x].y=parseFloat(w.target.value)||0,e(g)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("button",{onClick:()=>S(x),className:"text-red-400 hover:text-red-300 text-xs",children:"ลบ"})})]},x))})}),p.jsx("button",{onClick:T,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"เพิ่มจุด"}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x ที่ต้องการทำนาย (xₚ)"}),p.jsx("input",{type:"number",value:r,onChange:y=>n(y.target.value),className:"w-32 px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:h,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:v,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:s}),p.jsx(Ut,{problems:l,onLoad:N,onDelete:M,removingIds:o})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),a?p.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[p.jsxs("div",{children:["a = ",je(a.a)]}),p.jsxs("div",{children:["b = ",je(a.b)]}),p.jsxs("div",{children:["สมการ: y = ",je(a.a)," + ",je(a.b),"x"]}),p.jsxs("div",{children:["y(",r,") ="," ",p.jsx("span",{className:"font-semibold",children:je(a.yPred)})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีผลลัพธ์"}),p.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"การถดถอยเชิงเส้น (Single Linear Regression) ใช้หาความสัมพันธ์ระหว่าง x และ y ด้วยเส้นตรง y = a + bx ที่ทำให้ผลรวมของความคลาดเคลื่อนยกกำลังสองน้อยที่สุด"})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const s1="problems_multiplelinear";async function yP(){const t=Ft(Ue(Ie,s1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function xP(t){return jt(Ue(Ie,s1),{...t,method:"multiple_linear",createdAt:kt()})}async function o1(t){return Bt(Tt(Ie,s1,t))}const jce=yP,kce=xP,$ce=o1,Lce=o1,zce=Object.freeze(Object.defineProperty({__proto__:null,del:Lce,deleteMultipleLinearProblem:o1,getMultipleLinearProblems:yP,getProblems:jce,remove:$ce,save:kce,saveMultipleLinearProblem:xP},Symbol.toStringTag,{value:"Module"}));function Vce(t,e){const r=t.length,n=t.map(s=>s.slice()),a=e.slice();for(let s=0;s<r;s++){let u=s,l=Math.abs(n[s][s]);for(let o=s+1;o<r;o++){const c=Math.abs(n[o][s]);c>l&&(l=c,u=o)}if(l<1e-15)throw new Error("Matrix is singular or ill-conditioned.");u!==s&&([n[s],n[u]]=[n[u],n[s]],[a[s],a[u]]=[a[u],a[s]]);for(let o=s+1;o<r;o++){const c=n[o][s]/n[s][s];n[o][s]=0;for(let f=s+1;f<r;f++)n[o][f]-=c*n[s][f];a[o]-=c*a[s]}}const i=Array(r).fill(0);for(let s=r-1;s>=0;s--){let u=a[s];for(let l=s+1;l<r;l++)u-=n[s][l]*i[l];i[s]=u/n[s][s]}return i}function Uce(t){const e=t.length,r=t[0].length,n=Array.from({length:r},()=>Array(e).fill(0));for(let a=0;a<e;a++)for(let i=0;i<r;i++)n[i][a]=t[a][i];return n}function uA(t,e){const r=t.length,n=t[0].length,a=e[0].length,i=Array.from({length:r},()=>Array(a).fill(0));for(let s=0;s<r;s++)for(let u=0;u<a;u++){let l=0;for(let o=0;o<n;o++)l+=t[s][o]*e[o][u];i[s][u]=l}return i}function qce(t){const e=t.length;if(e<2)return{error:"ต้องมีข้อมูลอย่างน้อย 2 แถว"};t[0].x.length;const r=t.map(h=>[1,...h.x]),n=t.map(h=>[h.y]),a=Uce(r),i=uA(a,r),s=uA(a,n).map(h=>h[0]),u=Vce(i,s),l=r.map(h=>h.reduce((v,T,S)=>v+T*u[S],0)),o=n.map(h=>h[0]),c=o.reduce((h,v)=>h+v,0)/e,f=o.reduce((h,v)=>h+(v-c)**2,0),d=o.reduce((h,v,T)=>h+(v-l[T])**2,0),m=f>0?1-d/f:1;return{coef:u,r2:m,yHat:l}}function lA(t,e){return t[0]+e.reduce((r,n,a)=>r+t[a+1]*n,0)}function Hce(){const[t,e]=W.useState(2),[r,n]=W.useState([{x:[1,2],y:5},{x:[2,0],y:4},{x:[3,1],y:7}]),[a,i]=W.useState(Array(2).fill(0)),[s,u]=W.useState(null),[l,o]=W.useState(null),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(zce);W.useEffect(()=>{h().catch(console.error)},[h]);const S=b=>{n(A=>A.map(I=>{const F=I.x.slice(0,b);for(;F.length<b;)F.push(0);return{...I,x:F}})),i(A=>{const I=A.slice(0,b);for(;I.length<b;)I.push(0);return I})},C=b=>{const A=Math.max(1,Math.min(8,parseInt(b)||1));e(A),S(A)},N=()=>{n([...r,{x:Array(t).fill(0),y:0}])},M=b=>{if(r.length<=2)return alert("ต้องมีอย่างน้อย 2 แถว");n(r.filter((A,I)=>I!==b))},y=()=>{try{const b=qce(r);if(b.error){u(null),o(null),f("สถานะ: "+b.error);return}u(b),f("สถานะ: คำนวณโมเดลสำเร็จ (R² = "+je(b.r2)+")"),a.every(A=>Number.isFinite(parseFloat(A)))&&o(lA(b.coef,a.map(A=>parseFloat(A))))}catch(b){console.error(b),f("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},x=()=>{if(!(s!=null&&s.coef))return alert("โปรดคำนวณโมเดลก่อน");const b=a.map(A=>parseFloat(A)||0);o(lA(s.coef,b))},w=()=>{e(2),n([{x:[1,2],y:5},{x:[2,0],y:4},{x:[3,1],y:7}]),i([0,0]),u(null),o(null),f("สถานะ: รีเซ็ตแล้ว")},g=async()=>{try{const b={features:t,rows:JSON.stringify(r),xPredict:JSON.stringify(a),expr:`Multiple Linear (${t} features, ${r.length} rows)`};await v(b),alert("บันทึกแล้ว!")}catch(b){console.error("save problem failed:",b),alert("บันทึกไม่สำเร็จ: "+((b==null?void 0:b.message)||String(b)))}},_=b=>{try{const A=b.features||1,I=typeof b.rows=="string"?JSON.parse(b.rows):b.rows||[],F=typeof b.xPredict=="string"?JSON.parse(b.xPredict):b.xPredict||[];e(A),n(I),i(F&&Array.isArray(F)?F:Array(A).fill(0)),u(null),o(null),f("สถานะ: โหลดโจทย์แล้ว (โปรดกดคำนวณ)"),S(A)}catch(A){console.error("failed to parse saved problem",A,b),alert("ไม่สามารถโหลดโจทย์: ข้อมูลที่บันทึกไม่ถูกต้อง")}},E=b=>{confirm("ลบโจทย์นี้ไหม?")&&T(b.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Multiple Linear Regression",subtitle:"การถดถอยเชิงเส้นพหุคูณ: y = a + b₁x₁ + ... + b_m x_m"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"จำนวนตัวแปรอิสระ (m)"}),p.jsx("input",{type:"number",value:t,onChange:b=>C(b.target.value),className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700"})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ตารางข้อมูล"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"text-sm border-collapse mb-3",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[Array.from({length:t},(b,A)=>p.jsxs("th",{className:"px-2 py-1 text-left text-gray-400",children:["x",A+1]},A)),p.jsx("th",{className:"px-2 py-1 text-left text-gray-400",children:"y"}),p.jsx("th",{})]})}),p.jsx("tbody",{children:r.map((b,A)=>p.jsxs("tr",{children:[b.x.map((I,F)=>p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:I,onChange:B=>{const P=r.map(L=>({...L,x:[...L.x]}));P[A].x[F]=parseFloat(B.target.value)||0,n(P)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})},F)),p.jsx("td",{className:"p-1",children:p.jsx("input",{type:"number",value:b.y,onChange:I=>{const F=r.map(B=>({...B,x:[...B.x]}));F[A].y=parseFloat(I.target.value)||0,n(F)},className:"w-20 px-2 py-1 rounded bg-slate-900 border border-slate-700"})}),p.jsx("td",{className:"p-1",children:p.jsx("button",{onClick:()=>M(A),className:"text-red-400 hover:text-red-300 text-xs",children:"ลบ"})})]},A))})]})}),p.jsx("button",{onClick:N,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"เพิ่มแถวข้อมูล"}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการทำนาย (xₚ1..xₚm)"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((b,A)=>p.jsx("input",{type:"number",value:b,onChange:I=>{const F=a.slice();F[A]=parseFloat(I.target.value)||0,i(F)},className:"w-24 px-2 py-1 rounded bg-slate-900 border border-slate-700"},A))})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:y,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณโมเดล"}),p.jsx("button",{onClick:x,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"ทำนายค่า yₚ"}),p.jsx("button",{onClick:w,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:c}),p.jsx(Ut,{problems:d,onLoad:_,onDelete:E,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),s!=null&&s.coef?p.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[p.jsxs("div",{children:["Intercept (a) = ",je(s.coef[0])]}),s.coef.slice(1).map((b,A)=>p.jsxs("div",{children:["b",A+1," = ",je(b)]},A)),p.jsxs("div",{children:["R² = ",p.jsx("span",{className:"font-semibold",children:je(s.r2)})]}),l!==null&&p.jsxs("div",{className:"mt-2",children:["yₚ = ",p.jsx("span",{className:"font-semibold",children:je(l)})]})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"ยังไม่มีโมเดล"}),p.jsx("div",{className:"mt-4 text-sm text-gray-400",children:"Multiple Linear Regression แก้ด้วย Normal Equation: (XᵀX)w = Xᵀy แล้วคำนวณสัมประสิทธิ์ w = [a, b₁, …, b_m]."})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const u1="problems_polynomialreg";async function bP(){const t=Ft(Ue(Ie,u1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function wP(t){return jt(Ue(Ie,u1),{...t,method:"polynomialreg",createdAt:kt()})}async function l1(t){return Bt(Tt(Ie,u1,t))}const Gce=bP,Wce=wP,Qce=l1,Xce=l1,Kce=Object.freeze(Object.defineProperty({__proto__:null,del:Xce,deletePolynomialRegProblem:l1,getPolynomialRegProblems:bP,getProblems:Gce,remove:Qce,save:Wce,savePolynomialRegProblem:wP},Symbol.toStringTag,{value:"Module"}));function Jce(){const[t,e]=W.useState([1,2,3,4]),[r,n]=W.useState([2.2,2.8,3.6,4.5]),[a,i]=W.useState(2),[s,u]=W.useState([]),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(Kce);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(y,x,w)=>{y.length;const g=Array.from({length:w+1},(b,A)=>Array.from({length:w+1},(I,F)=>y.reduce((B,P)=>B+Math.pow(P,A+F),0))),_=Array.from({length:w+1},(b,A)=>x.reduce((I,F,B)=>I+F*Math.pow(y[B],A),0)),E=g.map((b,A)=>[...b,_[A]]);for(let b=0;b<=w;b++){let A=b;for(let F=b+1;F<=w;F++)Math.abs(E[F][b])>Math.abs(E[A][b])&&(A=F);[E[b],E[A]]=[E[A],E[b]];const I=E[b][b];if(Math.abs(I)<1e-12)throw new Error("Pivot เป็นศูนย์ — ไม่สามารถแก้สมการได้");for(let F=b;F<=w+1;F++)E[b][F]/=I;for(let F=0;F<=w;F++)if(F!==b){const B=E[F][b];for(let P=b;P<=w+1;P++)E[F][P]-=B*E[b][P]}}return E.map(b=>b[w+1])},T=()=>{try{const y=v(t,r,a);u(y),o("สถานะ: คำนวณเสร็จสิ้น")}catch(y){console.error(y),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),u([])}},S=()=>{e([1,2,3,4]),n([2.2,2.8,3.6,4.5]),i(2),u([]),o("สถานะ: รีเซ็ตแล้ว")},C=async()=>{try{const y={x:JSON.stringify(t),y:JSON.stringify(r),degree:a,expr:`Polynomial Regression (deg=${a})`};await m(y),alert("บันทึกแล้ว!")}catch(y){alert("บันทึกไม่สำเร็จ: "+((y==null?void 0:y.message)||String(y)))}},N=y=>{try{e(JSON.parse(y.x)),n(JSON.parse(y.y)),i(y.degree)}catch{alert("ไม่สามารถโหลดโจทย์: ข้อมูลไม่ถูกต้อง")}},M=y=>{confirm("ลบโจทย์นี้ไหม?")&&h(y.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Polynomial Regression",subtitle:"ประมาณค่าเชิงเส้นแบบพหุนาม (Polynomial Least Squares)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ลำดับพหุนาม"}),p.jsx("input",{type:"number",value:a,onChange:y=>i(Math.max(1,parseInt(y.target.value)||1)),className:"w-24 px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x"}),p.jsx("textarea",{value:t.join(", "),onChange:y=>e(y.target.value.split(",").map(x=>parseFloat(x.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า y"}),p.jsx("textarea",{value:r.join(", "),onChange:y=>n(y.target.value.split(",").map(x=>parseFloat(x.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:T,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:S,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:C,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:c,onLoad:N,onDelete:M,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ข้อมูล"}),p.jsxs("div",{className:"text-sm text-gray-400",children:["Polynomial Regression ใช้ประมาณค่าแนวโค้งเชิงเส้นลำดับ",p.jsx("b",{children:" m "})," ที่สอดคล้องกับข้อมูล (x, y) โดยหาค่าสัมประสิทธิ์จากสมการ Normal Equation"]}),s.length>0&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"สมการพหุนาม:"}),p.jsxs("div",{children:["y ="," ",s.map((y,x)=>`${je(y)}${x===0?"":`x^${x}`}`).join(" + ")]})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const c1="problems_nonlinearreg";async function NP(){const t=Ft(Ue(Ie,c1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function _P(t){return jt(Ue(Ie,c1),{...t,method:"nonlinearreg",createdAt:kt()})}async function f1(t){return Bt(Tt(Ie,c1,t))}const Yce=NP,Zce=_P,efe=f1,tfe=f1,rfe=Object.freeze(Object.defineProperty({__proto__:null,del:tfe,deleteNonlinearRegProblem:f1,getNonlinearRegProblems:NP,getProblems:Yce,remove:efe,save:Zce,saveNonlinearRegProblem:_P},Symbol.toStringTag,{value:"Module"}));function nfe(){const[t,e]=W.useState([1,2,3,4,5]),[r,n]=W.useState([2.7,7.4,20.1,54.6,148.4]),[a,i]=W.useState("exponential"),[s,u]=W.useState(null),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(rfe);W.useEffect(()=>{d().catch(console.error)},[d]);const v=(x,w)=>{const g=x.length,_=x.reduce((B,P)=>B+P,0),E=w.reduce((B,P)=>B+P,0),b=x.reduce((B,P,L)=>B+P*w[L],0),A=x.reduce((B,P)=>B+P*P,0),I=(g*b-_*E)/(g*A-_**2);return{a:(E-I*_)/g,b:I}},T=(x,w,g)=>{if(x.length<2)throw new Error("ต้องมีข้อมูลอย่างน้อย 2 จุด");let E=[],b=[];if(g==="exponential")E=x,b=w.map(P=>Math.log(P));else if(g==="power")E=x.map(P=>Math.log(P)),b=w.map(P=>Math.log(P));else throw new Error("ไม่รู้จักโมเดลที่เลือก");const{a:A,b:I}=v(E,b);return{a:Math.exp(A),b:I}},S=()=>{try{const x=T(t,r,a);u(x),o("สถานะ: คำนวณเสร็จสิ้น")}catch(x){console.error(x),u(null),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},C=()=>{e([1,2,3,4,5]),n([2.7,7.4,20.1,54.6,148.4]),i("exponential"),u(null),o("สถานะ: รีเซ็ตแล้ว")},N=async()=>{try{const x={x:JSON.stringify(t),y:JSON.stringify(r),model:a,expr:`Nonlinear Regression (${a})`};await m(x),alert("บันทึกแล้ว!")}catch(x){alert("บันทึกไม่สำเร็จ: "+((x==null?void 0:x.message)||String(x)))}},M=x=>{try{e(JSON.parse(x.x)),n(JSON.parse(x.y)),i(x.model||"exponential")}catch{alert("ไม่สามารถโหลดโจทย์ได้")}},y=x=>{confirm("ลบโจทย์นี้ไหม?")&&h(x.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Nonlinear Regression",subtitle:"การประมาณค่าแบบไม่เชิงเส้น (Exponential / Power Model)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"เลือกโมเดล"}),p.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"w-full mb-3 px-2 py-1 rounded bg-slate-900 border border-slate-700",children:[p.jsx("option",{value:"exponential",children:"Exponential (y = a·e^(b·x))"}),p.jsx("option",{value:"power",children:"Power (y = a·x^b)"})]}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x"}),p.jsx("textarea",{value:t.join(", "),onChange:x=>e(x.target.value.split(",").map(w=>parseFloat(w.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า y"}),p.jsx("textarea",{value:r.join(", "),onChange:x=>n(x.target.value.split(",").map(w=>parseFloat(w.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:S,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:C,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:N,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:c,onLoad:M,onDelete:y,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsx("div",{className:"text-sm text-gray-400",children:"โมเดลนี้จะประมาณค่าพารามิเตอร์ a และ b โดยใช้การแปลงลอการิทึมเพื่อลดรูปเป็นเชิงเส้น"}),s&&p.jsxs("div",{className:"mt-4 text-sm text-gray-300",children:[p.jsx("div",{className:"mb-2",children:"สมการที่ได้:"}),a==="exponential"?p.jsxs("div",{children:["y = ",je(s.a)," · e^(",je(s.b),"x)"]}):p.jsxs("div",{children:["y = ",je(s.a)," · x^",je(s.b)]})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const d1="problems_single_trapezoidal";async function EP(){const t=Ft(Ue(Ie,d1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function SP(t){return jt(Ue(Ie,d1),{...t,method:"single_trapezoidal",createdAt:kt()})}async function m1(t){return Bt(Tt(Ie,d1,t))}const afe=EP,ife=SP,sfe=m1,ofe=m1,ufe=Object.freeze(Object.defineProperty({__proto__:null,del:ofe,deleteSingleTrapezoidalProblem:m1,getProblems:afe,getSingleTrapezoidalProblems:EP,remove:sfe,save:ife,saveSingleTrapezoidalProblem:SP},Symbol.toStringTag,{value:"Module"}));function lfe(){const[t,e]=W.useState("x^2 + 1"),[r,n]=W.useState(0),[a,i]=W.useState(2),[s,u]=W.useState("-"),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:c,removingIds:f,refresh:d,saveProblem:m,deleteProblem:h}=$t(ufe);W.useEffect(()=>{d().catch(console.error)},[d]);const v=x=>{try{return Rs(t,{x})}catch{throw new Error("ไม่สามารถประเมินสมการได้")}},T=(x,w,g)=>(w-x)/2*(g(x)+g(w)),S=()=>{try{const x=T(r,a,v);u(x),o("สถานะ: คำนวณสำเร็จ")}catch(x){console.error(x),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),u("-")}},C=()=>{e("x^2 + 1"),n(0),i(2),u("-"),o("สถานะ: รีเซ็ตแล้ว")},N=async()=>{try{await m({expr:t,a:r,b:a,method:"single_trapezoidal"}),alert("บันทึกแล้ว!")}catch(x){alert("บันทึกไม่สำเร็จ: "+((x==null?void 0:x.message)||String(x)))}},M=x=>{e(x.expr),n(x.a),i(x.b)},y=x=>{confirm("ลบโจทย์นี้ไหม?")&&h(x.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Single Trapezoidal Rule",subtitle:"หาค่าประมาณเชิงตัวเลขของการอินทิเกรตแบบ Trapezoidal (หนึ่งช่วง)"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ฟังก์ชัน f(x)"}),p.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3",placeholder:"กรอกสมการ เช่น x^2 + 1"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"a"}),p.jsx("input",{type:"number",value:r,onChange:x=>n(parseFloat(x.target.value)),className:"w-24 px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"b"}),p.jsx("input",{type:"number",value:a,onChange:x=>i(parseFloat(x.target.value)),className:"w-24 px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:S,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:C,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:N,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:c,onLoad:M,onDelete:y,removingIds:f})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsx("div",{className:"text-sm text-gray-400 mb-3",children:"ใช้สูตร: I = (h / 2) [f(a) + f(b)], โดย h = b - a"}),s!=="-"&&p.jsxs("div",{className:"text-gray-300 text-sm",children:[p.jsxs("p",{children:["h = ",je(a-r)]}),p.jsxs("p",{children:["f(a) = ",je(v(r)),", f(b) = ",je(v(a))]}),p.jsxs("p",{className:"mt-2",children:["ค่าประมาณของ I ≈ ",p.jsx("b",{children:je(s)})]})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const h1="problems_composite_trapezoidal";async function AP(){const t=Ft(Ue(Ie,h1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function DP(t){return jt(Ue(Ie,h1),{...t,method:"composite_trapezoidal",createdAt:kt()})}async function p1(t){return Bt(Tt(Ie,h1,t))}const cfe=AP,ffe=DP,dfe=p1,mfe=p1,hfe=Object.freeze(Object.defineProperty({__proto__:null,del:mfe,deleteCompositeTrapezoidalProblem:p1,getCompositeTrapezoidalProblems:AP,getProblems:cfe,remove:dfe,save:ffe,saveCompositeTrapezoidalProblem:DP},Symbol.toStringTag,{value:"Module"}));function pfe(){const[t,e]=W.useState("x^2 + 1"),[r,n]=W.useState(0),[a,i]=W.useState(2),[s,u]=W.useState(4),[l,o]=W.useState("-"),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState([]),{problems:h,removingIds:v,refresh:T,saveProblem:S,deleteProblem:C}=$t(hfe);W.useEffect(()=>{T().catch(console.error)},[T]);const N=E=>{try{return Rs(t,{x:E})}catch{throw new Error("ไม่สามารถประเมินสมการได้")}},M=(E,b,A,I)=>{const F=(b-E)/A;let B=I(E)+I(b);const P=[{i:0,x:E,fx:I(E)}];for(let $=1;$<A;$++){const k=E+$*F;B+=2*I(k),P.push({i:$,x:k,fx:I(k)})}return P.push({i:A,x:b,fx:I(b)}),{I:F/2*B,h:F,rows:P}},y=()=>{try{const{I:E,h:b,rows:A}=M(r,a,s,N);o(E),m(A),f(`สถานะ: คำนวณสำเร็จ (h = ${je(b)})`)}catch(E){console.error(E),o("-"),f("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),m([])}},x=()=>{e("x^2 + 1"),n(0),i(2),u(4),o("-"),f("สถานะ: รีเซ็ตแล้ว"),m([])},w=async()=>{try{await S({expr:t,a:r,b:a,n:s,method:"composite_trapezoidal"}),alert("บันทึกแล้ว!")}catch(E){alert("บันทึกไม่สำเร็จ: "+((E==null?void 0:E.message)||String(E)))}},g=E=>{e(E.expr),n(E.a),i(E.b),u(E.n)},_=E=>{confirm("ลบโจทย์นี้ไหม?")&&C(E.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Composite Trapezoidal Rule",subtitle:"การอินทิเกรตเชิงตัวเลขด้วย Trapezoidal หลายช่วงย่อย"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ฟังก์ชัน f(x)"}),p.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3",placeholder:"กรอกสมการ เช่น x^2 + 1"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"a"}),p.jsx("input",{type:"number",value:r,onChange:E=>n(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"b"}),p.jsx("input",{type:"number",value:a,onChange:E=>i(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"n"}),p.jsx("input",{type:"number",value:s,onChange:E=>u(Math.max(1,parseInt(E.target.value)||1)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:y,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:x,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:w,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:c}),p.jsx(Ut,{problems:h,onLoad:g,onDelete:_,removingIds:v})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsx("div",{className:"text-sm text-gray-400 mb-3",children:"ใช้สูตร: I = (h/2)[f(x₀) + 2∑f(xᵢ) + f(xₙ)], โดย h = (b - a)/n"}),d.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"i"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"xᵢ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"f(xᵢ)"})]})}),p.jsx("tbody",{children:d.map(E=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:E.i}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.x)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.fx)})]},E.i))})]})}),l!=="-"&&p.jsx("div",{className:"text-sm text-gray-300",children:p.jsxs("p",{children:["ค่าประมาณของ I ≈ ",p.jsx("b",{children:je(l)})]})})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const v1="problems_simpson";async function CP(){const t=Ft(Ue(Ie,v1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function TP(t){return jt(Ue(Ie,v1),{...t,method:"simpson",createdAt:kt()})}async function g1(t){return Bt(Tt(Ie,v1,t))}const vfe=CP,gfe=TP,yfe=g1,xfe=g1,bfe=Object.freeze(Object.defineProperty({__proto__:null,del:xfe,deleteSimpsonProblem:g1,getProblems:vfe,getSimpsonProblems:CP,remove:yfe,save:gfe,saveSimpsonProblem:TP},Symbol.toStringTag,{value:"Module"}));function wfe(){const[t,e]=W.useState("x^2 + 1"),[r,n]=W.useState(0),[a,i]=W.useState(2),[s,u]=W.useState(4),[l,o]=W.useState("-"),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState([]),{problems:h,removingIds:v,refresh:T,saveProblem:S,deleteProblem:C}=$t(bfe);W.useEffect(()=>{T().catch(console.error)},[T]);const N=E=>{try{return Rs(t,{x:E})}catch{throw new Error("ไม่สามารถประเมินสมการได้")}},M=(E,b,A,I)=>{if(A%2!==0)throw new Error("n ต้องเป็นจำนวนคู่เท่านั้น");const F=(b-E)/A;let B=I(E)+I(b);const P=[{i:0,x:E,fx:I(E)}];for(let $=1;$<A;$++){const k=E+$*F,V=I(k);B+=$%2===0?2*V:4*V,P.push({i:$,x:k,fx:V})}return P.push({i:A,x:b,fx:I(b)}),{I:F/3*B,h:F,rows:P}},y=()=>{try{const{I:E,h:b,rows:A}=M(r,a,s,N);o(E),m(A),f(`สถานะ: คำนวณสำเร็จ (h = ${je(b)})`)}catch(E){console.error(E),o("-"),f("สถานะ: "+(E.message||"เกิดข้อผิดพลาดในการคำนวณ")),m([])}},x=()=>{e("x^2 + 1"),n(0),i(2),u(4),o("-"),f("สถานะ: รีเซ็ตแล้ว"),m([])},w=async()=>{try{await S({expr:t,a:r,b:a,n:s,method:"simpson"}),alert("บันทึกแล้ว!")}catch(E){alert("บันทึกไม่สำเร็จ: "+((E==null?void 0:E.message)||String(E)))}},g=E=>{e(E.expr),n(E.a),i(E.b),u(E.n)},_=E=>{confirm("ลบโจทย์นี้ไหม?")&&C(E.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Simpson's Rule (1/3)",subtitle:"การอินทิเกรตเชิงตัวเลขด้วย Simpson’s Composite Rule"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ฟังก์ชัน f(x)"}),p.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3",placeholder:"กรอกสมการ เช่น x^2 + 1"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"a"}),p.jsx("input",{type:"number",value:r,onChange:E=>n(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"b"}),p.jsx("input",{type:"number",value:a,onChange:E=>i(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"n (คู่)"}),p.jsx("input",{type:"number",value:s,onChange:E=>u(Math.max(2,parseInt(E.target.value)||2)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:y,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:x,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:w,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:c}),p.jsx(Ut,{problems:h,onLoad:g,onDelete:_,removingIds:v})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร Simpson’s 1/3 Rule:",p.jsx("br",{}),"I = (h / 3) [f(x₀) + 4∑f(xᵢ_คี่) + 2∑f(xᵢ_คู่) + f(xₙ)]"]}),d.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"i"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"xᵢ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"f(xᵢ)"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"Weight"})]})}),p.jsx("tbody",{children:d.map(E=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:E.i}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.x)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.fx)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700 text-center",children:E.i===0||E.i===d.length-1?"1":E.i%2===0?"2":"4"})]},E.i))})]})}),l!=="-"&&p.jsx("div",{className:"text-sm text-gray-300",children:p.jsxs("p",{children:["ค่าประมาณของ I ≈ ",p.jsx("b",{children:je(l)})]})})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const y1="problems_composite_simpson";async function MP(){const t=Ft(Ue(Ie,y1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function IP(t){return jt(Ue(Ie,y1),{...t,method:"composite_simpson",createdAt:kt()})}async function x1(t){return Bt(Tt(Ie,y1,t))}const Nfe=MP,_fe=IP,Efe=x1,Sfe=x1,Afe=Object.freeze(Object.defineProperty({__proto__:null,del:Sfe,deleteCompositeSimpsonProblem:x1,getCompositeSimpsonProblems:MP,getProblems:Nfe,remove:Efe,save:_fe,saveCompositeSimpsonProblem:IP},Symbol.toStringTag,{value:"Module"}));function Dfe(){const[t,e]=W.useState("x^2 + 1"),[r,n]=W.useState(0),[a,i]=W.useState(2),[s,u]=W.useState(4),[l,o]=W.useState("-"),[c,f]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[d,m]=W.useState([]),{problems:h,removingIds:v,refresh:T,saveProblem:S,deleteProblem:C}=$t(Afe);W.useEffect(()=>{T().catch(console.error)},[T]);const N=E=>{try{return Rs(t,{x:E})}catch{throw new Error("ไม่สามารถประเมินสมการได้")}},M=(E,b,A,I)=>{if(A%2!==0)throw new Error("n ต้องเป็นจำนวนคู่เท่านั้น");const F=(b-E)/A;let B=I(E)+I(b);const P=[{i:0,x:E,fx:I(E)}];for(let $=1;$<A;$++){const k=E+$*F,V=I(k);B+=$%2===0?2*V:4*V,P.push({i:$,x:k,fx:V})}return P.push({i:A,x:b,fx:I(b)}),{I:F/3*B,h:F,rows:P}},y=()=>{try{const{I:E,h:b,rows:A}=M(r,a,s,N);o(E),m(A),f(`สถานะ: คำนวณสำเร็จ (h = ${je(b)})`)}catch(E){console.error(E),o("-"),f("สถานะ: "+(E.message||"เกิดข้อผิดพลาดในการคำนวณ")),m([])}},x=()=>{e("x^2 + 1"),n(0),i(2),u(4),o("-"),f("สถานะ: รีเซ็ตแล้ว"),m([])},w=async()=>{try{await S({expr:t,a:r,b:a,n:s,method:"composite_simpson"}),alert("บันทึกแล้ว!")}catch(E){alert("บันทึกไม่สำเร็จ: "+((E==null?void 0:E.message)||String(E)))}},g=E=>{e(E.expr),n(E.a),i(E.b),u(E.n)},_=E=>{confirm("ลบโจทย์นี้ไหม?")&&C(E.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Composite Simpson’s Rule (1/3)",subtitle:"การอินทิเกรตเชิงตัวเลขแบบหลายช่วงด้วย Simpson’s Rule"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ฟังก์ชัน f(x)"}),p.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value),className:"w-full px-3 py-2 rounded bg-slate-900 border border-slate-700 mb-3",placeholder:"กรอกสมการ เช่น x^2 + 1"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"a"}),p.jsx("input",{type:"number",value:r,onChange:E=>n(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"b"}),p.jsx("input",{type:"number",value:a,onChange:E=>i(parseFloat(E.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"n (คู่)"}),p.jsx("input",{type:"number",value:s,onChange:E=>u(Math.max(2,parseInt(E.target.value)||2)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:y,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:x,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:w,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:c}),p.jsx(Ut,{problems:h,onLoad:g,onDelete:_,removingIds:v})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsx("div",{className:"text-sm text-gray-400 mb-3",children:"สูตร: I = (h/3) [f(x₀) + 4∑f(xᵢ_คี่) + 2∑f(xᵢ_คู่) + f(xₙ)] โดย h = (b - a)/n, n ต้องเป็นจำนวนคู่"}),d.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"i"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"xᵢ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"f(xᵢ)"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"Weight"})]})}),p.jsx("tbody",{children:d.map(E=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:E.i}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.x)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(E.fx)}),p.jsx("td",{className:"px-2 py-1 border border-slate-700 text-center",children:E.i===0||E.i===d.length-1?"1":E.i%2===0?"2":"4"})]},E.i))})]})}),l!=="-"&&p.jsx("div",{className:"text-sm text-gray-300",children:p.jsxs("p",{children:["ค่าประมาณของ I ≈ ",p.jsx("b",{children:je(l)})]})})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const b1="problems_first_divided";async function PP(){const t=Ft(Ue(Ie,b1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function FP(t){return jt(Ue(Ie,b1),{...t,method:"first_divided",createdAt:kt()})}async function w1(t){return Bt(Tt(Ie,b1,t))}const Cfe=PP,Tfe=FP,Mfe=w1,Ife=w1,Pfe=Object.freeze(Object.defineProperty({__proto__:null,del:Ife,deleteFirstDividedProblem:w1,getFirstDividedProblems:PP,getProblems:Cfe,remove:Mfe,save:Tfe,saveFirstDividedProblem:FP},Symbol.toStringTag,{value:"Module"}));function Ffe(){const[t,e]=W.useState(1),[r,n]=W.useState(2),[a,i]=W.useState(2),[s,u]=W.useState(5),[l,o]=W.useState(1.5),[c,f]=W.useState("-"),[d,m]=W.useState("-"),[h,v]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:T,removingIds:S,refresh:C,saveProblem:N,deleteProblem:M}=$t(Pfe);W.useEffect(()=>{C().catch(console.error)},[C]);const y=(b,A,I,F,B)=>{const P=(F-I)/(A-b),L=I+P*(B-b);return{f01:P,Px:L}},x=()=>{try{const{f01:b,Px:A}=y(t,r,a,s,l);m(b),f(A),v("สถานะ: คำนวณเสร็จสิ้น")}catch(b){console.error(b),v("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},w=()=>{e(1),n(2),i(2),u(5),o(1.5),f("-"),m("-"),v("สถานะ: รีเซ็ตแล้ว")},g=async()=>{try{await N({x0:t,x1:r,fx0:a,fx1:s,x:l,method:"first_divided"}),alert("บันทึกแล้ว!")}catch(b){alert("บันทึกไม่สำเร็จ: "+((b==null?void 0:b.message)||String(b)))}},_=b=>{e(b.x0),n(b.x1),i(b.fx0),u(b.fx1),o(b.x)},E=b=>{confirm("ลบโจทย์นี้ไหม?")&&M(b.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"First Divided-Difference",subtitle:"การประมาณเชิงเส้นด้วย Newton’s First Divided-Difference"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₀"}),p.jsx("input",{type:"number",value:t,onChange:b=>e(parseFloat(b.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"f(x₀)"}),p.jsx("input",{type:"number",value:a,onChange:b=>i(parseFloat(b.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₁"}),p.jsx("input",{type:"number",value:r,onChange:b=>n(parseFloat(b.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"f(x₁)"}),p.jsx("input",{type:"number",value:s,onChange:b=>u(parseFloat(b.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการประมาณ (x)"}),p.jsx("input",{type:"number",value:l,onChange:b=>o(parseFloat(b.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:x,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:w,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:g,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:h}),p.jsx(Ut,{problems:T,onLoad:_,onDelete:E,removingIds:S})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร: f[x₀, x₁] = (f(x₁) - f(x₀)) / (x₁ - x₀)",p.jsx("br",{}),"P₁(x) = f(x₀) + f[x₀, x₁](x - x₀)"]}),d!=="-"&&p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("p",{children:["f[x₀, x₁] = ",je(d)]}),p.jsxs("p",{className:"mt-1",children:["f(",l,") ≈ ",p.jsx("b",{children:je(c)})]})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const N1="problems_second_divided";async function RP(){const t=Ft(Ue(Ie,N1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function OP(t){return jt(Ue(Ie,N1),{...t,method:"second_divided",createdAt:kt()})}async function _1(t){return Bt(Tt(Ie,N1,t))}const Rfe=RP,Ofe=OP,Bfe=_1,jfe=_1,kfe=Object.freeze(Object.defineProperty({__proto__:null,del:jfe,deleteSecondDividedProblem:_1,getProblems:Rfe,getSecondDividedProblems:RP,remove:Bfe,save:Ofe,saveSecondDividedProblem:OP},Symbol.toStringTag,{value:"Module"}));function $fe(){const[t,e]=W.useState(1),[r,n]=W.useState(2),[a,i]=W.useState(3),[s,u]=W.useState(2),[l,o]=W.useState(5),[c,f]=W.useState(10),[d,m]=W.useState(2.5),[h,v]=W.useState("-"),[T,S]=W.useState("-"),[C,N]=W.useState("-"),[M,y]=W.useState("-"),[x,w]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),{problems:g,removingIds:_,refresh:E,saveProblem:b,deleteProblem:A}=$t(kfe);W.useEffect(()=>{E().catch(console.error)},[E]);const I=(k,V,ee,j,X,U,de)=>{const ue=(X-j)/(V-k),le=(U-X)/(ee-V),H=(le-ue)/(ee-k),J=j+ue*(de-k)+H*(de-k)*(de-V);return{f01:ue,f12:le,f012:H,Px:J}},F=()=>{try{const{f01:k,f12:V,f012:ee,Px:j}=I(t,r,a,s,l,c,d);v(k),S(V),N(ee),y(j),w("สถานะ: คำนวณสำเร็จ")}catch(k){console.error(k),w("สถานะ: เกิดข้อผิดพลาดในการคำนวณ")}},B=()=>{e(1),n(2),i(3),u(2),o(5),f(10),m(2.5),y("-"),v("-"),S("-"),N("-"),w("สถานะ: รีเซ็ตแล้ว")},P=async()=>{try{await b({x0:t,x1:r,x2:a,fx0:s,fx1:l,fx2:c,x:d,method:"second_divided"}),alert("บันทึกแล้ว!")}catch(k){alert("บันทึกไม่สำเร็จ: "+((k==null?void 0:k.message)||String(k)))}},L=k=>{e(k.x0),n(k.x1),i(k.x2),u(k.fx0),o(k.fx1),f(k.fx2),m(k.x)},$=k=>{confirm("ลบโจทย์นี้ไหม?")&&A(k.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Second Divided-Difference",subtitle:"การประมาณเชิงกำลังสองด้วย Newton’s Second Divided-Difference"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₀"}),p.jsx("input",{type:"number",value:t,onChange:k=>e(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1 mt-1",children:"f(x₀)"}),p.jsx("input",{type:"number",value:s,onChange:k=>u(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₁"}),p.jsx("input",{type:"number",value:r,onChange:k=>n(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1 mt-1",children:"f(x₁)"}),p.jsx("input",{type:"number",value:l,onChange:k=>o(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"x₂"}),p.jsx("input",{type:"number",value:a,onChange:k=>i(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1 mt-1",children:"f(x₂)"}),p.jsx("input",{type:"number",value:c,onChange:k=>f(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]})]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการประมาณ (x)"}),p.jsx("input",{type:"number",value:d,onChange:k=>m(parseFloat(k.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700"})]}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:F,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:B,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:P,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:x}),p.jsx(Ut,{problems:g,onLoad:L,onDelete:$,removingIds:_})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร:",p.jsx("br",{}),"f[x₀, x₁] = (f₁ - f₀) / (x₁ - x₀)",p.jsx("br",{}),"f[x₁, x₂] = (f₂ - f₁) / (x₂ - x₁)",p.jsx("br",{}),"f[x₀, x₁, x₂] = (f[x₁, x₂] - f[x₀, x₁]) / (x₂ - x₀)",p.jsx("br",{}),"P₂(x) = f₀ + f[x₀,x₁](x-x₀) + f[x₀,x₁,x₂](x-x₀)(x-x₁)"]}),C!=="-"&&p.jsxs("div",{className:"text-sm text-gray-300",children:[p.jsxs("p",{children:["f[x₀, x₁] = ",je(h)]}),p.jsxs("p",{children:["f[x₁, x₂] = ",je(T)]}),p.jsxs("p",{children:["f[x₀, x₁, x₂] = ",je(C)]}),p.jsxs("p",{className:"mt-2",children:["f(",d,") ≈ ",p.jsx("b",{children:je(M)})]})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const E1="problems_forward_divided";async function BP(){const t=Ft(Ue(Ie,E1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function jP(t){return jt(Ue(Ie,E1),{...t,method:"forward_divided",createdAt:kt()})}async function S1(t){return Bt(Tt(Ie,E1,t))}const Lfe=BP,zfe=jP,Vfe=S1,Ufe=S1,qfe=Object.freeze(Object.defineProperty({__proto__:null,del:Ufe,deleteForwardDividedProblem:S1,getForwardDividedProblems:BP,getProblems:Lfe,remove:Vfe,save:zfe,saveForwardDividedProblem:jP},Symbol.toStringTag,{value:"Module"}));function Hfe(){const[t,e]=W.useState([1,2,3,4]),[r,n]=W.useState([1,8,27,64]),[a,i]=W.useState(2.5),[s,u]=W.useState("-"),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(qfe);W.useEffect(()=>{h().catch(console.error)},[h]);const S=g=>{const _=g.length,E=[g.slice()];for(let b=1;b<_;b++){const A=E[b-1],I=[];for(let F=0;F<A.length-1;F++)I.push(A[F+1]-A[F]);E.push(I)}return E},C=(g,_,E)=>{const b=g.length,A=g[1]-g[0],I=S(_),F=(E-g[0])/A;let B=_[0];for(let P=1;P<b;P++){let L=I[P][0];for(let $=0;$<P;$++)L*=F-$;B+=L/ei(P)}return{result:B,table:I}},N=()=>{try{const{result:g,table:_}=C(t,r,a);u(g),f(_),o("สถานะ: คำนวณสำเร็จ")}catch(g){console.error(g),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),u("-"),f([])}},M=()=>{e([1,2,3,4]),n([1,8,27,64]),i(2.5),u("-"),o("สถานะ: รีเซ็ตแล้ว"),f([])},y=async()=>{try{const g={x:JSON.stringify(t),y:JSON.stringify(r),xFind:a,method:"forward_divided"};await v(g),alert("บันทึกแล้ว!")}catch(g){alert("บันทึกไม่สำเร็จ: "+((g==null?void 0:g.message)||String(g)))}},x=g=>{try{e(JSON.parse(g.x)),n(JSON.parse(g.y)),i(g.xFind)}catch{alert("ไม่สามารถโหลดโจทย์: ข้อมูลไม่ถูกต้อง")}},w=g=>{confirm("ลบโจทย์นี้ไหม?")&&T(g.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Forward Divided-Difference",subtitle:"Newton’s Forward Difference Interpolation"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x (คั่นด้วย ,)"}),p.jsx("textarea",{value:t.join(", "),onChange:g=>e(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า f(x) (คั่นด้วย ,)"}),p.jsx("textarea",{value:r.join(", "),onChange:g=>n(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการประมาณ (x)"}),p.jsx("input",{type:"number",value:a,onChange:g=>i(parseFloat(g.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:N,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:M,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:y,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:d,onLoad:x,onDelete:w,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร Newton’s Forward Difference:",p.jsx("br",{}),"P(x) = f₀ + uΔf₀ + (u(u−1)/2!)Δ²f₀ + (u(u−1)(u−2)/3!)Δ³f₀ + ...",p.jsx("br",{}),"โดย u = (x - x₀)/h"]}),c.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"ลำดับ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"Δⁿ f₀"})]})}),p.jsx("tbody",{children:c.map((g,_)=>p.jsxs("tr",{children:[p.jsxs("td",{className:"px-2 py-1 border border-slate-700 text-center",children:["Δ",_===0?"⁰":_]}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:g[0]!==void 0?je(g[0]):"-"})]},_))})]})}),s!=="-"&&p.jsxs("div",{className:"text-sm text-gray-300",children:["f(",a,") ≈ ",p.jsx("b",{children:je(s)})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const A1="problems_backward_divided";async function kP(){const t=Ft(Ue(Ie,A1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function $P(t){return jt(Ue(Ie,A1),{...t,method:"backward_divided",createdAt:kt()})}async function D1(t){return Bt(Tt(Ie,A1,t))}const Gfe=kP,Wfe=$P,Qfe=D1,Xfe=D1,Kfe=Object.freeze(Object.defineProperty({__proto__:null,del:Xfe,deleteBackwardDividedProblem:D1,getBackwardDividedProblems:kP,getProblems:Gfe,remove:Qfe,save:Wfe,saveBackwardDividedProblem:$P},Symbol.toStringTag,{value:"Module"}));function Jfe(){const[t,e]=W.useState([1,2,3,4]),[r,n]=W.useState([1,8,27,64]),[a,i]=W.useState(3.5),[s,u]=W.useState("-"),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(Kfe);W.useEffect(()=>{h().catch(console.error)},[h]);const S=g=>{const _=g.length,E=[g.slice()];for(let b=1;b<_;b++){const A=E[b-1],I=[];for(let F=1;F<A.length;F++)I.push(A[F]-A[F-1]);E.push(I)}return E},C=(g,_,E)=>{const b=g.length,A=g[1]-g[0],I=S(_),F=(E-g[b-1])/A;let B=_[b-1];for(let P=1;P<b;P++){let L=I[P][I[P].length-1];for(let $=0;$<P;$++)L*=F+$;B+=L/ei(P)}return{result:B,table:I}},N=()=>{try{const{result:g,table:_}=C(t,r,a);u(g),f(_),o("สถานะ: คำนวณสำเร็จ")}catch(g){console.error(g),o("สถานะ: เกิดข้อผิดพลาดในการคำนวณ"),u("-"),f([])}},M=()=>{e([1,2,3,4]),n([1,8,27,64]),i(3.5),u("-"),o("สถานะ: รีเซ็ตแล้ว"),f([])},y=async()=>{try{const g={x:JSON.stringify(t),y:JSON.stringify(r),xFind:a,method:"backward_divided"};await v(g),alert("บันทึกแล้ว!")}catch(g){alert("บันทึกไม่สำเร็จ: "+((g==null?void 0:g.message)||String(g)))}},x=g=>{try{e(JSON.parse(g.x)),n(JSON.parse(g.y)),i(g.xFind)}catch{alert("ไม่สามารถโหลดโจทย์: ข้อมูลไม่ถูกต้อง")}},w=g=>{confirm("ลบโจทย์นี้ไหม?")&&T(g.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Backward Divided-Difference",subtitle:"Newton’s Backward Difference Interpolation"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x (คั่นด้วย ,)"}),p.jsx("textarea",{value:t.join(", "),onChange:g=>e(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า f(x) (คั่นด้วย ,)"}),p.jsx("textarea",{value:r.join(", "),onChange:g=>n(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการประมาณ (x)"}),p.jsx("input",{type:"number",value:a,onChange:g=>i(parseFloat(g.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:N,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:M,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:y,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:d,onLoad:x,onDelete:w,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["ใช้สูตร Newton’s Backward Difference:",p.jsx("br",{}),"P(x) = fₙ + u∇fₙ + (u(u+1)/2!)∇²fₙ + (u(u+1)(u+2)/3!)∇³fₙ + ...",p.jsx("br",{}),"โดย u = (x - xₙ)/h"]}),c.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"ลำดับ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"∇ⁿ fₙ"})]})}),p.jsx("tbody",{children:c.map((g,_)=>p.jsxs("tr",{children:[p.jsxs("td",{className:"px-2 py-1 border border-slate-700 text-center",children:["∇",_===0?"⁰":_]}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:g[g.length-1]!==void 0?je(g[g.length-1]):"-"})]},_))})]})}),s!=="-"&&p.jsxs("div",{className:"text-sm text-gray-300",children:["f(",a,") ≈ ",p.jsx("b",{children:je(s)})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}const C1="problems_central_divided";async function LP(){const t=Ft(Ue(Ie,C1),Rt("createdAt","desc"));return(await Ot(t)).docs.map(r=>({id:r.id,...r.data()}))}async function zP(t){return jt(Ue(Ie,C1),{...t,method:"central_divided",createdAt:kt()})}async function T1(t){return Bt(Tt(Ie,C1,t))}const Yfe=LP,Zfe=zP,ede=T1,tde=T1,rde=Object.freeze(Object.defineProperty({__proto__:null,del:tde,deleteCentralDividedProblem:T1,getCentralDividedProblems:LP,getProblems:Yfe,remove:ede,save:Zfe,saveCentralDividedProblem:zP},Symbol.toStringTag,{value:"Module"}));function nde(){const[t,e]=W.useState([1,2,3,4,5]),[r,n]=W.useState([1,8,27,64,125]),[a,i]=W.useState(3),[s,u]=W.useState("-"),[l,o]=W.useState("สถานะ: ยังไม่ได้คำนวณ"),[c,f]=W.useState([]),{problems:d,removingIds:m,refresh:h,saveProblem:v,deleteProblem:T}=$t(rde);W.useEffect(()=>{h().catch(console.error)},[h]);const S=g=>{const _=g.length,E=[g.slice()];for(let b=1;b<_;b++){const A=E[b-1],I=[];for(let F=0;F<A.length-1;F++)I.push(A[F+1]-A[F]);E.push(I)}return E},C=(g,_,E)=>{const b=g.length;if(b<3)throw new Error("ต้องมีข้อมูลอย่างน้อย 3 จุด");const A=g[1]-g[0],I=Math.floor(b/2),F=(E-g[I])/A,B=S(_);let P=_[I];for(let L=1;L<b&&L<6;L++)if(L%2!==0){const $=Math.floor(L/2);let k=F;for(let V=1;V<L;V++)k*=(F*F-V*V)/(2*V+1);k*=B[L][I-$],P+=k/ei(L)}else{const $=L/2;let k=1;for(let V=0;V<$;V++)k*=F*F-V*V;k*=B[L][I-$],P+=k/ei(L)}return{result:P,table:B,u:F,h:A,m:I}},N=()=>{try{const{result:g,table:_}=C(t,r,a);u(g),f(_),o("สถานะ: คำนวณสำเร็จ")}catch(g){console.error(g),o("สถานะ: "+(g.message||"เกิดข้อผิดพลาดในการคำนวณ")),u("-"),f([])}},M=()=>{e([1,2,3,4,5]),n([1,8,27,64,125]),i(3),u("-"),o("สถานะ: รีเซ็ตแล้ว"),f([])},y=async()=>{try{const g={x:JSON.stringify(t),y:JSON.stringify(r),xFind:a,method:"central_divided"};await v(g),alert("บันทึกแล้ว!")}catch(g){alert("บันทึกไม่สำเร็จ: "+((g==null?void 0:g.message)||String(g)))}},x=g=>{try{e(JSON.parse(g.x)),n(JSON.parse(g.y)),i(g.xFind)}catch{alert("ไม่สามารถโหลดโจทย์ได้")}},w=g=>{confirm("ลบโจทย์นี้ไหม?")&&T(g.id)};return p.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[p.jsx(Mt,{title:"Central Divided-Difference",subtitle:"Newton’s Central Difference Interpolation"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay1",children:[p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า x (คั่นด้วย ,)"}),p.jsx("textarea",{value:t.join(", "),onChange:g=>e(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่า f(x) (คั่นด้วย ,)"}),p.jsx("textarea",{value:r.join(", "),onChange:g=>n(g.target.value.split(",").map(_=>parseFloat(_.trim())||0)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3 text-sm"}),p.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ค่าที่ต้องการประมาณ (x)"}),p.jsx("input",{type:"number",value:a,onChange:g=>i(parseFloat(g.target.value)),className:"w-full px-2 py-1 rounded bg-slate-900 border border-slate-700 mb-3"}),p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx("button",{onClick:N,className:"flex-1 btn-primary glow-btn py-2 rounded font-semibold",children:"คำนวณ"}),p.jsx("button",{onClick:M,className:"flex-1 btn-danger border border-slate-600 py-2 rounded",children:"รีเซ็ต"})]}),p.jsx("button",{onClick:y,className:"w-full btn-primary glow-btn py-2 rounded mb-3",children:"บันทึกโจทย์"}),p.jsx("div",{className:"text-sm mb-2",children:l}),p.jsx(Ut,{problems:d,onLoad:x,onDelete:w,removingIds:m})]}),p.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow fade-in-delay2",children:[p.jsx("h3",{className:"text-gray-300 mb-2",children:"ผลลัพธ์"}),p.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["สูตร Newton’s Central Difference:",p.jsx("br",{}),"P(x) = fₘ + uδfₘ + (u(u−1)/2!)δ²fₘ + (u(u−1)(u+1)/3!)δ³fₘ + …",p.jsx("br",{}),"โดย u = (x − xₘ)/h"]}),c.length>0&&p.jsx("div",{className:"overflow-x-auto mb-3 text-sm text-gray-300",children:p.jsxs("table",{className:"min-w-full border border-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-700",children:[p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"ลำดับ"}),p.jsx("th",{className:"px-2 py-1 border border-slate-600",children:"δⁿ fₘ"})]})}),p.jsx("tbody",{children:c.map((g,_)=>p.jsxs("tr",{children:[p.jsxs("td",{className:"px-2 py-1 border border-slate-700 text-center",children:["δ",_===0?"⁰":_]}),p.jsx("td",{className:"px-2 py-1 border border-slate-700",children:je(g[Math.floor(g.length/2)])})]},_))})]})}),s!=="-"&&p.jsxs("div",{className:"text-sm text-gray-300",children:["f(",a,") ≈ ",p.jsx("b",{children:je(s)})]})]})]}),p.jsx("div",{className:"text-sm text-gray-400 mt-6 fade-in-delay3",children:"© By KaiMaiRuh"})]})}function ade(){return p.jsx(M6,{basename:"/Numerical-web",children:p.jsxs(_6,{children:[p.jsx(wt,{path:"/",element:p.jsx(O6,{})}),p.jsx(wt,{path:"/bisection",element:p.jsx(G8,{})}),p.jsx(wt,{path:"/falseposition",element:p.jsx(K8,{})}),p.jsx(wt,{path:"/onepoint",element:p.jsx(J8,{})}),p.jsx(wt,{path:"/taylor",element:p.jsx(Bue,{})}),p.jsx(wt,{path:"/newtonraphson",element:p.jsx($ue,{})}),p.jsx(wt,{path:"/secant",element:p.jsx(Vue,{})}),p.jsx(wt,{path:"/cramer",element:p.jsx(Que,{})}),p.jsx(wt,{path:"/gaussian",element:p.jsx(ele,{})}),p.jsx(wt,{path:"/gaussjordan",element:p.jsx(sle,{})}),p.jsx(wt,{path:"/matrixinversion",element:p.jsx(dle,{})}),p.jsx(wt,{path:"/ludecomposition",element:p.jsx(yle,{})}),p.jsx(wt,{path:"/cholesky",element:p.jsx(Ele,{})}),p.jsx(wt,{path:"/jacobi",element:p.jsx(Mle,{})}),p.jsx(wt,{path:"/gaussseidel",element:p.jsx(Ble,{})}),p.jsx(wt,{path:"/conjugategradient",element:p.jsx(Vle,{})}),p.jsx(wt,{path:"/lagrangeinterp",element:p.jsx(Qle,{})}),p.jsx(wt,{path:"/linearinterp",element:p.jsx(ece,{})}),p.jsx(wt,{path:"/quadraticinterp",element:p.jsx(sce,{})}),p.jsx(wt,{path:"/polynomialinterp",element:p.jsx(dce,{})}),p.jsx(wt,{path:"/linearspline",element:p.jsx(yce,{})}),p.jsx(wt,{path:"/quadraticspline",element:p.jsx(Ece,{})}),p.jsx(wt,{path:"/cubicspline",element:p.jsx(Mce,{})}),p.jsx(wt,{path:"/singlelinear",element:p.jsx(Bce,{})}),p.jsx(wt,{path:"/multiplelinear",element:p.jsx(Hce,{})}),p.jsx(wt,{path:"/polynomialreg",element:p.jsx(Jce,{})}),p.jsx(wt,{path:"/nonlinearreg",element:p.jsx(nfe,{})}),p.jsx(wt,{path:"/singletrapezoidal",element:p.jsx(lfe,{})}),p.jsx(wt,{path:"/compositetrapezoidal",element:p.jsx(pfe,{})}),p.jsx(wt,{path:"/simpsonsrule",element:p.jsx(wfe,{})}),p.jsx(wt,{path:"/compositesimpson",element:p.jsx(Dfe,{})}),p.jsx(wt,{path:"/firstdivided",element:p.jsx(Ffe,{})}),p.jsx(wt,{path:"/seconddivided",element:p.jsx($fe,{})}),p.jsx(wt,{path:"/forwarddivided",element:p.jsx(Hfe,{})}),p.jsx(wt,{path:"/backwarddivided",element:p.jsx(Jfe,{})}),p.jsx(wt,{path:"/centraldivided",element:p.jsx(nde,{})})]})})}NC(document.getElementById("root")).render(p.jsx(W.StrictMode,{children:p.jsx(ade,{})}));
